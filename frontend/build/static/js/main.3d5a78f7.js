/*! For license information please see main.3d5a78f7.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||A}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||A}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,p(b,m.prototype),b.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+L(l,0):o,E(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var u=o+L(a=e[c],c);l+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=o+L(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},P={transition:null},O={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:P,ReactCurrentOwner:w};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,n){return B.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,n){return B.current.useReducer(e,t,n)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return B.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return B.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,A=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,P(C);else{var t=r(u);null!==t&&O(E,t.startTime-e)}}function C(e,n){p=!1,g&&(g=!1,v(k),k=-1),A=!0;var o=h;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!I());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&O(E,d.startTime-n),l=!1}return l}finally{f=null,h=o,A=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,T=null,k=-1,x=5,L=-1;function I(){return!(t.unstable_now()-L<x)}function R(){if(null!==T){var e=t.unstable_now();L=e;var n=!0;try{n=T(!0,e)}finally{n?w():(S=!1,T=null)}}else S=!1}if("function"===typeof y)w=function(){y(R)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,B=D.port2;D.port1.onmessage=R,w=function(){B.postMessage(null)}}else w=function(){m(R,0)};function P(e){T=e,S||(S=!0,w())}function O(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||A||(p=!0,P(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,O(E,o-s))):(e.sortIndex=a,n(c,e),p||A||(p=!0,P(C))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},245:e=>{self,e.exports=function(){var e={4500:function(e,t,n){"use strict";n.d(t,{default:function(){return gr}});var r="0.10.42",i=n(69986),o=n.n(i);function s(e){return e?e.replace(/^\s+|\s+$/g,""):""}var a=function(e){if(!e||"rtmp"==e.substr(0,4))return"";var t=function(e){var t="";return/[(,]format=mpd-/i.test(e)?t="mpd":/[(,]format=m3u8-/i.test(e)&&(t="m3u8"),t}(e);return t||((e=e.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():"")};function l(e){var t=parseInt(e,10);if(!e)return"00:00";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t-3600*n-60*r;return r<10&&(r="0"+r),i<10&&(i="0"+i),n>0?n+":"+r+":"+i:r+":"+i}function c(e,t){if(!e)return 0;if(o().isNumber(e)&&!o().isNaN(e))return e;var n=(e=e.replace(",",".")).split(":"),r=n.length,i=0;if("s"===e.slice(-1))i=parseFloat(e);else if("m"===e.slice(-1))i=60*parseFloat(e);else if("h"===e.slice(-1))i=3600*parseFloat(e);else if(r>1){var s=r-1;4===r&&(t&&(i=parseFloat(n[s])/t),s-=1),i+=parseFloat(n[s]),i+=60*parseFloat(n[s-1]),r>=3&&(i+=3600*parseFloat(n[s-2]))}else i=parseFloat(e);return o().isNaN(i)?0:i}function u(e){var t={},n=e.split("\r\n");1===n.length&&(n=e.split("\n"));var r=1;if(n[0].indexOf(" --\x3e ")>0&&(r=0),n.length>r+1&&n[r+1]){var i=n[r],o=i.indexOf(" --\x3e ");o>0&&(t.start=c(i.substr(0,o)),t.end=c(i.substr(o+5)),t.text=n.slice(r+1).join("\r\n"))}return t}var d=window.VTTCue,f={"":!0,lr:!0,rl:!0},h={start:!0,middle:!0,end:!0,left:!0,right:!0};function A(e){return"string"==typeof e&&!!h[e.toLowerCase()]&&e.toLowerCase()}function p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}d||((d=function(e,t,n){var r=this,i=/MSIE\s8\.0/.test(navigator.userAgent),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var s="",a=!1,l=e,c=t,u=n,d=null,h="",g=!0,m="auto",v="start",y=50,b="middle",E=50,C="middle";if(Object.defineProperty(r,"id",p({},o,{get:function(){return s},set:function(e){s=""+e}})),Object.defineProperty(r,"pauseOnExit",p({},o,{get:function(){return a},set:function(e){a=!!e}})),Object.defineProperty(r,"startTime",p({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",p({},o,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",p({},o,{get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",p({},o,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",p({},o,{get:function(){return h},set:function(e){var t=function(e){return"string"==typeof e&&!!f[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",p({},o,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",p({},o,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",p({},o,{get:function(){return v},set:function(e){var t=A(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",p({},o,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",p({},o,{get:function(){return b},set:function(e){var t=A(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",p({},o,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",p({},o,{get:function(){return C},set:function(e){var t=A(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),r.displayState=void 0,i)return r}).prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)});var g=d,m={"":!0,up:!0};function v(e){return"number"==typeof e&&e>=0&&e<=100}var y=function(){var e=100,t=3,n=0,r=100,i=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!v(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!v(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!v(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!v(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!v(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=function(e){return"string"==typeof e&&!!m[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})},b=function(){};function E(e,t){return void 0===t&&(t=1),"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}var C=1;function w(e,t,n){switch(n){case"webvtt.font.color":case"webvtt.font.opacity":var r=Services.prefs.getCharPref("webvtt.font.color"),i=Services.prefs.getIntPref("webvtt.font.opacity")/100;S.fontSet=E(r,i);break;case"webvtt.font.scale":C=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var o=Services.prefs.getCharPref("webvtt.bg.color"),s=Services.prefs.getIntPref("webvtt.bg.opacity")/100;S.backgroundSet=E(o,s);break;case"webvtt.edge.color":case"webvtt.edge.type":var a=Services.prefs.getIntPref("webvtt.edge.type"),l=Services.prefs.getCharPref("webvtt.edge.color");S.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][a]+E(l)}}if("undefined"!=typeof Services){var S={};["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(e){w(0,0,e),Services.prefs.addObserver(e,w,!1)}))}var T=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function k(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function x(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function L(){this.values=T(null)}function I(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var s=i[o].split(n);2===s.length&&t(s[0],s[1])}}function R(e,t,n){var r=e;function i(){var t=x(e);if(null===t)throw new k(k.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.substr(0,3))throw new k(k.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),o(),t.endTime=i(),o(),function(e){var t=new L;I(e,(function(e,r){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===r){t.set(e,n[i].region);break}break;case"vertical":t.alt(e,r,["rl","lr"]);break;case"line":var o=r.split(","),s=o[0];t.integer(e,s),t.percent(e,s)&&t.set("snapToLines",!1),t.alt(e,s,["auto"]),2===o.length&&t.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=r.split(","),t.percent(e,o[0]),2===o.length&&t.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":t.percent(e,r);break;case"align":t.alt(e,r,["start","middle","end","left","right"])}}),/:/,/\s/)}(e)}k.prototype=T(Error.prototype),k.prototype.constructor=k,k.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},L.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var D={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},B={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},P={v:"title",lang:"lang"},O={rt:"ruby"};function M(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]+>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return D[e]}function i(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],r);return e}function o(e,t){return!O[t.localName]||O[t.localName]===e.localName}function s(t,n){var r=B[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=P[t];return o&&n&&(i[o]=n.trim()),i}for(var a,l=e.document.createElement("div"),c=l,u=[];null!==(a=n());)if("<"!==a[0])c.appendChild(e.document.createTextNode(i(a)));else{if("/"===a[1]){u.length&&u[u.length-1]===a.substr(2).replace(">","")&&(u.pop(),c=c.parentNode);continue}var d,f=x(a.substr(1,a.length-2));if(f){d=e.document.createProcessingInstruction("timestamp",f),c.appendChild(d);continue}var h=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(d=s(h[1],h[3])))continue;if(!o(c,d))continue;h[2]&&(d.className=h[2].substr(1).replace("."," ")),u.push(h[1]),c.appendChild(d),c=d}return l}var _=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function F(){}function N(e,t,n){var r="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)",s="";void 0!==S&&(i=S.fontSet,o=S.backgroundSet,s=S.edgeSet),r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),F.call(this),this.cue=t,this.cueDiv=M(e,t.text);var a={color:i,backgroundColor:o,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=function(e){var t,n=[],r="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?(e.length=0,r[0]):n}return"ruby"===t.tagName?o(e):t.childNodes?(i(e,t),o(e)):void 0}for(i(n,e);r=o(n);)for(var s=0;s<r.length;s++){t=r.charCodeAt(s);for(var a=0;a<_.length;a++)if(_[a]===t)return"rtl"}return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function U(e){var t,n,r,i,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function Q(e,t,n,r){var i=new U(t),o=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),a=[];if(o.snapToLines){var l;switch(o.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=i.lineHeight,u=c*Math.round(s),d=n[l]+c,f=a[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),s<0&&(u+=""===o.vertical?n.height:n.width,a=a.reverse()),i.move(f,u)}else{var h=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],i=new U(t)}var A=function(e,t){for(var i,o=new U(e),s=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(r);)e.move(t[a]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(i=new U(e),s=l),e=new U(o)}return i||o}(i,a);t.move(A.toCSSCompatValues(n))}F.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},F.prototype.formatStyle=function(e,t){return 0===e?0:e+t},N.prototype=T(F.prototype),N.prototype.constructor=N,U.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},U.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},U.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},U.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},U.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},U.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},U.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},U.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},b.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},b.convertCueToDOMTree=function(e,t){return e&&t?M(e,t):null},b.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=U.getSimpleBoxPosition(r),s={font:Math.round(.05*o.height*100)/100*C+"px sans-serif"};!function(){for(var n,a,l=0;l<t.length;l++)a=t[l],n=new N(e,a,s),r.appendChild(n.div),Q(0,n,o,i),a.displayState=n.div,i.push(U.getSimpleBoxPosition(n))}()}else for(var a=0;a<t.length;a++)r.appendChild(t[a].displayState)},(b.Parser=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof k))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e,t){var n=this;function r(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),r}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var o=(i=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new k(k.Errors.BadSignature);n.state="HEADER"}for(var s=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(s?s=!1:i=r(),n.state){case"HEADER":/:/.test(i)?I(i,(function(e,t){"Region"===e&&function(e){var t=new L;if(I(e,(function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new L;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}}),/=/,/\s/),t.has("id")){var r=new y;r.width=t.get("width",100),r.lines=t.get("lines",3),r.regionAnchorX=t.get("regionanchorX",0),r.regionAnchorY=t.get("regionanchorY",100),r.viewportAnchorX=t.get("viewportanchorX",0),r.viewportAnchorY=t.get("viewportanchorY",100),r.scroll=t.get("scroll",""),n.onregion&&n.onregion(r),n.regionList.push({id:t.get("id"),region:r})}}(t)}),/:/):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new g(0,0,""),n.state="CUE",-1===i.indexOf("--\x3e")){n.cue.id=i;continue}case"CUE":try{R(i,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var a=-1!==i.indexOf("--\x3e");if(!i||a&&(s=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=i;continue;case"BADCUE":i||(n.state="ID");continue}}if(!t)return"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.flush(),this}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse(null,!0)),"INITIAL"===e.state)throw new k(k.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var G=b,j=function(){var e="";screen.width&&(e+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));var t,n,r,i=navigator.appVersion,o=navigator.userAgent,s=navigator.appName,a=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10);-1!=(n=o.indexOf("Opera"))&&(s="Opera",a=o.substring(n+6),-1!=(n=o.indexOf("Version"))&&(a=o.substring(n+8))),-1!=(n=o.indexOf("OPR"))?(s="Opera",a=o.substring(n+4)):-1!=(n=o.indexOf("SamsungBrowser"))?(s="SamsungBrowser",a=o.substring(n+15)):-1!=(n=o.indexOf("Edge"))?(s="Microsoft Edge",a=o.substring(n+5)):-1!=(n=o.indexOf("MSIE"))?(s="Microsoft Internet Explorer",a=o.substring(n+5),-1!==o.indexOf("Trident/")&&-1!==o.indexOf("rv:")&&(a=o.substring(o.indexOf("rv:")+3))):-1!=(n=o.indexOf("Chrome"))?(s="Chrome",a=o.substring(n+7)):-1!=(n=o.indexOf("CriOS"))?(s="Chrome",a=o.substring(n+6)):-1!=(n=o.indexOf("Firefox"))?(s="Firefox",a=o.substring(n+8)):-1!=(n=o.indexOf("FxiOS"))?(s="Firefox",a=o.substring(n+6)):-1!=(n=o.indexOf("Safari"))?(s="Safari",a=o.substring(n+7),-1!=(n=o.indexOf("Version"))&&(a=o.substring(n+8))):-1!==o.indexOf("Trident/")?(s="Microsoft Internet Explorer",a=o.substring(o.indexOf("rv:")+3)):(t=o.lastIndexOf(" ")+1)<(n=o.lastIndexOf("/"))&&(s=o.substring(t,n),a=o.substring(n+1),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)),o.indexOf(" wv"),-1!=(r=a.indexOf(";"))&&(a=a.substring(0,r)),-1!=(r=a.indexOf(" "))&&(a=a.substring(0,r)),-1!=(r=a.indexOf(")"))&&(a=a.substring(0,r)),l=parseInt(""+a,10),isNaN(l)&&(a=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10));var c=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(i),u=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||u||(document.cookie="testcookie",u=-1!=document.cookie.indexOf("testcookie"));var d="-",f=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS XI",r:/Mac OS X 11/},{s:"Mac OS X",r:/Mac OS X 10/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var h in f){var A=f[h];if(A.r.test(o)){d=A.s;break}}var p="-";switch(/Windows/.test(d)&&(p=/Windows (.*)/.exec(d)[1],d="Windows"),d){case"Mac OS XI":p=/Mac OS X (11[\.\_\d]+)/.exec(o)[1];break;case"Mac OS X":p=/Mac OS X (10[\.\_\d]+)/.exec(o)[1];break;case"Android":p=/Android ([\.\_\d]+)/.exec(o)[1];break;case"iOS":p=(p=/OS (\d+)_(\d+)_?(\d+)?/.exec(i))?p[1]+"."+p[2]+"."+(0|p[3]):""}return{screen:e,browser:s,browserVersion:a,browserMajorVersion:l,mobile:c,ua:o,os:d,osVersion:p,cookies:u}},W=/<sync|<\/body|<\/sami/i,z=/\r\n?|\n/g,H=/<[a-z]*[^>]*<[a-z]*/g,Y=/<sync[^>]+?start[^=]*=[^0-9]*([0-9]*)["^0-9"]*/i,V=/<br[^>]*>/gi,K=function(e,t){return t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""}))},q=function(e){return e.sort((function(e,t){var n;return 0==(n=e.start-t.start)?e.end-t.end:n}))},X=function(){var e={},t=function(e){return e.map((function(e){return new g(e.start,e.end,e.text)}))};return e.load=function(e,n,r,i){fetch(e.file).then((function(e){e.ok?e.text().then((function(e){var i=[],o=[];if(e.indexOf("WEBVTT")>=0){OvenPlayerConsole.log("WEBVTT LOADED");var a=new G.Parser(window,G.StringDecoder());o=[],a.oncue=function(e){o.push(e)},a.onflush=function(){r(o)},a.parse(e),a.flush()}else if(e.indexOf("SAMI")>=0){OvenPlayerConsole.log("SAMI LOADED");var l=function(e,t){var n,r,i,o,s,a,l,c,u,d;if(l=function(){var t,n,r,s,l,c,u,f,h,A,p,g,m,v,y,b;for(n=function(e){var n;return(n=new Error(e)).line=u,n.context=t,i.push(n)},u=1,h=[],m={},g=e;A=g.search(),!(f<=0||A<0);)f=g.slice(A+1).search(W)+1,t=f>0?g.slice(A,A+f):g.slice(A),u+=(null!=(v=g.slice(0,A).match(z))?v.length:void 0)||0,H.test(t)&&n("ERROR_BROKEN_TAGS"),g=g.slice(A+f),(null===(p=+(null!=(y=t.match(Y))?parseFloat(y[1]/1e3):void 0))||p<0)&&n("ERROR_INVALID_TIME"),(l=o(t))||n("ERROR_INVALID_LANGUAGE"),u+=(null!=(b=t.match(z))?b.length:void 0)||0,t=(t=t.replace(z,"")).replace(V,"\n"),s={start:p,text:"",contents:r=K(t).trim()},l&&(s.text=r),m[l]||(m[l]=[]),s.start&&m[l].push(s);d=d||function(){var e,t,n=window.navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(n.languages))for(e=0;e<n.languages.length;e++)if((t=n.languages[e])&&t.length)return t;for(e=0;e<r.length;e++)if((t=n[r[e]])&&t.length)return t;return null}();var E=Object.keys(m);return E&&E.length>0&&(c=E.indexOf(d)>-1?m[d]:m[E.filter((function(e){return"undefined"!==e}))[0]],c=q(c),c=a(c),h=h.concat(c)),q(h)},o=function(e){var t,r;if(e)for(t in n)if((r=n[t]).reClassName.test(e))return r.lang},a=function(e){var t,n,i;for(t=e.length;t--;)n=e[t],null!=(i=e[t-1])&&(i.end=n.start),n.contents&&"&nbsp;"!==n.contents?(delete e[t].contents,n.end||(n.end=n.start+r)):e.splice(t,1);return e},i=[],n={KRCC:{lang:"ko",reClassName:new RegExp("class[^=]*?=[\"'S]*(KRCC)['\"S]?","i")},KOCC:{lang:"ko",reClassName:new RegExp("class[^=]*?=[\"'S]*(KOCC)['\"S]?","i")},KR:{lang:"ko",reClassName:new RegExp("class[^=]*?=[\"'S]*(KR)['\"S]?","i")},ENCC:{lang:"en",reClassName:new RegExp("class[^=]*?=[\"'S]*(ENCC)['\"S]?","i")},EGCC:{lang:"en",reClassName:new RegExp("class[^=]*?=[\"'S]*(EGCC)['\"S]?","i")},EN:{lang:"en",reClassName:new RegExp("class[^=]*?=[\"'S]*(EN)['\"S]?","i")},JPCC:{lang:"ja",reClassName:new RegExp("class[^=]*?=[\"'S]*(JPCC)['\"S]?","i")}},null!=t?t.definedLangs:void 0)for(s in u=t.definedLangs)c=u[s],n[s]=c;return r=(null!=t?t.duration:void 0)||10,d=t.fixedLang,e=e.trim(),{result:l(),errors:i}}(e,{fixedLang:n});o=t(l.result),r(o)}else OvenPlayerConsole.log("SRT LOADED"),i=function(e){var t=[],n=(e=s(e)).split("\r\n\r\n");1===n.length&&(n=e.split("\n\n"));for(var r=0;r<n.length;r++)if("WEBVTT"!==n[r]){var i=u(n[r]);i.text&&t.push(i)}return t}(e),o=t(i),r(o)})).catch((function(e){i(e)})):i(e.status)})).catch((function(e){i(e)}))},e},Z="idle",J="complete",$="paused",ee="playing",te="error",ne="loading",re="stalled",ie="adLoaded",oe="adPlaying",se="adPaused",ae="adComplete",le="adError",ce="html5",ue="webrtc",de="dash",fe="hls",he=J,Ae="ready",pe="destroy",ge="playlistChanged",me="allPlaylistEnded",ve="unstableNetwork",ye="error",be="stateChanged",Ee=J,Ce="pause",we="play",Se="clicked",Te="resized",ke="fullscreenChanged",xe="warning",Le="zoomChanged",Ie="adChanged",Re="adTime",De="bufferChanged",Be="time",Pe="volumeChanged",Oe="mute",Me="metaChanged",_e="sourceChanged",Fe="qualityLevelChanged",Ne="cueChanged",Ue="captionChanged",Qe="timeDisplayModeChanged",Ge="p2pMode",je="audioTrackChanged",We={codes:""},ze=[{lang:"en",ui:{context:"About OvenPlayer",controls:{live:"Live Streaming",low_latency_live:"Sub-Second Latency Streaming",low_latency_p2p:"Sub-Second Latency P2P"},playlist:"Playlist",quality:{auto:"Auto"},setting:{title:"Settings",speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom"}},api:{message:{muted_play:"Please touch here to turn on the sound."},error:{100:{code:100,message:"Can not load due to unknown reasons.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Can not load due to playable media not found.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Can not load due to dash.js. Please use the latest dash.js.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Error initializing DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Error initializing HLS.",reason:"Error initializing HLS."},107:{code:107,message:"Error initializing DRM.",reason:"Error initializing DRM."},300:{code:300,message:"Can not play due to unknown reasons.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Fetching process aborted by user.",reason:"Fetching process aborted by user."},302:{code:302,message:"Some of the media could not be downloaded due to a network error.",reason:"Error occurred when downloading."},303:{code:303,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"Error occurred when decoding."},304:{code:304,message:"Media playback has been canceled. It looks like your media is corrupted or your browser does not support the features your media uses.",reason:"Media playback not supported."},305:{code:305,message:"Can not load captions due to unknown reasons.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server refused the request."},308:{code:308,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server do not accept the request."},501:{code:501,message:"Connection with low-latency(OME) server failed.",reason:"WebSocket connection failed."},502:{code:502,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC internal error."},510:{code:510,message:"Network connection is unstable. Check the network connection.",reason:"Network is slow."},511:{code:511,message:"Connection with low-latency(OME) terminated unexpectedly.",reason:"Unexpected end of connection."},512:{code:512,message:"Connection with low-latency(OME) server failed.",reason:"Connection timeout."}}}},{lang:"ko",ui:{context:"\uc624\ube10\ud50c\ub808\uc774\uc5b4\uc5d0 \uad00\ud558\uc5ec",controls:{live:"\ub77c\uc774\ube0c",low_latency_live:"\ucd08\uc800\uc9c0\uc5f0 \ub77c\uc774\ube0c",low_latency_p2p:"\ucd08\uc800\uc9c0\uc5f0 P2P"},playlist:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8",quality:{auto:"\uc790\ub3d9"},setting:{title:"\uc124\uc815",speed:"\uc7ac\uc0dd \uc18d\ub3c4",speedUnit:"x",source:"\uc18c\uc2a4",quality:"\ud488\uc9c8",audioTrack:"\uc624\ub514\uc624",caption:"\uc790\ub9c9",display:"\ud45c\uc2dc",zoom:"Zoom"}},api:{message:{muted_play:"\ub20c\ub7ec\uc11c \uc18c\ub9ac \ucf1c\uae30"},error:{100:{code:100,message:"\uc54c \uc218 \uc5c6\ub294 \uc774\uc720\ub85c \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",reason:"\uc54c \uc218 \uc5c6\ub294 \uc774\uc720\ub85c \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."},101:{code:101,message:"\uc9c0\uc6d0\ub418\ub294 \ubbf8\ub514\uc5b4\ub97c \ucc3e\uc9c0 \ubabb\ud574 \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",reason:"Can not load due to playable media not found."},102:{code:102,message:"\ud50c\ub808\uc2dc \ub85c\ub4dc\uac00 \uc911\ub2e8 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"DashJS\ub85c \uc778\ud574 \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ucd5c\uc2e0 dash.js\ub97c \uc0ac\uc6a9\ud574 \uc8fc\uc138\uc694.",reason:"dash.js version is old."},104:{code:104,message:"Google IMA \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc5c6\uc5b4 \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",reason:"Please check the google ima library."},105:{code:105,message:"DASH \ucd08\uae30\ud654 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",reason:"Error initializing DASH."},106:{code:106,message:"HLS \ucd08\uae30\ud654 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",reason:"Error initializing HLS."},107:{code:107,message:"DRM \ucd08\uae30\ud654 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",reason:"Error initializing DRM."},300:{code:300,message:"\uc54c \uc218 \uc5c6\ub294 \uc774\uc720\ub85c \uc7ac\uc0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"\uc0ac\uc6a9\uc790\uc5d0 \uc758\ud55c \ud504\ub85c\uc138\uc2a4 \uc911\ub2e8.",reason:"Fetching process aborted by user."},302:{code:302,message:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958\ub85c \uc778\ud574 \uc77c\ubd80 \ubbf8\ub514\uc5b4\ub97c \ub2e4\uc6b4\ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",reason:"Error occurred when downloading."},303:{code:303,message:"\ubbf8\ub514\uc5b4\ub97c \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc11c\ubc84 \ub610\ub294 \ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ub610\ub294 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ud615\uc2dd\uc73c\ub85c \uc778\ud574 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",reason:"Error occurred when decoding."},304:{code:304,message:"\ubbf8\ub514\uc5b4 \uc7ac\uc0dd\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ubbf8\ub514\uc5b4\uac00 \uc190\uc0c1\ub418\uc5c8\uac70\ub098 \ube0c\ub77c\uc6b0\uc800\uac00 \ubbf8\ub514\uc5b4\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \uac83 \uac19\uc2b5\ub2c8\ub2e4.",reason:"Media playback not supported."},305:{code:305,message:"\uc54c \uc218 \uc5c6\ub294 \uc774\uc720\ub85c \uc790\ub9c9\uc744 \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"\ubbf8\ub514\uc5b4\ub97c \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc11c\ubc84 \ub610\ub294 \ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ub610\ub294 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ud615\uc2dd\uc73c\ub85c \uc778\ud574 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",reason:"The server cannot or will not process the request."},307:{code:307,message:"\ubbf8\ub514\uc5b4\ub97c \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc11c\ubc84 \ub610\ub294 \ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ub610\ub294 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ud615\uc2dd\uc73c\ub85c \uc778\ud574 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",reason:"The server refused the request."},308:{code:308,message:"\ubbf8\ub514\uc5b4\ub97c \ub85c\ub4dc \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc11c\ubc84 \ub610\ub294 \ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ub610\ub294 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ud615\uc2dd\uc73c\ub85c \uc778\ud574 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",reason:"The server do not accept the request."},501:{code:501,message:"\uc6f9\uc18c\ucf13 \uc5f0\uacb0 \uc2e4\ud328",reason:"WebSocket connection failed."},502:{code:502,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"WebRTC internal error."},510:{code:510,message:"\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc774 \ubd88\uc548\uc815\ud569\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud558\uc2ed\uc2dc\uc624.",reason:"Network is slow."},511:{code:511,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"Unexpected end of connection."},512:{code:512,message:"\uc800\uc9c0\uc5f0(OME) \uc11c\ubc84\uc640 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",reason:"Connection timeout."}}}},{lang:"pl",ui:{context:"O OvenPlayer",controls:{live:"Transmisja na \u017cywo",low_latency_live:"Transmisja z niskim op\xf3\u017anieniem",low_latency_p2p:"Transmisja z niskim op\xf3\u017anieniem P2P"},playlist:"Playlista",quality:{auto:"Auto"},setting:{title:"Ustawienia",speed:"Pr\u0119dko\u015b\u0107",speedUnit:"x",source:"\u0179rod\u0142o",quality:"Jako\u015b\u0107",audioTrack:"Audio",caption:"Podtytu\u0142",display:"Wy\u015bwietlacz",zoom:"Zoom"}},api:{message:{muted_play:"Naci\u015bnij tutaj, aby aktywowa\u0107 d\u017awi\u0119k"},error:{100:{code:100,message:"Nie mo\u017cna za\u0142adowa\u0107 z nieznanego powodu.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Nie mo\u017cna za\u0142adowa\u0107, poniewa\u017c nie znaleziono multimedi\xf3w, kt\xf3ry mo\u017cna odtworzy\u0107.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Nie mo\u017cna za\u0142adowa\u0107, poniewa\u017c wersja dash.js jest za stara.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Nie mo\u017cna za\u0142adowa\u0107, nie znaleziono DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Nie mo\u017cna za\u0142adowa\u0107, nie znaleziono hlsjs.",reason:"Error initializing HLS"},107:{code:107,message:"Nie mo\u017cna za\u0142adowa\u0107, nie znaleziono DRM.",reason:"Error initializing DRM"},300:{code:300,message:"Nie mo\u017cna odtworzy\u0107 z nieznanego powodu.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Proces pobierania przerwany przez u\u017cytkownika.",reason:"Fetching process aborted by user."},302:{code:302,message:"Nie uda\u0142o si\u0119 pobra\u0107 niekt\xf3rych multimedi\xf3w z powodu b\u0142\u0119du sieci.",reason:"Error occurred when downloading."},303:{code:303,message:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 niekt\xf3rych multimedi\xf3w. Mo\u017ce by\u0107 to spowodowane problemem z serwerem, sieci\u0105 lub niewspieranym formatem.",reason:"Error occurred when decoding."},304:{code:304,message:"Odtwarzanie zosta\u0142o anulowane. Wygl\u0105da na to, \u017ce plik jest uszkodzony lub Twoja przegl\u0105darka nie obs\u0142uguje tego pliku.",reason:"Media playback not supported."},305:{code:305,message:"Nie mo\u017cna wczyta\u0107 napis\xf3w z nieznanego powodu.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 niekt\xf3rych multimedi\xf3w. Mo\u017ce by\u0107 to spowodowane problemem z serwerem, sieci\u0105 lub niewspieranym formatem.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 niekt\xf3rych multimedi\xf3w. Mo\u017ce by\u0107 to spowodowane problemem z serwerem, sieci\u0105 lub niewspieranym formatem.",reason:"The server refused the request."},308:{code:308,message:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 niekt\xf3rych multimedi\xf3w. Mo\u017ce by\u0107 to spowodowane problemem z serwerem, sieci\u0105 lub niewspieranym formatem.",reason:"The server do not accept the request."},501:{code:501,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"WebSocket connection failed."},502:{code:502,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"WebRTC internal error."},510:{code:510,message:"Po\u0142\u0105czenie sieciowe jest niestabilne. Sprawd\u017a swoj\u0105 sie\u0107.",reason:"Network is slow."},511:{code:511,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nieoczekiwanie zako\u0144czone.",reason:"Unexpected end of connection."},512:{code:512,message:"Po\u0142\u0105czenie z serwerem niskiego op\xf3\u017anienia (OME) nie powiod\u0142o si\u0119.",reason:"Connection timeout."}}}}],He=function(e){return"subtitles"===e||"captions"===e};function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Ve(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("object"===Ye(t[n])&&null!==t[n]&&"object"===Ye(e[n])&&null!==e[n]?Ve(e[n],t[n]):e[n]=t[n]);return e}var Ke=function(e){var t=e,n=[],r=function(e,t,n){var r=0,i=e.length;for(r=0;r<i;r++){var o=e[r];o.listener.apply(o.context||n,t)}};return t.on=function(e,r,i){return(n[e]||(n[e]=[])).push({listener:r,context:i}),t},t.trigger=function(e){if(!n)return!1;var i=[].slice.call(arguments,1),o=n[e],s=n.all;o&&r(o,i,t),s&&r(s,arguments,t)},t.off=function(e,r,i){if(!n)return!1;if(!e&&!r&&!i)return n=[],t;for(var o=e?[e]:Object.keys(n),s=0,a=o.length;s<a;s++){e=o[s];var l=n[e];if(l){var c=n[e]=[];if(r||i)for(var u=0,d=l.length;u<d;u++){var f=l[u];(r&&r!==f.listener&&r!==f.listener.listener&&r!==f.listener._listener||i&&i!==f.context)&&c.push(f)}c.length||delete n[e]}}return t},t.once=function(e,n,r){var i=0,o=function(){i++||(t.off(e,o),n.apply(t,arguments))};return o._listener=n,t.on(e,o,r)},t},qe=(n(53439),function(e){var t={},n=null,r=function(e,t){var n=e.querySelectorAll(t);return n.length>1?n:n[0]};return(n=o().isElement(e)||o().every(e,(function(e){return o().isElement(e)}))?e:"document"===e?document:"window"===e?window:r(document,e))?(t.show=function(){n.style.display="block"},t.hide=function(){n.style.display="none"},t.addClass=function(e){n.classList?n.classList.add(e):-1===n.className.split(" ").indexOf(e)&&(n.className+=" "+e)},t.after=function(e){n.insertAdjacentHTML("afterend",e)},t.append=function(e){n.appendChild(e)},t.before=function(e){n.insertAdjacentHTML("beforebegin",e)},t.children=function(){return n.children||[]},t.contains=function(e){return n!==e&&n.contains(e)},t.empty=function(){n.innerHTML=""},t.find=function(e){return qe(r(n,e))},t.css=function(e,t){if(!t)return n.style[e];n.length>0?n.forEach((function(n){n.style[e]=t})):n.style[e]=t},t.removeClass=function(e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},t.removeAttribute=function(e){n.removeAttribute(e)},t.text=function(e){if(void 0===e)return n.textContent;n.textContent=e},t.html=function(e){n.innerHTML=e},t.hasClass=function(e){return n.classList?n.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(n.name)},t.is=function(e){return n===e},t.offset=function(){var e=n.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},t.width=function(){return n.clientWidth},t.height=function(){return n.clientHeight},t.attr=function(e){return n.getAttribute(e)},t.replace=function(e){n.replaceWith(e)},t.remove=function(){n.length>1?n.parentElement.removeChild(n):n.remove()},t.removeChild=function(e){if(e)n.removeChild(e);else for(;n.hasChildNodes();)n.removeChild(n.firstChild)},t.get=function(){return n},t.closest=function(e){n.closest=function(e){var t=n;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};var t=n.closest(e);return t?qe(t):null},t):null}),Xe=qe,Ze=function(e,t){if(e)return 0==e.indexOf("rtmp:")||"rtmp"==t},Je=function(e,t){return!!e&&(0===e.indexOf("ws:")||0===e.indexOf("wss:")||"webrtc"===t)},$e=function(e,t){if(e)return"hls"===t||"m3u8"===t||"application/vnd.apple.mpegurl"===t||"m3u8"==a(e)},et=function(e,t){if(e)return"mpd"===t||"dash"===t||"application/dash+xml"===t||"mpd"==a(e)},tt=function(e){if(!e)return null;var t=null;if("string"==typeof e)t=document.getElementById(e);else{if(!e.nodeType)return null;t=e}return t},nt=function(){var e={};OvenPlayerConsole.log("SupportChecker loaded.");var t=j(),n=[{name:"html5",checkSupport:function(e){var n=document.createElement("video");if(!n.canPlayType)return!1;var r=e.file,i=e.type,o=e.overrideNative;if(!i)return!1;var s=e.mimeType||{aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"}[i];return!($e(r,i)&&"iOS"!==t.os||$e(r,i)&&("Microsoft Edge"===t.browser||"Android"===t.os)||$e(r,i)&&o||Ze(r,i)||Je(r,i)||!s||!n.canPlayType(s))}},{name:"webrtc",checkSupport:function(e){if(!document.createElement("video").canPlayType)return!1;if(Ze(t,n))return!1;var t=e.file,n=e.type;return!!Je(t,n)}},{name:"dash",checkSupport:function(e){var t=e.file,n=e.type;return!Ze(t,n)&&!("function"!=typeof(window.MediaSource||window.WebKitMediaSource)||!et(t,n))}},{name:"hls",checkSupport:function(e){document.createElement("video");var t,n,r,i,o=e.file,s=e.type;return!Ze(o,s)&&(t=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}(),n=window.SourceBuffer||window.WebKitSourceBuffer,r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove,!!r&&!!i)}},{name:"rtmp",checkSupport:function(e){var n=e.file,r=e.type;return!(!Ze(n,r)||!function(){var e=!1;if("ActiveXObject"in window)try{e=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){e=!1}else e=!!navigator.mimeTypes["application/x-shockwave-flash"];return e}()||"Microsoft Edge"===t.browser||"Android"===t.os||"iOS"===t.os||"Safari"===t.browser)}}];return e.findProviderNameBySource=function(e){OvenPlayerConsole.log("SupportChecker : findProviderNameBySource()",e);for(var t=e===Object(e)?e:{},r=0;r<n.length;r++)if(n[r].checkSupport(t))return n[r].name},e.findProviderNamesByPlaylist=function(t){OvenPlayerConsole.log("SupportChecker : findProviderNamesByPlaylist()",t);var n=[],r=t;if(r&&r.sources){for(var i=0;i<r.sources.length;i++){var o=r.sources[i];if(o){var s=e.findProviderNameBySource(o);s&&n.push(s)}}return n}return null},e},rt="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",it=function(e,t){t&&(t.setState(te),t.pause(),t.trigger(ye,e))},ot=function(e,t){var n=0;if(e)if(-1===t.getSourceIndex()){for(var r=0;r<e.length;r++)if(e[r].default){n=r;break}}else n=t.getSourceIndex();return n},st=function(e,t,n,r,i){var o,s="admanagerLoadingTimeout",a="",l="",c={},u=!1,d=!1,f={started:!1,active:!1,isVideoEnded:!1},h=null,A=null,p=null,g=null,m=null,v=null,y=null,b=!1,E=!1,C=n.getBrowser(),w="Android"===C.os||"iOS"===C.os;OvenPlayerConsole.log("IMA : started ","isMobile : ",w,r);try{a=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,l=google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.settings.setLocale(n.getLanguage()),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),A=function(e){console.log(e.getError().getVastErrorCode(),e.getError().getMessage()),d=!0;var n=e.getError().getInnerError();if(n)try{console.log(n.getErrorCode(),n.getMessage())}catch(e){}t.trigger(le,{code:e.getError().getVastErrorCode(),message:e.getError().getMessage()}),f.active=!1,f.started=!0,t.play()},h=function(n){OvenPlayerConsole.log("IMA : OnManagerLoaded ");var r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,m&&(OvenPlayerConsole.log("IMA : destroy adsManager----"),v.destroy(),v=null,m.destroy(),m=null),m=n.getAdsManager(e,r),v=function(e,t,n,r){var i={},o={},s=null,a=google.ima.AdEvent.Type.AD_BUFFERING,l=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,c=google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,u=google.ima.AdErrorEvent.Type.AD_ERROR,d=google.ima.AdEvent.Type.ALL_ADS_COMPLETED,f=google.ima.AdEvent.Type.CLICK,h=google.ima.AdEvent.Type.SKIPPED,A=google.ima.AdEvent.Type.COMPLETE,p=google.ima.AdEvent.Type.FIRST_QUARTILE,g=google.ima.AdEvent.Type.LOADED,m=google.ima.AdEvent.Type.MIDPOINT,v=google.ima.AdEvent.Type.PAUSED,y=google.ima.AdEvent.Type.RESUMED,b=google.ima.AdEvent.Type.STARTED,E=google.ima.AdEvent.Type.USER_CLOSE,C=google.ima.AdEvent.Type.THIRD_QUARTILE,w=!1,S=null;return OvenPlayerConsole.log("IMA : Listener Created"),o[l]=function(e){OvenPlayerConsole.log("IMA LISTENER : ",e.type),n.started&&(n.active=!0,t.pause())},o[c]=function(e){OvenPlayerConsole.log("IMA LISTENER : ",e.type),n.active=!1,!n.started||0!==t.getPosition()&&n.isVideoEnded||t.play()},o[u]=function(e){w=!0,r(e)},o[d]=function(e){OvenPlayerConsole.log("IMA LISTENER : ",e.type),w=!0,n.isVideoEnded&&t.setState(J)},o[f]=function(e){OvenPlayerConsole.log(e.type),t.trigger(Se,{type:"adclick"})},o[p]=function(e){OvenPlayerConsole.log(e.type)},o[a]=function(e){OvenPlayerConsole.log("AD_BUFFERING",e.type)},o[g]=function(n){OvenPlayerConsole.log(n.type);var r=e.getRemainingTime(),i=n.getAd();t.trigger(ie,{remaining:r,isLinear:i.isLinear()})},o[m]=function(e){OvenPlayerConsole.log(e.type)},o[v]=function(e){OvenPlayerConsole.log(e.type),t.setState(se)},o[y]=function(e){OvenPlayerConsole.log(e.type),t.setState(oe)},o[b]=function(r){OvenPlayerConsole.log(r.type);var i=r.getAd();S=i;var o={isLinear:i.isLinear(),duration:i.getDuration(),skipTimeOffset:i.getSkipTimeOffset()};t.trigger(Ie,o),i.isLinear()?(t.setState(oe),n.started=!0,s=setInterval((function(){var n=e.getRemainingTime(),r=i.getDuration();t.trigger(Re,{duration:r,skipTimeOffset:i.getSkipTimeOffset(),remaining:n,position:r-n,skippable:e.getAdSkippableState()})}),300)):t.play()},o[A]=function(e){OvenPlayerConsole.log(e.type),e.getAd().isLinear()&&clearInterval(s),t.trigger(ae)},o[h]=function(e){OvenPlayerConsole.log(e.type),e.getAd().isLinear()&&clearInterval(s),t.trigger(ae)},o[E]=function(e){OvenPlayerConsole.log(e.type),e.getAd().isLinear()&&clearInterval(s),t.trigger(ae)},o[C]=function(e){OvenPlayerConsole.log(e.type)},Object.keys(o).forEach((function(t){e.removeEventListener(t,o[t]),e.addEventListener(t,o[t])})),i.setAdCompleteCallback=function(e){},i.isAllAdComplete=function(){return w},i.isLinearAd=function(){return!S||S.isLinear()},i.destroy=function(){OvenPlayerConsole.log("IMAEventListener : destroy()"),Object.keys(o).forEach((function(t){e.removeEventListener(t,o[t])}))},i}(m,t,f,A),OvenPlayerConsole.log("IMA : created admanager and listner "),u=!0};var S=((o=document.createElement("div")).setAttribute("class","op-ads"),o.setAttribute("id","op-ads"),n.getContainer().append(o),o);p=new google.ima.AdDisplayContainer(S,e),(g=new google.ima.AdsLoader(p)).addEventListener(a,h,!1),g.addEventListener(l,A,!1),OvenPlayerConsole.log("IMA : adDisplayContainer initialized"),t.on(Pe,(function(e){m&&(e.mute?m.setVolume(0):m.setVolume(e.volume/100))}),c);var T=function(){y&&(OvenPlayerConsole.log("IMA : setADWillAutoPlay ","autoplayAllowed",b,"autoplayRequiresMuted",E),y.setAdWillAutoPlay(b),y.setAdWillPlayMuted(E),E&&t.trigger(xe,{message:"Please touch here to turn on the sound.",timer:1e4,iconClass:"volume-mute",onClickCallback:function(){t.setMute(!1)}}))};return c.isActive=function(){return f.active},c.started=function(){return f.started},c.play=function(){return f.started?new Promise((function(e,t){try{m.resume(),e()}catch(e){t(e)}})):(p.initialize(),new Promise((function(i,o){var a=0,l=function(){a++,u?(OvenPlayerConsole.log("IMA : ad start!"),m.init("100%","100%",google.ima.ViewMode.NORMAL),m.start(),f.started=!0,i()):d?o(new Error(s)):a<150?setTimeout(l,100):o(new Error(s))};(function(){OvenPlayerConsole.log("IMA : checkAutoplaySupport() ");var n=document.createElement("video");n.setAttribute("playsinline","true"),n.src=rt,n.load(),w&&t.getName()!==de&&e.load();var r=function(e,t){b=e,E=t,n.pause(),n.remove(),T()};return new Promise((function(e,t){if(n.play){var i=n.play();void 0!==i?i.then((function(){OvenPlayerConsole.log("IMA : auto play allowed."),r(!0,!1),e()})).catch((function(t){OvenPlayerConsole.log("IMA : auto play failed",t.message),r(!1,!1),e()})):(OvenPlayerConsole.log("IMA : promise not support"),r(!0,!1),e())}else OvenPlayerConsole.log("IMA : !temporarySupportCheckVideo.play"),r(!0,!1),e()}))})().then((function(){n.isAutoStart()&&!b?(OvenPlayerConsole.log("IMA : autoplayAllowed : false"),f.started=!1,o(new Error("autoplayNotAllowed"))):(u=!1,OvenPlayerConsole.log("IMA : initRequest() AutoPlay Support : ","autoplayAllowed",b,"autoplayRequiresMuted",E),(y=new google.ima.AdsRequest).forceNonLinearFullSlot=!1,T(),y.adTagUrl=r,g.requestAds(y),OvenPlayerConsole.log("IMA : requestAds Complete"),l())}))})))},c.pause=function(){m.pause()},c.videoEndedCallback=function(e){!v||!v.isAllAdComplete()&&v.isLinearAd()?d?e():(f.isVideoEnded=!0,g.contentComplete()):e()},c.destroy=function(){g&&(g.removeEventListener(a,h),g.removeEventListener(l,A)),m&&m.destroy(),p&&p.destroy(),v&&v.destroy();var e=Xe(n.getContainer()).find(".op-ads");e&&e.remove(),t.off(Pe,null,c)},c}catch(e){return null}};function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function lt(e,t,n){return t=ut(t),function(e,t){if(t&&("object"==at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ct()?Reflect.construct(t,n||[],ut(e).constructor):t.apply(e,n))}function ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ct=function(){return!!e})()}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}function dt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ft(e,t)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pt(r.key),r)}}function At(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e){var t=function(e){if("object"!=at(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==at(t)?t:t+""}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var mt=At((function e(){gt(this,e),this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]})),vt=At((function e(){gt(this,e),this.attributes={},this.children=[]})),yt=At((function e(){gt(this,e),this.name=null,this.value=null,this.attributes={}})),bt=At((function e(){gt(this,e),this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}})),Et=At((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gt(this,e),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={}})),Ct=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gt(this,t),(e=lt(this,t,[n])).type="companion",e.variations=[],e}return dt(t,e),At(t)}(Et);function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];for(var r in t.ASSETURI&&(t.ASSETURI=St(t.ASSETURI)),t.CONTENTPLAYHEAD&&(t.CONTENTPLAYHEAD=St(t.CONTENTPLAYHEAD)),t.ERRORCODE&&!/^[0-9]{3}$/.test(t.ERRORCODE)&&(t.ERRORCODE=900),t.CACHEBUSTING=Tt(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=St((new Date).toISOString()),t.RANDOM=t.random=t.CACHEBUSTING,e){var i=e[r];if("string"==typeof i){for(var o in t){var s=t[o],a="[".concat(o,"]"),l="%%".concat(o,"%%");i=(i=i.replace(a,s)).replace(l,s)}n.push(i)}}return n}function St(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16))}))}function Tt(e){return e.length<8?kt(0,8-e.length,!1).map((function(e){return"0"})).join("")+e:e}function kt(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,s=e;i?s<o:s>o;i?s++:s--)r.push(s);return r}var xt={track:function(e,t){wt(e,t).forEach((function(e){"undefined"!=typeof window&&null!==window&&((new Image).src=e)}))},resolveURLTemplates:wt,encodeURIComponentRFC3986:St,leftpad:Tt,range:kt,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])}},Lt=function(e,t){var n=e.childNodes;for(var r in n){var i=n[r];if(i.nodeName===t)return i}},It=function(e,t){var n=[],r=e.childNodes;for(var i in r){var o=r[i];o.nodeName===t&&n.push(o)}return n},Rt=function(e,t){if(!t)return e;if(0===e.indexOf("//")){var n=location.protocol;return"".concat(n).concat(e)}return-1===e.indexOf("://")?"".concat(t.slice(0,t.lastIndexOf("/")),"/").concat(e):e},Dt=function(e){return-1!==["true","TRUE","1"].indexOf(e)},Bt=function(e){return e&&(e.textContent||e.text||"").trim()},Pt=function(e,t,n){var r=t.getAttribute(e);r&&n.setAttribute(e,r)},Ot=function(e){if(null==e)return-1;if(xt.isNumeric(e))return parseInt(e);var t=e.split(":");if(3!==t.length)return-1;var n=t[2].split("."),r=parseInt(n[0]);2===n.length&&(r+=parseFloat("0.".concat(n[1])));var i=parseInt(60*t[1]),o=parseInt(60*t[0]*60);return isNaN(o)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:o+i+r},Mt=function(e){var t=[],n=null;return e.forEach((function(r,i){if(r.sequence&&(r.sequence=parseInt(r.sequence,10)),r.sequence>1){var o=e[i-1];if(o&&o.sequence===r.sequence-1)return void(n&&n.push(r));delete r.sequence}n=[r],t.push(n)})),t},_t=function(e,t){e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),e.creatives.forEach((function(e){if(t.trackingEvents&&t.trackingEvents[e.type])for(var n in t.trackingEvents[e.type]){var r=t.trackingEvents[e.type][n];e.trackingEvents[n]||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(r)}})),t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length&&e.creatives.forEach((function(e){"linear"===e.type&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates))})),t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length&&e.creatives.forEach((function(e){"linear"===e.type&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates))})),t.videoClickThroughURLTemplate&&e.creatives.forEach((function(e){"linear"===e.type&&null==e.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)}))};function Ft(e,t){var n=new Ct(t);return It(e,"Companion").forEach((function(e){var t=new bt;t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.companionClickTrackingURLTemplates=[],It(e,"HTMLResource").forEach((function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Bt(e)})),It(e,"IFrameResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=Bt(e)})),It(e,"StaticResource").forEach((function(n){t.type=n.getAttribute("creativeType")||0,It(e,"AltText").forEach((function(e){t.altText=Bt(e)})),t.staticResource=Bt(n)})),It(e,"TrackingEvents").forEach((function(e){It(e,"Tracking").forEach((function(e){var n=e.getAttribute("event"),r=Bt(e);n&&r&&(null==t.trackingEvents[n]&&(t.trackingEvents[n]=[]),t.trackingEvents[n].push(r))}))})),It(e,"CompanionClickTracking").forEach((function(e){t.companionClickTrackingURLTemplates.push(Bt(e))})),t.companionClickThroughURLTemplate=Bt(Lt(e,"CompanionClickThrough")),t.companionClickTrackingURLTemplate=Bt(Lt(e,"CompanionClickTracking")),n.variations.push(t)})),n}var Nt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gt(this,t),(e=lt(this,t,[n])).type="linear",e.duration=0,e.skipDelay=null,e.mediaFiles=[],e.videoClickThroughURLTemplate=null,e.videoClickTrackingURLTemplates=[],e.videoCustomClickURLTemplates=[],e.adParameters=null,e.icons=[],e}return dt(t,e),At(t)}(Et),Ut=At((function e(){gt(this,e),this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null})),Qt=At((function e(){gt(this,e),this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}));function Gt(e,t){var n,r=new Nt(t);r.duration=Ot(Bt(Lt(e,"Duration")));var i=e.getAttribute("skipoffset");if(null==i)r.skipDelay=null;else if("%"===i.charAt(i.length-1)&&-1!==r.duration){var o=parseInt(i,10);r.skipDelay=r.duration*(o/100)}else r.skipDelay=Ot(i);var s=Lt(e,"VideoClicks");s&&(r.videoClickThroughURLTemplate=Bt(Lt(s,"ClickThrough")),It(s,"ClickTracking").forEach((function(e){r.videoClickTrackingURLTemplates.push(Bt(e))})),It(s,"CustomClick").forEach((function(e){r.videoCustomClickURLTemplates.push(Bt(e))})));var a=Lt(e,"AdParameters");a&&(r.adParameters=Bt(a)),It(e,"TrackingEvents").forEach((function(e){It(e,"Tracking").forEach((function(e){var t=e.getAttribute("event"),i=Bt(e);if(t&&i){if("progress"===t){if(!(n=e.getAttribute("offset")))return;t="%"===n.charAt(n.length-1)?"progress-".concat(n):"progress-".concat(Math.round(Ot(n)))}null==r.trackingEvents[t]&&(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i)}}))})),It(e,"MediaFiles").forEach((function(e){It(e,"MediaFile").forEach((function(e){var t=new Qt;t.id=e.getAttribute("id"),t.fileURL=Bt(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.apiFramework=e.getAttribute("apiFramework"),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);var n=e.getAttribute("scalable");n&&"string"==typeof n&&("true"===(n=n.toLowerCase())?t.scalable=!0:"false"===n&&(t.scalable=!1));var i=e.getAttribute("maintainAspectRatio");i&&"string"==typeof i&&("true"===(i=i.toLowerCase())?t.maintainAspectRatio=!0:"false"===i&&(t.maintainAspectRatio=!1)),r.mediaFiles.push(t)}))}));var l=Lt(e,"Icons");return l&&It(l,"Icon").forEach((function(e){var t=new Ut;t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.offset=Ot(e.getAttribute("offset")),t.duration=Ot(e.getAttribute("duration")),It(e,"HTMLResource").forEach((function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Bt(e)})),It(e,"IFrameResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=Bt(e)})),It(e,"StaticResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=Bt(e)}));var n=Lt(e,"IconClicks");n&&(t.iconClickThroughURLTemplate=Bt(Lt(n,"IconClickThrough")),It(n,"IconClickTracking").forEach((function(e){t.iconClickTrackingURLTemplates.push(Bt(e))}))),t.iconViewTrackingURLTemplate=Bt(Lt(e,"IconViewTracking")),r.icons.push(t)})),r}var jt,Wt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gt(this,t),(e=lt(this,t,[n])).type="nonlinear",e.variations=[],e}return dt(t,e),At(t)}(Et),zt=At((function e(){gt(this,e),this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}));function Ht(e,t){var n=new Wt(t);return It(e,"TrackingEvents").forEach((function(e){var t,r;It(e,"Tracking").forEach((function(e){t=e.getAttribute("event"),r=Bt(e),t&&r&&(null==n.trackingEvents[t]&&(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))}))})),It(e,"NonLinear").forEach((function(e){var t=new zt;t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=Dt(e.getAttribute("scalable")),t.maintainAspectRatio=Dt(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=Ot(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),It(e,"HTMLResource").forEach((function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Bt(e)})),It(e,"IFrameResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=Bt(e)})),It(e,"StaticResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=Bt(e)}));var r=Lt(e,"AdParameters");r&&(t.adParameters=Bt(r)),t.nonlinearClickThroughURLTemplate=Bt(Lt(e,"NonLinearClickThrough")),It(e,"NonLinearClickTracking").forEach((function(e){t.nonlinearClickTrackingURLTemplates.push(Bt(e))})),n.variations.push(t)})),n}function Yt(e){var t=e.childNodes;for(var n in t){var r=t[n];if(-1!==["Wrapper","InLine"].indexOf(r.nodeName)){if(Pt("id",e,r),Pt("sequence",e,r),"Wrapper"===r.nodeName)return Kt(r);if("InLine"===r.nodeName)return Vt(r)}}}function Vt(e){var t=e.childNodes,n=new mt;for(var r in n.id=e.getAttribute("id")||null,n.sequence=e.getAttribute("sequence")||null,t){var i=t[r];switch(i.nodeName){case"Error":n.errorURLTemplates.push(Bt(i));break;case"Impression":n.impressionURLTemplates.push(Bt(i));break;case"Creatives":It(i,"Creative").forEach((function(e){var t={id:e.getAttribute("id")||null,adId:Xt(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null};for(var r in e.childNodes){var i=e.childNodes[r];switch(i.nodeName){case"Linear":var o=Gt(i,t);o&&n.creatives.push(o);break;case"NonLinearAds":var s=Ht(i,t);s&&n.creatives.push(s);break;case"CompanionAds":var a=Ft(i,t);a&&n.creatives.push(a)}}}));break;case"Extensions":qt(n.extensions,It(i,"Extension"));break;case"AdSystem":n.system={value:Bt(i),version:i.getAttribute("version")||null};break;case"AdTitle":n.title=Bt(i);break;case"Description":n.description=Bt(i);break;case"Advertiser":n.advertiser=Bt(i);break;case"Pricing":n.pricing={value:Bt(i),model:i.getAttribute("model")||null,currency:i.getAttribute("currency")||null};break;case"Survey":n.survey=Bt(i)}}return n}function Kt(e){var t=Vt(e),n=Lt(e,"VASTAdTagURI");if(n?t.nextWrapperURL=Bt(n):(n=Lt(e,"VASTAdTagURL"))&&(t.nextWrapperURL=Bt(Lt(n,"URL"))),t.creatives.forEach((function(e){if(-1!==["linear","nonlinear"].indexOf(e.type)){if(e.trackingEvents){t.trackingEvents||(t.trackingEvents={}),t.trackingEvents[e.type]||(t.trackingEvents[e.type]={});var n=function(n){var r=e.trackingEvents[n];t.trackingEvents[e.type][n]||(t.trackingEvents[e.type][n]=[]),r.forEach((function(r){t.trackingEvents[e.type][n].push(r)}))};for(var r in e.trackingEvents)n(r)}e.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates||(t.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((function(e){t.videoClickTrackingURLTemplates.push(e)}))),e.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(t.videoCustomClickURLTemplates||(t.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((function(e){t.videoCustomClickURLTemplates.push(e)})))}})),t.nextWrapperURL)return t}function qt(e,t){t.forEach((function(t){var n=new vt,r=t.attributes,i=t.childNodes;if(t.attributes)for(var o in r){var s=r[o];s.nodeName&&s.nodeValue&&(n.attributes[s.nodeName]=s.nodeValue)}for(var a in i){var l=i[a],c=Bt(l);if("#comment"!==l.nodeName&&""!==c){var u=new yt;if(u.name=l.nodeName,u.value=c,l.attributes){var d=l.attributes;for(var f in d){var h=d[f];u.attributes[h.nodeName]=h.nodeValue}}n.children.push(u)}}e.push(n)}))}function Xt(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}function Zt(){}function Jt(){Jt.init.call(this)}function $t(e){return void 0===e._maxListeners?Jt.defaultMaxListeners:e._maxListeners}function en(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=new Zt,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=$t(e))&&i>0&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(a)}}else s=o[t]=n,++e._eventsCount;return e}function tn(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function nn(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function rn(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}Zt.prototype=Object.create(null),Jt.EventEmitter=Jt,Jt.usingDomains=!1,Jt.prototype.domain=void 0,Jt.prototype._events=void 0,Jt.prototype._maxListeners=void 0,Jt.defaultMaxListeners=10,Jt.init=function(){this.domain=null,Jt.usingDomains&&(!jt.active||this instanceof jt.Domain||(this.domain=jt.active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Zt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Jt.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Jt.prototype.getMaxListeners=function(){return $t(this)},Jt.prototype.emit=function(e){var t,n,r,i,o,s,a,l="error"===e;if(s=this._events)l=l&&null==s.error;else if(!l)return!1;if(a=this.domain,l){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(n=s[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=rn(e,r),o=0;o<r;++o)i[o].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=rn(e,i),s=0;s<i;++s)o[s].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=rn(e,o),a=0;a<o;++a)s[a].call(n,r,i)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,a=rn(e,s),l=0;l<s;++l)a[l].call(n,r,i,o)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=rn(e,i),s=0;s<i;++s)o[s].apply(n,r)}(n,u,this,i)}return!0},Jt.prototype.addListener=function(e,t){return en(this,e,t,!1)},Jt.prototype.on=Jt.prototype.addListener,Jt.prototype.prependListener=function(e,t){return en(this,e,t,!0)},Jt.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,tn(this,e,t)),this},Jt.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,tn(this,e,t)),this},Jt.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new Zt:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Zt,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,s||t)}return this},Jt.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Zt,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new Zt:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Zt,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Jt.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},Jt.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):nn.call(e,t)},Jt.prototype.listenerCount=nn,Jt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var on=function(e,t,n){var r="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0;if(!r)return n(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"));r.async=!1,request.open("GET",e),request.timeout=t.timeout||0,request.withCredentials=t.withCredentials||!1,request.send(),request.onprogress=function(){},request.onload=function(){r.loadXML(request.responseText),n(null,r)}},sn=function(){return window.XDomainRequest&&(e=new XDomainRequest),!!e;var e},an=function(e,t,n){n(new Error("Please bundle the library for node to use the node urlHandler"))};function ln(){try{var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null}catch(e){return console.log("Error in XHRURLHandler support check:",e),null}}var cn=function(e,t,n){if("https:"===window.location.protocol&&0===e.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var r=ln();r.open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n(null,r.responseXML):n(new Error("XHRURLHandler: ".concat(r.statusText))))},r.send()}catch(e){n(new Error("XHRURLHandler: Unexpected error"))}},un=function(){return!!ln()},dn={get:function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),"undefined"==typeof window||null===window?an(e,t,n):un()?cn(e,t,n):sn()?on(e,t,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},fn=At((function e(){gt(this,e),this.ads=[],this.errorURLTemplates=[]})),hn={ERRORCODE:900,extensions:[]},An=function(e){function t(){var e;return gt(this,t),(e=lt(this,t)).remainingAds=[],e.parentURLs=[],e.errorURLTemplates=[],e.rootErrorURLTemplates=[],e.maxWrapperDepth=null,e.URLTemplateFilters=[],e.fetchingOptions={},e}return dt(t,e),At(t,[{key:"addURLTemplateFilter",value:function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit("VAST-error",Object.assign.apply(Object,[hn,t].concat(r))),xt.track(e,t)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(e,t,n){var r=this;return new Promise((function(i,o){r.URLTemplateFilters.forEach((function(t){e=t(e)})),r.parentURLs.push(e),r.emit("VAST-resolving",{url:e,wrapperDepth:t,originalUrl:n}),r.urlHandler.get(e,r.fetchingOptions,(function(t,n){r.emit("VAST-resolved",{url:e,error:t}),t?o(t):i(n)}))}))}},{key:"initParsingStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.rootURL="",this.remainingAds=[],this.parentURLs=[],this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.maxWrapperDepth=e.wrapperLimit||10,this.fetchingOptions={timeout:e.timeout,withCredentials:e.withCredentials},this.urlHandler=e.urlhandler||dn}},{key:"getRemainingAds",value:function(e){var t=this;if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));var n=e?xt.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(n,{wrapperDepth:0,originalUrl:this.rootURL}).then((function(e){return t.buildVASTResponse(e)}))}},{key:"getAndParseVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),this.rootURL=e,this.fetchVAST(e).then((function(r){return n.originalUrl=e,n.isRootVAST=!0,t.parse(r,n).then((function(e){return t.buildVASTResponse(e)}))}))}},{key:"parseVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(e,n).then((function(e){return t.buildVASTResponse(e)}))}},{key:"buildVASTResponse",value:function(e){var t=new fn;return t.ads=e,t.errorURLTemplates=this.getErrorURLTemplates(),this.completeWrapperResolving(t),t}},{key:"parse",value:function(e,t){var n=t.resolveAll,r=void 0===n||n,i=t.wrapperSequence,o=void 0===i?null:i,s=t.originalUrl,a=void 0===s?null:s,l=t.wrapperDepth,c=void 0===l?0:l,u=t.isRootVAST,d=void 0!==u&&u;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName)return Promise.reject(new Error("Invalid VAST XMLDocument"));var f=[],h=e.documentElement.childNodes;for(var A in h){var p=h[A];if("Error"===p.nodeName){var g=Bt(p);d?this.rootErrorURLTemplates.push(g):this.errorURLTemplates.push(g)}if("Ad"===p.nodeName){var m=Yt(p);m?f.push(m):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}var v=f.length,y=f[v-1];return 1===v&&null!=o&&y&&!y.sequence&&(y.sequence=o),!1===r&&(this.remainingAds=Mt(f),f=this.remainingAds.shift()),this.resolveAds(f,{wrapperDepth:c,originalUrl:a})}},{key:"resolveAds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=n.wrapperDepth,i=n.originalUrl,o=[];return t.forEach((function(t){var n=e.resolveWrappers(t,r,i);o.push(n)})),Promise.all(o).then((function(t){var n=xt.flatten(t);if(!n&&e.remainingAds.length>0){var o=e.remainingAds.shift();return e.resolveAds(o,{wrapperDepth:r,originalUrl:i})}return n}))}},{key:"resolveWrappers",value:function(e,t,n){var r=this;return new Promise((function(i,o){if(t++,!e.nextWrapperURL)return delete e.nextWrapperURL,i(e);if(t>=r.maxWrapperDepth||-1!==r.parentURLs.indexOf(e.nextWrapperURL))return e.errorCode=302,delete e.nextWrapperURL,i(e);e.nextWrapperURL=Rt(e.nextWrapperURL,n);var s=e.sequence;n=e.nextWrapperURL,r.fetchVAST(e.nextWrapperURL,t,n).then((function(o){return r.parse(o,{originalUrl:n,wrapperSequence:s,wrapperDepth:t}).then((function(t){if(delete e.nextWrapperURL,0===t.length)return e.creatives=[],i(e);t.forEach((function(t){t&&_t(t,e)})),i(t)}))})).catch((function(t){e.errorCode=301,e.errorMessage=t.message,i(e)}))}))}},{key:"completeWrapperResolving",value:function(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(var t=e.ads.length-1;t>=0;t--){var n=e.ads[t];(n.errorCode||0===n.creatives.length)&&(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(t,1))}}}])}(Jt),pn=null,gn={data:{},length:0,getItem:function(e){return this.data[e]},setItem:function(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem:function(e){delete data[e],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},mn=At((function e(){gt(this,e),this.storage=this.initStorage()}),[{key:"initStorage",value:function(){if(pn)return pn;try{pn="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){pn=null}return pn&&!this.isStorageDisabled(pn)||(pn=gn).clear(),pn}},{key:"isStorageDisabled",value:function(e){var t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}},{key:"getItem",value:function(e){return this.storage.getItem(e)}},{key:"setItem",value:function(e,t){return this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){return this.storage.removeItem(e)}},{key:"clear",value:function(){return this.storage.clear()}}]),vn=At((function e(t,n,r){gt(this,e),this.cappingFreeLunch=t||0,this.cappingMinimumTimeInterval=n||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new An,this.storage=r||new mn,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}),[{key:"getParser",value:function(){return this.vastParser}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(e){this.storage.setItem("vast-client-last-successful-ad",e)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(e){this.storage.setItem("vast-client-total-calls",e)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(e){this.storage.setItem("vast-client-total-calls-timeout",e)}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(e){return this.vastParser.getRemainingAds(e)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Date.now();return(n=Object.assign(this.defaultOptions,n)).hasOwnProperty("resolveAll")||(n.resolveAll=!1),this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,new Promise((function(i,o){if(t.cappingFreeLunch>=t.totalCalls)return o(new Error("VAST call canceled \u2013 FreeLunch capping not reached yet ".concat(t.totalCalls,"/").concat(t.cappingFreeLunch)));var s=r-t.lastSuccessfulAd;if(s<0)t.lastSuccessfulAd=0;else if(s<t.cappingMinimumTimeInterval)return o(new Error("VAST call canceled \u2013 (".concat(t.cappingMinimumTimeInterval,")ms minimum interval reached")));t.vastParser.getAndParseVAST(e,n).then((function(e){return i(e)})).catch((function(e){return o(e)}))}))}}]),yn=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var s in gt(this,t),(i=lt(this,t)).ad=n,i.creative=r,i.variation=o,i.muted=!1,i.impressed=!1,i.skippable=!1,i.trackingEvents={},i._alreadyTriggeredQuartiles={},i.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],i.creative.trackingEvents){var a=i.creative.trackingEvents[s];i.trackingEvents[s]=a.slice(0)}return i.creative instanceof Nt?i._initLinearTracking():i._initVariationTracking(),e&&i.on("start",(function(){e.lastSuccessfulAd=Date.now()})),i}return dt(t,e),At(t,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var e in this.variation.trackingEvents){var t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}this.variation instanceof zt?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):this.variation instanceof bt&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(e){this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(e){var t=this,n=this.skipDelay||-1;if(-1===n||this.skippable||(n>e?this.emit("skip-countdown",n-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var r=[];if(e>0){var i=Math.round(e/this.assetDuration*100);for(var o in r.push("start"),r.push("progress-".concat(i,"%")),r.push("progress-".concat(Math.round(e))),this.quartiles)this.isQuartileReached(o,this.quartiles[o],e)&&(r.push(o),this._alreadyTriggeredQuartiles[o]=!0)}r.forEach((function(e){t.track(e,!0)})),e<this.progress&&this.track("rewind")}this.progress=e}},{key:"isQuartileReached",value:function(e,t,n){var r=!1;return t<=n&&!this._alreadyTriggeredQuartiles[e]&&(r=!0),r}},{key:"setMuted",value:function(e){this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e}},{key:"setPaused",value:function(e){this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e}},{key:"setFullscreen",value:function(e){this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e}},{key:"setExpand",value:function(e){this.expanded!==e&&this.track(e?"expand":"collapse"),this.expanded=e}},{key:"setSkipDelay",value:function(e){"number"==typeof e&&(this.skipDelay=e)}},{key:"trackImpression",value:function(){this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))}},{key:"errorWithCode",value:function(e){this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})}},{key:"complete",value:function(){this.track("complete")}},{key:"close",value:function(){this.track(this.linear?"closeLinear":"close")}},{key:"skip",value:function(){this.track("skip"),this.trackingEvents=[]}},{key:"click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates);var t=this.clickThroughURLTemplate||e;if(t){var n=this.linear?{CONTENTPLAYHEAD:this.progressFormatted()}:{},r=xt.resolveURLTemplates([t],n)[0];this.emit("clickthrough",r)}}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close");var n=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e)>-1;n?(this.emit(e,""),this.trackURLs(n)):r&&this.emit(e,""),t&&(delete this.trackingEvents[e],r&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}},{key:"trackURLs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(t.ASSETURI=this.creative.mediaFiles[0].fileURL),t.CONTENTPLAYHEAD=this.progressFormatted()),xt.track(e,t)}},{key:"progressFormatted",value:function(){var e=parseInt(this.progress),t=e/3600;t.length<2&&(t="0".concat(t));var n=e/60%60;n.length<2&&(n="0".concat(n));var r=e%60;return r.length<2&&(r="0".concat(n)),"".concat(t,":").concat(n,":").concat(r,".").concat(parseInt(100*(this.progress-e)))}}])}(Jt),bn=function(e,t,n,r){var i,o={},s={started:!1,active:!1,isVideoEnded:!1,lang:n.getLanguage()},a=null,l="",c=null,u="",d="",f=!1,h=n.getBrowser(),A="Android"===h.os||"iOS"===h.os;(i=document.createElement("div")).setAttribute("class","op-ads"),i.setAttribute("id","op-ads"),n.getContainer().append(i),(c=document.createElement("video")).setAttribute("playsinline","true"),c.setAttribute("title","Advertisement"),c.setAttribute("class","op-ads-vast-video"),(d=document.createElement("div")).setAttribute("class","op-ads-button"),(u=document.createElement("div")).setAttribute("class","op-ads-textview"),d.append(u),i.append(c),i.append(d),l=i;var p=new vn,g=null,m=null,v=function(e){console.log(e),c.style.display="none",t.trigger(le,{code:e.code,message:e.message}),s.active=!1,s.started=!0,t.play()};return o.isActive=function(){return s.active},o.started=function(){return s.started},o.play=function(){return s.started?c.play():new Promise((function(i,o){var l=function(){t.metaLoaded()?(OvenPlayerConsole.log("VAST : main contents meta loaded."),function(){OvenPlayerConsole.log("VAST : checkAutoplaySupport() ");var n=document.createElement("video");n.setAttribute("playsinline","true"),n.src=rt,n.load(),c.load(),A&&t.getName()!==de&&e.load();var r=function(e,t){f=e,n.pause(),n.remove()};return new Promise((function(e,t){if(n.play){var i=n.play();void 0!==i?i.then((function(){OvenPlayerConsole.log("VAST : auto play allowed."),r(!0),e()})).catch((function(t){OvenPlayerConsole.log("VAST : auto play failed",t.message),r(!1),e()})):(OvenPlayerConsole.log("VAST : promise not support"),r(!0),e())}else OvenPlayerConsole.log("VAST : !temporarySupportCheckVideo.play"),r(!0),e()}))}().then((function(){n.isAutoStart()&&!f?(OvenPlayerConsole.log("VAST : autoplayAllowed : false"),s.started=!1,o(new Error("autoplayNotAllowed"))):(p.get(r).then((function(n){if(OvenPlayerConsole.log("VAST : initRequest()"),!(m=n.ads[0]))throw{code:401,message:"File not found. Unable to find Linear/MediaFile from URI."};g=new yn(p,m,m.creatives[0]),OvenPlayerConsole.log("VAST : created ad tracker."),a=function(e,t,n,r,i,o,s){var a={},l={},c=Xe(o),u=Xe(i),d=Xe(e);n.on(Pe,(function(t){t.mute?e.muted=!0:(e.muted=!1,e.volume=t.volume/100)}),l);var f=function(){r.active=!1,u.hide(),!r.started||0!==n.getPosition()&&r.isVideoEnded||(d.hide(),n.play()),n.trigger(ae)},h=function(n){c.hasClass("videoAdUiAction")&&(t.skip(),e.pause(),f())};return o.addEventListener("click",h,!1),a.error=function(){OvenPlayerConsole.log("VAST : listener : error.",e.error),console.log("VAST : listener : error.",e.error);var n={},r=e.error&&e.error.code||0;2===r?(n.code=402,n.message="Timeout of MediaFile URI."):3===r?(n.code=405,n.message="Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn\u2019t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."):4===r?(n.code=403,n.message="Couldn\u2019t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."):(n.code=400,n.message="General Linear error. Video player is unable to display the Linear Ad."),t.errorWithCode(n.code),s("405")},a.canplay=function(){},a.ended=function(){t.complete(),f()},a.click=function(e){t.click()},a.play=function(){t.setPaused(!1)},a.pause=function(){t.setPaused(!0)},a.timeupdate=function(r){t.setProgress(r.target.currentTime),n.trigger(Re,{duration:e.duration,position:e.currentTime})},a.volumechange=function(e){OvenPlayerConsole.log("VAST : listener : Ad Video Volumechange."),t.setMuted(e.target.muted)},a.loadedmetadata=function(){OvenPlayerConsole.log("VAST : listener : Ad CONTENT LOADED ."),ee===n.getState()&&n.pause(),t.trackImpression(),n.trigger(ie,{remaining:e.duration,isLinear:!0}),e.play()},t.on("skip",(function(){OvenPlayerConsole.log("VAST : listener : skipped")})),t.on("mute",(function(){OvenPlayerConsole.log("VAST : listener : muted")})),t.on("unmute",(function(){OvenPlayerConsole.log("VAST : listener : unmuted")})),t.on("resume",(function(){OvenPlayerConsole.log("VAST : listener : vastTracker resumed."),r.started&&n.setState(oe)})),t.on("pause",(function(){OvenPlayerConsole.log("VAST : listener : vastTracker paused."),n.setState(se)})),t.on("clickthrough",(function(e){OvenPlayerConsole.log("VAST : listener : clickthrough :",e),window.open(e,"_blank")})),t.on("skip-countdown",(function(e){0===e?("ko"===r.lang?c.html("\uad11\uace0 \uac74\ub108\ub6f0\uae30<i class='op-con op-arrow-right btn-right'></i>"):c.html("Ad Skip<i class='op-con op-arrow-right btn-right'></i>"),c.addClass("videoAdUiAction")):"ko"===r.lang?c.html(parseInt(e)+1+"\ucd08 \ud6c4\uc5d0 \uc774 \uad11\uace0\ub97c \uac74\ub108\ub6f8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):c.html("You can skip this ad in "+(parseInt(e)+1))})),t.on("rewind",(function(){OvenPlayerConsole.log("VAST : listener : rewind")})),t.on("start",(function(){OvenPlayerConsole.log("VAST : listener : started"),r.started=!0,r.active=!0,d.show(),u.show(),n.trigger(Ie,{isLinear:!0}),n.setState(oe)})),t.on("firstQuartile",(function(){OvenPlayerConsole.log("VAST : listener : firstQuartile")})),t.on("midpoint",(function(){OvenPlayerConsole.log("VAST : listener : midpoint")})),t.on("thirdQuartile",(function(){OvenPlayerConsole.log("VAST : listener : thirdQuartile")})),t.on("creativeView",(function(){OvenPlayerConsole.log("VAST : listener : creativeView")})),Object.keys(a).forEach((function(t){e.removeEventListener(t,a[t]),e.addEventListener(t,a[t])})),l.destroy=function(){OvenPlayerConsole.log("EventListener : destroy()"),o.removeEventListener("click",h,!1),Object.keys(a).forEach((function(t){e.removeEventListener(t,a[t])}))},l}(c,g,t,s,d,u,v);var r="";m.creatives&&m.creatives.length>0&&m.creatives[0].mediaFiles&&m.creatives[0].mediaFiles.length>0&&m.creatives[0].mediaFiles[0].fileURL&&(r=m.creatives[0].mediaFiles[0].fileURL,OvenPlayerConsole.log("VAST : media url : ",r)),c.src=r,c.volume=e.volume,c.muted=e.muted})).catch((function(e){v(e)})),i())}))):setTimeout(l,100)};l()}))},o.pause=function(){c.pause()},o.videoEndedCallback=function(e){e(),s.isVideoEnded=!0},o.destroy=function(){a&&(a.destroy(),a=null),g=null,p=null,l.remove()},o},En=function(e,t,n){OvenPlayerConsole.log("[Provider] loaded. ");var r={};Ke(r);var i=e.element,o=null,s=null;e.adTagUrl&&(OvenPlayerConsole.log("[Provider] Ad Client - ",t.getAdClient()),(o="vast"===t.getAdClient()?bn(i,r,t,e.adTagUrl):st(i,r,t,e.adTagUrl))||console.log("Can not load due to google ima for Ads.")),s=function(e,t,n,r){var i={};OvenPlayerConsole.log("EventListener loaded.",e,t);var o={},s=-1,a=e;return i.canplay=function(){t.setCanSeek(!0),t.trigger("bufferFull"),OvenPlayerConsole.log("EventListener : on canplay")},i.durationchange=function(){i.progress(),OvenPlayerConsole.log("EventListener : on durationchange"),t.trigger("durationChanged")},i.ended=function(){OvenPlayerConsole.log("EventListener : on ended"),a.pause(),t.getState()!==Z&&t.getState()!==J&&t.getState()!==te&&(n?n((function(){t.setState(J)})):t.setState(J))},i.loadeddata=function(){},i.loadedmetadata=function(){var e=t.getSources(),n=t.getCurrentSource(),r=n>-1?e[n].type:"",i={duration:t.isLive()?1/0:a.duration,type:r};t.setMetaLoaded(),OvenPlayerConsole.log("EventListener : on loadedmetadata",i),t.trigger(Me,i)},i.pause=function(){return t.getState()!==J&&t.getState()!==te&&!a.ended&&!a.error&&a.currentTime!==a.duration&&(OvenPlayerConsole.log("EventListener : on pause"),void t.setState($))},i.loadstart=function(){r&&!r.getConfig().showBigPlayButton&&r.getConfig().autoStart&&t.setState(ne)},i.play=function(){s=-1,a.paused||t.getState()===ee||t.setState(ne)},i.playing=function(){OvenPlayerConsole.log("EventListener : on playing"),s<0&&t.setState(ee)},i.progress=function(){var e=a.buffered;if(!e)return!1;var n,r=a.duration,i=a.currentTime,o=(n=(e.length>0?e.end(e.length-1):0)/r,Math.max(Math.min(n,1),0));t.setBuffer(100*o),t.trigger(De,{bufferPercent:100*o,position:i,duration:r}),OvenPlayerConsole.log("EventListener : on progress",100*o)},i.timeupdate=function(){var e=a.currentTime,n=a.duration;if(!isNaN(n)){if(e>n)return a.pause(),void t.setState(J);var r=t.getSources()[t.getCurrentSource()].sectionStart;r&&e<r&&t.getState()===ee&&t.seek(r);var i=t.getSources()[t.getCurrentSource()].sectionEnd;if(i&&e>i&&t.getState()===ee)return t.stop(),void t.setState(J);n>9e15&&(n=1/0),t.isSeeking()||a.paused||t.getState()!==re&&t.getState()!==ne&&t.getState()!==oe||function(e,t){return e.toFixed(2)===t.toFixed(2)}(s,e)||(s=-1,t.setState(ee)),r&&r>0&&(e-=r)<0&&(e=0),i&&(n=i),r&&(n-=r),(t.getState()===ee||t.isSeeking())&&t.trigger(Be,{position:e,duration:n})}},i.seeking=function(){t.setSeeking(!0),OvenPlayerConsole.log("EventListener : on seeking",a.currentTime),t.trigger("seek",{position:a.currentTime})},i.seeked=function(){t.isSeeking()&&(OvenPlayerConsole.log("EventListener : on seeked"),t.setSeeking(!1),t.trigger("seeked"))},i.stalled=function(){OvenPlayerConsole.log("EventListener : on stalled")},i.waiting=function(){OvenPlayerConsole.log("EventListener : on waiting",t.getState()),t.isSeeking()?t.setState(ne):t.getState()===ee&&(s=a.currentTime,t.setState(re))},i.volumechange=function(){OvenPlayerConsole.log("EventListener : on volumechange",Math.round(100*a.volume)),t.trigger(Pe,{volume:Math.round(100*a.volume),mute:a.muted})},i.error=function(){var e={0:300,1:301,2:302,3:303,4:304}[a.error&&a.error.code||0]||0;OvenPlayerConsole.log("EventListener : on error",e),it(We.codes[e],t)},Object.keys(i).forEach((function(e){a.removeEventListener(e,i[e]),a.addEventListener(e,i[e])})),o.destroy=function(){OvenPlayerConsole.log("EventListener : destroy()"),Object.keys(i).forEach((function(e){a.removeEventListener(e,i[e])}))},o}(i,r,o?o.videoEndedCallback:null,t),i.playbackRate=i.defaultPlaybackRate=t.getPlaybackRate(),e.zoomFactor=1;var a=function(o){var s=e.sources[e.currentSource];if(e.framerate=s.framerate,r.setVolume(t.getVolume()),e.framerate||t.setTimecodeMode(!0),n)n(s,o);else{OvenPlayerConsole.log("source loaded : ",s,"lastPlayPosition : "+o);var a=i.src;s.file!==a&&(i.src=s.file,(a||""===a)&&i.load()),r.on(Me,(function(){o>0&&r.seek(o)}))}};return r.getName=function(){return e.name},r.getMse=function(){return e.mse},r.getMediaElement=function(){return e.element},r.canSeek=function(){return e.canSeek},r.setCanSeek=function(t){e.canSeek=t},r.isSeeking=function(){return e.seeking},r.setSeeking=function(t){e.seeking=t},r.setMetaLoaded=function(){e.isLoaded=!0},r.metaLoaded=function(){return e.isLoaded},r.setState=function(t){if(e.state!==t){var n=e.state;if(OvenPlayerConsole.log("Provider : setState()",t),n===oe&&(t===te||t===Z))return!1;switch(OvenPlayerConsole.log("Provider : triggerSatatus",t),t){case J:r.trigger(Ee);break;case $:r.trigger(Ce,{prevState:e.state,newstate:$});break;case se:r.trigger(Ce,{prevState:e.state,newstate:se});break;case ee:r.trigger(we,{prevState:e.state,newstate:ee});break;case oe:r.trigger(we,{prevState:e.state,newstate:oe})}e.state=t,r.trigger(be,{prevstate:n,newstate:e.state})}},r.getState=function(){return e.state},r.setBuffer=function(t){e.buffer=t},r.getBuffer=function(){return e.buffer},r.isLive=function(){return!!e.isLive||i.duration===1/0},r.getDuration=function(){return r.isLive()?1/0:i.duration},r.getDvrWindow=function(){return e.dvrWindow},r.getPosition=function(){return i?i.currentTime:0},r.setVolume=function(e){if(!i)return!1;i.volume=e/100,t.setVolume(e)},r.getVolume=function(){return t.getVolume()},r.setMute=function(e){if(!i)return!1;if(void 0===e){var n=t.isMute();i.muted=!n,t.setMute(!n),r.trigger(Oe,{mute:t.isMute()})}else i.muted=e,t.setMute(e),r.trigger(Oe,{mute:t.isMute()});return i.muted},r.getMute=function(){return t.isMute()},r.preload=function(n,i){return e.sources=n,e.currentSource=ot(n,t),a(i||0),new Promise((function(e,n){t.isMute()&&r.setMute(!0),t.getVolume()&&r.setVolume(t.getVolume()),e()}))},r.load=function(n){e.sources=n,e.currentSource=ot(n,t),a(0)},r.play=function(){if(OvenPlayerConsole.log("Provider : play()"),!i)return!1;if(r.getState()!==ee)if(o&&o.isActive()||o&&!o.started())o.play().then((function(e){OvenPlayerConsole.log("Provider : ads play success")})).catch((function(e){OvenPlayerConsole.log("Provider : ads play fail",e)}));else{var e=i.play();void 0!==e?e.then((function(){OvenPlayerConsole.log("Provider : video play success")})).catch((function(e){OvenPlayerConsole.log("Provider : video play error",e.message)})):OvenPlayerConsole.log("Provider : video play success (ie)")}},r.pause=function(){if(OvenPlayerConsole.log("Provider : pause()"),!i)return!1;r.getState()===ee?i.pause():r.getState()===oe&&o.pause()},r.seek=function(e){if(!i)return!1;i.currentTime=e},r.setPlaybackRate=function(e){return!!i&&(r.trigger("playbackRateChanged",{playbackRate:e}),i.playbackRate=i.defaultPlaybackRate=e)},r.getPlaybackRate=function(){return i?i.playbackRate:0},r.getZoomFactor=function(){return e.zoomFactor},r.setZoomFactor=function(t){return r.trigger(Le,{zoomFactor:t}),e.zoomFactor=t},r.getSources=function(){return i?e.sources.map((function(e,t){var n={file:e.file,type:e.type,label:e.label,index:t,sectionStart:e.sectionStart,sectionEnd:e.sectionEnd,gridThumbnail:e.gridThumbnail};return e.lowLatency&&(n.lowLatency=e.lowLatency),n})):[]},r.getCurrentSource=function(){return e.currentSource},r.setCurrentSource=function(n,o){if(n>-1&&e.sources&&e.sources.length>n)return OvenPlayerConsole.log("source changed : "+n),e.currentSource=n,t.setSourceIndex(n),r.setState(Z),o&&a(i.currentTime||0),e.currentSource},r.getQualityLevels=function(){return i?e.qualityLevels:[]},r.getCurrentQuality=function(){return i?e.currentQuality:null},r.setCurrentQuality=function(e){},r.getAudioTracks=function(){return i?e.audioTracks:[]},r.getCurrentAudioTrack=function(){return i?e.currentAudioTrack:[]},r.setCurrentAudioTrack=function(e){},r.isAutoQuality=function(){},r.setAutoQuality=function(e){},r.getFramerate=function(){return e.framerate},r.setFramerate=function(t){return e.framerate=t},r.seekFrame=function(t){var n=e.framerate,o=(i.currentTime*n+t)/n;o+=1e-5,r.pause(),r.seek(o)},r.stop=function(){if(!i)return!1;for(OvenPlayerConsole.log("CORE : stop() "),i.removeAttribute("preload"),i.removeAttribute("src");i.firstChild;)i.removeChild(i.firstChild);r.pause(),r.setState(Z)},r.destroy=function(){if(!i)return!1;r.stop(),s.destroy(),o&&(o.destroy(),o=null),r.off(),OvenPlayerConsole.log("CORE : destroy() player stop, listener, event destroied")},r.super=function(e){var t=r[e];return function(){return t.apply(r,arguments)}},r};function Cn(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function wn(e){for(var t,n,r,i,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;u<e.length;)i=(t=e[u++])>>2,o=(3&t)<<4|(n=u<e.length?e[u++]:Number.NaN)>>4,s=(15&n)<<2|(r=u<e.length?e[u++]:Number.NaN)>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),c+=l.charAt(i)+l.charAt(o)+l.charAt(s)+l.charAt(a);return c}var Sn=function(e,t,n){var r=En({name:ce,element:e,mse:null,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Z,buffer:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:n},t,null),i=r.super("destroy");OvenPlayerConsole.log("HTML5 PROVIDER LOADED.");var o=null;function s(n,r){return new Promise((function(i,s){if(!e.webkitKeys)try{e.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0"))}catch(e){return void s(e)}var a;try{a=e.webkitKeys.createSession("video/mp4",function(e){var t=e.id,n=e.initData,r=e.cert;try{"string"==typeof t&&(t=function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(t));var i=0,o=new ArrayBuffer(n.byteLength+4+t.byteLength+4+r.byteLength),s=new DataView(o);new Uint8Array(o,i,n.byteLength).set(n),i+=n.byteLength,s.setUint32(i,t.byteLength,!0),i+=4;var a=new Uint16Array(o,i,t.length);return a.set(t),i+=a.byteLength,s.setUint32(i,r.byteLength,!0),i+=4,new Uint8Array(o,i,r.byteLength).set(r),new Uint8Array(o,0,o.byteLength)}catch(e){return null}}({id:r,initData:n,cert:o}))}catch(e){return void s(e)}a.contentId=r,a.addEventListener("webkitkeymessage",(function(e){var n;(n=e.message,new Promise((function(e,r){var i=t.getConfig().hlsConfig.drmSystems["com.apple.fps"].licenseUrl,o=new Headers({"Content-Type":"application/x-www-form-urlencoded"});t.getConfig().licenseCustomHeader&&o.append(t.getConfig().licenseCustomHeader.key,t.getConfig().licenseCustomHeader.value),fetch(i,{method:"POST",headers:o,body:"spc="+wn(n)}).then((function(t){t.text().then((function(t){e(Cn(t))})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))).then((function(e){a.update(new Uint8Array(e)),i()})).catch((function(e){s(e)}))})),a.addEventListener("webkitkeyadded",(function(){})),a.addEventListener("webkitkeyerror",(function(){var e=a.error;s(e)}))}))}function a(e){e.initDataType;var t,n=e.initData,i=(t=new Uint16Array(n.buffer),String.fromCharCode.apply(null,t));s(n,i.substring(i.indexOf("skd://")+6)).catch((function(e){We.codes[107].message="Could not add add key.",it(We.codes[107],r)}))}return t.getConfig().hlsConfig&&t.getConfig().hlsConfig.emeEnabled&&new Promise((function(n,r){var i;(i=t.getConfig().hlsConfig.drmSystems["com.apple.fps"].serverCertificateUrl,new Promise((function(e,t){fetch(i).then((function(n){n.text().then((function(t){e(Cn(t))})).catch((function(e){t(e)}))})).catch((function(e){t(e)}))}))).then((function(t){o=t,e.addEventListener("webkitneedkey",a,{once:!0})})).catch((function(e){r(e)}))})).catch((function(e){We.codes[107].message="Could not load drm certificate.",it(We.codes[107],r)})),r.destroy=function(){OvenPlayerConsole.log("HTML5 : PROVIDER DESTROYED."),i()},r},Tn=function(e,t,n,r,i,s,a,l){var c={},u={},d=null,f=!1,h=null,A=null,p={},g=!1,m=!1,v=null,y=!1;a.getConfig().webrtcConfig&&!0===a.getConfig().webrtcConfig.recoverPacketLoss&&(m=!0);var b=!0;a.getConfig().webrtcConfig&&!1===a.getConfig().webrtcConfig.generatePublicCandidate&&(b=a.getConfig().webrtcConfig.generatePublicCandidate);var E=j(),C=null;function w(e){var t=null;return A&&e===A.id?t=A.peerConnection:p[e]&&(t=p[e].peerConnection),t}function S(e){e.statisticsTimer&&clearTimeout(e.statisticsTimer),e.status||(e.status={},e.status.lostPacketsArr=[],e.status.slotLength=8,e.status.prevPacketsLost=0,e.status.avg8Losses=0,e.status.avgMoreThanThresholdCount=0,e.status.threshold=40);var t=e.status.lostPacketsArr,n=e.status.slotLength,r=e.status.prevPacketsLost,i=e.status.avg8Losses,s=e.status.threshold;e.statisticsTimer=setTimeout((function(){if(!e.peerConnection)return!1;e.peerConnection.getStats().then((function(l){l&&a.getConfig().autoFallback&&l&&(l.forEach((function(a){if("inbound-rtp"===a.type&&"video"===a.kind&&!a.isRemote){var l=parseInt(a.packetsLost)-parseInt(r);t.push(parseInt(a.packetsLost)-parseInt(r)),t.length>n&&t.shift(),t.length===n&&(i=o().reduce(t,(function(e,t){return e+t}),0)/n,OvenPlayerConsole.log("Last8 LOST PACKET AVG  : "+i,"Current Packet LOST: "+l,"Total Packet Lost: "+a.packetsLost,t),i>s?(e.status.avgMoreThanThresholdCount=e.status.avgMoreThanThresholdCount+1,e.status.avgMoreThanThresholdCount>=60&&(OvenPlayerConsole.log("NETWORK UNSTABLED!!! "),B(We.codes[510]))):e.status.avgMoreThanThresholdCount=0),e.status.prevPacketsLost=a.packetsLost}})),S(e))}))}),2e3)}function T(i,s,l,u,f){var h={};if(a.getConfig().webrtcConfig&&a.getConfig().webrtcConfig.iceServers)h.iceServers=a.getConfig().webrtcConfig.iceServers,a.getConfig().webrtcConfig.iceTransportPolicy&&(h.iceTransportPolicy=a.getConfig().webrtcConfig.iceTransportPolicy);else if(f){h.iceServers=[];for(var p=0;p<f.length;p++){var v=f[p],y={};y.urls=v.urls;for(var b=!1,E=x(t),C=0;C<y.urls.length;C++)if(y.urls[C].indexOf(E)>-1){b=!0;break}if(!b&&y.urls.length>0){var w=o().clone(y.urls[0]),T=L(w);E&&T&&y.urls.push(w.replace(T,E))}y.username=v.username||v.user_name,y.credential=v.credential,h.iceServers.push(y)}h.iceTransportPolicy="relay"}else h=c;OvenPlayerConsole.log("Main Peer Connection Config : ",h);var k=null;try{k=new RTCPeerConnection(h),e.trigger("peerConnectionPrepared",k)}catch(e){var I=We.codes[506];return I.error=e,void B(I)}A={id:i,peerId:s,peerConnection:k},k.setRemoteDescription(new RTCSessionDescription(l)).then((function(){k.createAnswer().then((function(e){var t=function(e){for(var t=e.split("\r\n"),n=-1,r=0;r<t.length-1;r++)if(t[r]=t[r].toLowerCase(),t[r].indexOf("a=rtpmap")>-1&&t[r].indexOf("opus")>-1){n=t[r].split(" ")[0].split(":")[1];break}return n}(l.sdp);t>-1&&function(e,t){for(var n=e.split("\r\n"),r=!1,i=0;i<n.length-1;i++)if(n[i]=n[i].toLowerCase(),n[i].indexOf("a=fmtp:"+t)>-1){n[i].indexOf("stereo=1")>-1&&(r=!0);break}return r}(l.sdp,t)&&(e.sdp=function(e,t){for(var n=e.split("\r\n"),r=0;r<n.length-1;r++)if(n[r].indexOf("a=fmtp:"+t)>-1){-1===n[r].indexOf("stereo=1")&&(n[r]=n[r]+";stereo=1");break}return n.join("\r\n")}(e.sdp,t)),OvenPlayerConsole.log("Local SDP",e),P(d,{id:i,peer_id:s,command:"answer",sdp:e}),OvenPlayerConsole.log("create Host Answer : success"),k.setLocalDescription(e).then((function(){})).catch((function(e){var t=We.codes[505];t.error=e,B(t)}))})).catch((function(e){var t=We.codes[504];t.error=e,B(t)}))})).catch((function(e){var t=We.codes[503];t.error=e,B(t)})),u&&R(k,u),k.onicecandidate=function(e){e.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : ",e.candidate),P(d,{id:i,peer_id:s,command:"candidate",candidates:[e.candidate]}))},k.onconnectionstatechange=function(e){OvenPlayerConsole.log("[on connection state change]",k.connectionState,e),"connected"===k.connectionState&&r&&r()},k.onicecandidateerror=function(e){},k.onicegatheringstatechange=function(e){},k.oniceconnectionstatechange=function(e){OvenPlayerConsole.log("[on ice connection state change]",k.iceConnectionState,e),"connected"===k.iceConnectionState&&r&&r(),("disconnected"===k.iceConnectionState||"closed"===k.iceConnectionState)&&(g||A&&B(We.codes[511]))},k.ontrack=function(e){if(OvenPlayerConsole.log("stream received."),OvenPlayerConsole.log("Recovery On Packet Loss :",m),m&&S(A),n(e),a.getConfig().webrtcConfig&&a.getConfig().webrtcConfig.playoutDelayHint)for(var t=a.getConfig().webrtcConfig.playoutDelayHint,r=A.peerConnection.getReceivers(),i=0;i<r.length;i++){var o=r[i];"audio"===o.track.kind?(o.playoutDelayHint=t,o.jitterBufferDelayHint=t):o.playoutDelayHint=t,OvenPlayerConsole.log("WebRTC playoutDelayHint",o,t)}}}function k(e,t){if(h){var n=new RTCPeerConnection(c);p[t]={id:t,peerId:e,peerConnection:n},n.addStream(h),n.createOffer((function(r){n.setLocalDescription(r),P(d,{id:e,peer_id:t,sdp:r,command:"offer_p2p"})}),(function(e){}),{}),n.onicecandidate=function(n){n.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : "+n.candidate),P(d,{id:e,peer_id:t,command:"candidate_p2p",candidates:[n.candidate]}))}}else setTimeout((function(){k(e,t)}),100)}function x(e){var t,n="";return(t=e.match(/^(?:wss?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im))&&(n=t[1]),n}function L(e){var t,n="";return(t=e.match(new RegExp("\\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b","gi")))&&(n=t[0]),n}function I(e){var n=o().clone(e),r=x(t),i=L(n.candidate);return new Promise((function(e,t){""!==i&&i!==r||e(null),"Firefox"!==E.browser||L(r)?(n.candidate=n.candidate.replace(i,r),e(n)):e(null)}))}function R(e,t){for(var n=0;n<t.length;n++)if(t[n]&&t[n].candidate){var r=t[n];if(e.addIceCandidate(new RTCIceCandidate(r)).then((function(){OvenPlayerConsole.log("addIceCandidate : success")})).catch((function(e){var t=We.codes[502];t.error=e,B(t)})),b){var i=I(r);i&&i.then((function(t){t&&e.addIceCandidate(new RTCIceCandidate(t)).then((function(){OvenPlayerConsole.log("cloned addIceCandidate : success")})).catch((function(e){var t=We.codes[502];t.error=e,B(t)}))}))}}}function D(){try{(d=new WebSocket(t)).onopen=function(){f=!0,P(d,{command:"request_offer"})},d.onmessage=function(t){var n=JSON.parse(t.data);if(n.error){var r=We.codes[501];return r.error=n.error,void B(r)}if(0!==Object.keys(n).length||n.constructor!==Object)if("ping"!==n.command){if("offer"===n.command){var i=n.iceServers||n.ice_servers;T(n.id,n.peer_id,n.sdp,n.candidates,i),0===n.peer_id?e.trigger(Ge,!1):e.trigger(Ge,!0)}if("request_offer_p2p"===n.command&&k(n.id,n.peer_id),"answer_p2p"===n.command&&w(n.peer_id).setRemoteDescription(new RTCSessionDescription(n.sdp)).then((function(e){})).catch((function(e){var t=We.codes[503];t.error=e,B(t)})),"candidate"===n.command&&R(w(n.id),n.candidates),"candidate_p2p"===n.command&&R(w(n.peer_id),n.candidates),"notification"===n.command){if("playlist"===n.type){var o=n.message.renditions;v=n.message;for(var s=0;s<o.length;s++){var a=o[s];l.qualityLevels.push({bitrate:a.video_track.video.bitrate,height:a.video_track.video.height,width:a.video_track.video.width,index:s,label:a.name})}l.currentQuality=0,y=n.message.auto}if("rendition_changed"===n.type){var c=n.message;n.auto&&(y=n.auto);for(var u=-1,f=0;f<v.renditions.length;f++)if(c.rendition_name===v.renditions[f].name){u=f,l.currentQuality=f;break}e.trigger(Fe,{isAuto:y,currentQuality:u,type:"render"})}}"stop"===n.command&&(A.peerId===n.peer_id?(h=null,A.peerConnection.close(),A=null,e.pause(),P(d,{command:"request_offer"})):p[n.peer_id]&&(p[n.peer_id].peerConnection.close(),delete p[n.peer_id]))}else P(d,{command:"pong"});else OvenPlayerConsole.log("Empty Message")},d.onclose=function(e){if(!g){if(r&&!f)return void B();var t=We.codes[501];A&&(t=We.codes[511]),B(t)}},d.onerror=function(e){}}catch(e){B(e)}}function B(t){if(OvenPlayerConsole.log("WebRTC Loader closePeer()"),t||(g=!0),A&&(A.statisticsTimer&&clearTimeout(A.statisticsTimer),h=null,OvenPlayerConsole.log("Closing main peer connection..."),A.peerConnection&&A.peerConnection.close(),A.peerConnection=null,e.trigger("peerConnectionDestroyed"),A=null),Object.keys(p).length>0){for(var n in p){var r=p[n].peerConnection;r&&(OvenPlayerConsole.log("Closing client peer connection..."),r.close(),r=null)}p={}}d?(OvenPlayerConsole.log("Closing websocket connection..."),OvenPlayerConsole.log("Send Signaling : Stop."),1===d.readyState&&(g=!0,A&&P(d,{command:"stop",id:A.id}),d.close())):g=!1,d=null,t&&(i&&i(t),s(t,e))}function P(e,t){e&&e.send(JSON.stringify(t))}return C=window.onbeforeunload,window.onbeforeunload=function(e){C&&C(e),OvenPlayerConsole.log("This calls auto when browser closed."),B()},e.setCurrentQuality=function(e){if(!v)return-1;if(!A)return-1;var t=v.renditions[e];return t?(P(d,{command:"change_rendition",id:A.id,rendition_name:t.name,auto:!1}),y=!1,l.currentQuality=e,l.currentQuality):l.currentQuality},e.isAutoQuality=function(){return y},e.setAutoQuality=function(e){A&&(P(d,{command:"change_rendition",id:A.id,auto:e}),y=e)},u.connect=function(){OvenPlayerConsole.log("WebRTCLoader connecting..."),OvenPlayerConsole.log("WebRTCLoader url : "+t),D()},u.destroy=function(){g=!0,B(),window.onbeforeunload=C,C=null},u};function kn(){return new Worker(n.p+"RTCTransformWorker.worker.worker.js")}function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return(t=function(e){var t=function(e){if("object"!=xn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn,Bn,Pn=function(e,t,n){var r={},i=null,o=null,s=null,a=null,l=null,c=null,u={name:ue,element:e,mse:null,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Z,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:n},d=1e4,f=0,h=null,A=!1;function p(){if(Je(l.file,l.type)){clearTimeout(h),OvenPlayerConsole.log("WEBRTC : onBeforeLoad : ",l),i&&(i.destroy(),i=null);var n=null,o=null;f>0&&(n=function(){clearTimeout(h)},o=function(){clearTimeout(h),performance.now(),A=!0}),i=Tn(r,l.file,(function(n){e.srcObject&&(e.srcObject=null),c&&(c.close(),c=null);var i=n.streams[0];if(e.srcObject=i,i.getAudioTracks().length>0){var o=window.AudioContext||window.webkitAudioContext;(function(e){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),n=(/iPhone|iPad|iPod/i.test(navigator.userAgent),!1);t&&"suspended"===e.state&&document.addEventListener("touchend",(function(){n||"running"===e.state||(e.resume(),n=!0)}))})(c=new o),c.createMediaStreamSource(i)}if("video"===n.receiver.track.kind&&t.getConfig().parseStream.enabled){var s=new kn;if("RTCRtpScriptTransform"in window)n.receiver.transform=new RTCRtpScriptTransform(s);else{var a=n.receiver.createEncodedStreams(),l=a.readable,u=a.writable;s.postMessage({action:"rtctransform",readable:l,writable:u},[l,u])}s.addEventListener("message",(function(e){"sei"===e.data.action&&r.trigger("metaData",In(In({},e.data.data),{},{type:"sei"}))}))}}),o,n,it,t,u),performance.now(),i.connect(),f>0&&(r.once(be,(function(e){A||e.newstate===Z&&(clearTimeout(h),g())})),r.once(ye,(function(){A=!1})),h=setTimeout((function(){if(f>0)A||(g(),p());else{g();var e=We.codes[512];it(e,r)}f--}),d))}}function g(){i&&(i.destroy(),i=null,e.srcObject=null)}return r=En(u,t,(function(e){var n=t.getConfig();n.webrtcConfig&&("number"==typeof n.webrtcConfig.connectionTimeout&&n.webrtcConfig.connectionTimeout>0&&(d=n.webrtcConfig.connectionTimeout),"number"==typeof n.webrtcConfig.timeoutMaxRetry&&n.webrtcConfig.timeoutMaxRetry>0&&(f=n.webrtcConfig.timeoutMaxRetry)),l=e,p()})),o=r.super("destroy"),s=r.super("play"),a=r.super("stop"),OvenPlayerConsole.log("WEBRTC PROVIDER LOADED."),r.removeStream=function(){e.srcObject=null},r.destroy=function(){clearTimeout(h),g(),OvenPlayerConsole.log("WEBRTC :  PROVIDER DESTROYED."),o()},r.play=function(){(!i||f>0&&!A)&&p(),s()},r.stop=function(){clearTimeout(h),g(),a()},r},On=function(e,t,n){var r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var i=n||"B",o=["k"+i,"M"+i,"G"+i,"T"+i,"P"+i,"E"+i,"Z"+i,"Y"+i],s=-1;do{e/=r,++s}while(Math.abs(e)>=r&&s<o.length-1);return e.toFixed(1)+o[s]},Mn=function(e,t,n){var r={},i=null,s=null,a=null,l=0,c="";try{if(dashjs.Version<"3.0.0")throw We.codes[103];var u=function(e){i.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:e}}}})},d=function(){return i.getSettings().streaming.abr.autoSwitchBitrate.video};(i=dashjs.MediaPlayer().create()).initialize(e,null,!1),window.op_dash=i;var f={name:de,element:e,mse:i,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Z,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:n};r=En(f,t,(function(e,n){OvenPlayerConsole.log("DASH : Attach File : ",e,"lastPlayPosition : "+n),u(!0),c=e.file,!0===e.lowLatency?(i.updateSettings({streaming:{lowLatencyEnabled:e.lowLatency}}),t.getConfig().lowLatencyMpdLiveDelay&&"number"==typeof t.getConfig().lowLatencyMpdLiveDelay&&i.updateSettings({streaming:{liveDelay:t.getConfig().lowLatencyMpdLiveDelay}})):i.updateSettings({streaming:{lowLatencyEnabled:!1,liveDelay:void 0}}),i.updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE}});var o=t.getConfig().dashConfig;o&&i.updateSettings(o),r.trigger("dashPrepared",i),i.attachSource(c),l=n})),s=r.super("play"),a=r.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),i.on(dashjs.MediaPlayer.events.ERROR,(function(e){var t=We.codes[302];t.error=e,it(t,r)})),i.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,(function(e){e&&e.mediaType&&"video"===e.mediaType&&r.trigger(Fe,{isAuto:d(),currentQuality:f.currentQuality,type:"request"})})),i.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,(function(e){e&&e.mediaType&&"video"===e.mediaType&&(f.currentQuality=e.newQuality,r.trigger(Fe,{isAuto:d(),currentQuality:e.newQuality,type:"render"}))})),i.on(dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED,(function(e){OvenPlayerConsole.log("DASH : PLAYBACK_METADATA_LOADED  : ",i.getQualityFor("video"),i.getBitrateInfoListFor("video"),i.getBitrateInfoListFor("video")[i.getQualityFor("video")]);var t=i.getBitrateInfoListFor("video");f.currentQuality=i.getQualityFor("video");for(var n=0;n<t.length;n++)o().findWhere(f.qualityLevels,{bitrate:t[n].bitrate,height:t[n].height,width:t[n].width})||f.qualityLevels.push({bitrate:t[n].bitrate,height:t[n].height,width:t[n].width,index:t[n].qualityIndex,label:t[n].width+"x"+t[n].height+", "+On(t[n].bitrate,!0,"bps")});i.isDynamic()&&(f.isLive=!0),l&&!f.isLive&&i.seek(l)})),r.play=function(e){r.getState()===oe||r.getState()===se||s(e)},r.setCurrentQuality=function(e){return r.getState()!==ee&&r.play(),f.currentQuality=e,d()&&u(!1),i.setQualityFor("video",e),f.currentQuality},r.isAutoQuality=function(){return d()},r.setAutoQuality=function(e){u(e)},r.destroy=function(){i.destroy?i.destroy():i.reset(),i=null,r.trigger("dashDestroyed"),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),a()}}catch(e){if(e&&e.code&&103===e.code)throw e;var h=We.codes[105];throw h.error=e,h}return r},_n=function(e,t,n){var r={},i=null,o=null,s=null,a=null,l=!1;try{var c={debug:!1},u=t.getConfig().hlsConfig;if(u)for(var d in u)c[d]=u[d];t.getConfig().licenseCustomHeader&&(c.licenseXhrSetup=function(e,n,r,i){e.setRequestHeader(t.getConfig().licenseCustomHeader.key,t.getConfig().licenseCustomHeader.value)}),i=new Hls(c),window.op_hls=i,i.attachMedia(e);var f={name:fe,element:e,mse:i,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Z,buffer:0,dvrWindow:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:n};r=En(f,t,(function(e,t){OvenPlayerConsole.log("HLS : onExtendedLoad : ",e,"lastPlayPosition : "+t),r.trigger("hlsPrepared",i),i.loadSource(e.file),i.once(Hls.Events.MANIFEST_LOADED,(function(e,t){for(var n=0;n<i.levels.length;n++){var r=i.levels[n];f.qualityLevels.push({bitrate:r.bitrate,height:r.height,width:r.width,index:n,label:r.width+"x"+r.height+", "+On(r.bitrate,!0,"bps")})}f.currentQuality=i.firstLevel;for(var o=0;o<i.audioTracks.length;o++){var s=i.audioTracks[o];f.audioTracks.push({index:s.id,label:s.name}),!0===s.default&&(f.currentAudioTrack=s.id)}})),i.once(Hls.Events.LEVEL_LOADED,(function(e,n){l=!0,a&&(clearTimeout(a),a=null),n.details.live?f.isLive=!0:t&&t>=0&&r.seek(t)})),i.on(Hls.Events.LEVEL_SWITCHED,(function(e,t){f.currentQuality=t.level,r.trigger(Fe,{isAuto:i.autoLevelEnabled,currentQuality:f.currentQuality,type:"render"})})),i.on(Hls.Events.AUDIO_TRACK_SWITCHED,(function(e,t){f.currentAudioTrack=t.id,r.trigger(je,{currentAudioTrack:f.currentAudioTrack})})),i.on(Hls.Events.LEVEL_UPDATED,(function(e,t){t&&t.details&&(f.dvrWindow=t.details.totalduration)})),i.on(Hls.Events.ERROR,(function(t,n){if(n&&n.networkDetails&&202===n.networkDetails.status)return a&&(clearTimeout(a),a=null),r.setState(ne),void(a=setTimeout((function(){i&&(r.stop(),i.stopLoad(),i.loadSource(e.file))}),1e3));if(n.fatal){var o=302;n&&n.networkDetails&&400===n.networkDetails.status?o=306:n&&n.networkDetails&&403===n.networkDetails.status?o=307:n&&n.networkDetails&&406===n.networkDetails.status&&(o=308);var s=We.codes[o];s.error=n,it(s,r)}})),r.on(be,(function(e){l||e.prevstate!==ne||e.newstate!==Z||(a&&(clearTimeout(a),a=null),i&&i.stopLoad())}))})),r.setCurrentQuality=function(e){return i.currentLevel=e,f.currentQuality=e,f.currentQuality},r.isAutoQuality=function(){return i.autoLevelEnabled},r.setAutoQuality=function(e){i.currentLevel=e?-1:i.currentLevel},r.setCurrentAudioTrack=function(e){return i.audioTrack=e,f.currentAudioTrack=e,f.currentAudioTrack},r.getDuration=function(){return e.duration},o=r.super("stop"),r.stop=function(){a&&(clearTimeout(a),a=null),i&&i.stopLoad(),o()},s=r.super("destroy"),r.destroy=function(){a&&(clearTimeout(a),a=null),i&&(i.destroy(),r.trigger("hlsDestroyed")),i=null,OvenPlayerConsole.log("HLS : PROVIDER DESTROYED."),s()},OvenPlayerConsole.log("HLS PROVIDER LOADED.")}catch(e){var h=We.codes[106];throw h.error=e,h}return r},Fn=function(e){var t={};Ke(t),OvenPlayerConsole.log("API loaded.");var n=function(e){var t={},n={playlist:[],currentIndex:0},r=nt();OvenPlayerConsole.log("PlaylistManager loaded.");var i=function(e){if(e&&(e.file||e.host||e.application||e.stream)){var t=Object.assign({},{default:!1},e);t.file=s(""+t.file),t.host&&t.application&&t.stream&&(t.file=t.host+"/"+t.application+"/stream/"+t.stream,delete t.host,delete t.application,delete t.stream);var n=/^[^/]+\/(?:x-)?([^/]+)$/;if(n.test(t.type)&&(t.mimeType=t.type,t.type=t.type.replace(n,"$1")),Ze(t.file)?t.type="rtmp":Je(t.file)?t.type="webrtc":$e(t.file,t.type)?t.type="hls":et(t.file,t.type)?t.type="dash":t.type||(t.type=a(t.file)),t.lowLatency&&(t.lowLatency=t.lowLatency),t.type){switch(t.type){case"m3u8":case"vnd.apple.mpegurl":t.type="hls";break;case"m4a":t.type="aac";break;case"smil":t.type="rtmp"}return Object.keys(t).forEach((function(e){""===t[e]&&delete t[e]})),t}}};return t.initPlaylist=function(e,t){OvenPlayerConsole.log("PlaylistManager setPlaylist() ",e);var s=(o().isArray(e)?e:[e]).map((function(e){o().isArray(e.tracks)||delete e.tracks;var n=Object.assign({},{sources:[],tracks:[],title:""},e);n.sources!==Object(n.sources)||o().isArray(n.sources)||(n.sources=[i(n.sources)]),o().isArray(n.sources)&&0!==n.sources.length||(n.sources=[i(n)]),o().isArray(n.sources)&&0!==n.sources.length||(e.levels?n.sources=e.levels:n.sources=[i(e)]);for(var s=0;s<n.sources.length;s++){var a,l=n.sources[s];if(l){var c=l.default;l.default=!!c&&"true"===c.toString(),n.sources[s].label||(n.sources[s].label=n.sources[s].type+"-"+s.toString()),a=i(n.sources[s]),r.findProviderNameBySource(a)?n.sources[s]=a:n.sources[s]=null}}return n.sources=n.sources.filter((function(e){return!!e})),!n.title&&n.sources[0]&&n.sources[0].label&&(n.title=n.sources[0].label),t.isCurrentProtocolOnly()&&(n.sources=function(e){if(e){var t=n.sources[0].type;return o().filter(e,{type:t})}}(n.sources)),o().isArray(n.tracks)||(n.tracks=[]),o().isArray(n.captions)&&(n.tracks=n.tracks.concat(n.captions),delete n.captions),n.tracks=n.tracks.map((function(e){return!(!e||!e.file)&&Object.assign({},{kind:"captions",default:!1},e)})).filter((function(e){return!!e})),n})).filter((function(e){return e.sources&&e.sources.length>0}))||[];return n.playlist=s,s},t.getPlaylist=function(){return OvenPlayerConsole.log("PlaylistManager getPlaylist() ",n.playlist),n.playlist},t.getCurrentPlayList=function(){return n.playlist[n.currentIndex]?n.playlist[n.currentIndex]:[]},t.getCurrentPlaylistIndex=function(){return n.currentIndex},t.setCurrentPlaylist=function(t){return n.playlist[t]&&(n.currentIndex=t,e.trigger(ge,n.currentIndex)),n.currentIndex},t.getCurrentSources=function(){return n.playlist[n.currentIndex]?(OvenPlayerConsole.log("PlaylistManager getCurrentSources() ",n.playlist[n.currentIndex].sources),n.playlist[n.currentIndex].sources):null},t.getCurrentAdTag=function(){if(n.playlist[n.currentIndex])return n.playlist[n.currentIndex].adTagUrl||""},t}(t),i=function(){var e=nt(),t={},n={};OvenPlayerConsole.log("ProviderController loaded.");var r=function(e,n){t[e]||(OvenPlayerConsole.log("ProviderController _registerProvider() ",e),t[e]=n)},i={html5:function(){var e=Sn;return r(ce,e),{name:ce,provider:e}},webrtc:function(){var e=Pn;return r(ue,e),{name:ue,provider:e}},dash:function(){var e=Mn;return r(de,e),{name:de,provider:e}},hls:function(){var e=_n;return r(fe,e),{name:fe,provider:e}}};return n.loadProviders=function(t){var n=e.findProviderNamesByPlaylist(t);return OvenPlayerConsole.log("ProviderController loadProviders() ",n),n?Promise.all(n.filter((function(e){return!!i[e]})).map((function(e){return i[e]()}))):Promise.reject(We.codes[101])},n.findByName=function(e){return OvenPlayerConsole.log("ProviderController findByName() ",e),t[e]},n.getProviderBySource=function(t){var r=e.findProviderNameBySource(t);return OvenPlayerConsole.log("ProviderController getProviderBySource() ",r),n.findByName(r)},n.isSameProvider=function(t,n){return OvenPlayerConsole.log("ProviderController isSameProvider() ",e.findProviderNameBySource(t),e.findProviderNameBySource(n)),e.findProviderNameBySource(t)===e.findProviderNameBySource(n)},n}(),l=j(),c=function(e,t){var n={},r=Xe(e),i="";return OvenPlayerConsole.log("MediaManager loaded. browser : ",t),n.createMedia=function(e,t){return n.empty(),o=t.isLoop(),s=t.isAutoStart(),(i=document.createElement("video")).setAttribute("preload","auto"),i.setAttribute("disableremoteplayback",""),i.setAttribute("webkit-playsinline","true"),i.setAttribute("playsinline","true"),o&&i.setAttribute("loop",""),s&&i.setAttribute("autoplay",""),r.append(i),i;var o,s},n.createAdContainer=function(){var e=document.createElement("div");return e.setAttribute("class","op-ads"),r.append(e),e},n.empty=function(){OvenPlayerConsole.log("MediaManager removeElement()"),r.removeChild(i),i=null},n.destroy=function(){r.removeChild(),r=null,null!=i&&""!==i&&(i.srcObject=null),i=null},n}(e,l),u="",d="",f="",h=function(e){OvenPlayerConsole.log("runNextPlaylist");var r=e,i=!!n.getPlaylist()[r];d.setSourceIndex(0),d.setVolume(u.getVolume()),i?(n.setCurrentPlaylist(r),A()):t.trigger(me,null)},A=function(e){return i.loadProviders(n.getCurrentPlayList()).then((function(e){if(e.length<1)throw We.codes[101];u&&(u.destroy(),u=null),f&&(f.destroy(),f=null),f=function(e,t){var n={},r=[],i=-1,s=X(),a=!0;OvenPlayerConsole.log("Caption Manager >> ",t);var l=function(e,t){return e.data=t||[],e.name=e.label||e.name||e.language,e.id=function(e,t){var n,i=e.kind||"cc";return n=e.default||e.defaulttrack?"default":e.id||i+t,a&&(c(r.length||0),a=!1),n}(e,r.length),r.push(e),e.id},c=function(t){i=t,e.trigger(Ue,i)};if(e.getConfig().playlist&&e.getConfig().playlist.length>0){var u=e.getConfig().playlist[t];if(u&&u.tracks&&u.tracks.length>0)for(var d=function(){var t=u.tracks[f];He(t.kind)&&!o().findWhere(t,{file:t.file})&&s.load(t,t.lang,(function(e){e&&e.length>0&&l(t,e)}),(function(t){var n=We.codes[305];n.error=t,e.trigger(ye,n)}))},f=0;f<u.tracks.length;f++)d()}return e.on(Be,(function(t){var n=t.position;if(i>-1&&r[i]){var s=o().filter(r[i].data,(function(e){return n>=e.startTime&&(!e.endTime||n)<=e.endTime}));s&&s.length>0&&e.trigger(Ne,s[0])}})),n.flushCaptionList=function(e){r=[],c(e)},n.getCaptionList=function(){return r||[]},n.getCurrentCaption=function(){return i},n.setCurrentCaption=function(e){if(!(e>-2&&e<r.length))return null;c(e)},n.addCaption=function(t){He(t.kind)&&!o().findWhere(s,{file:t.file})&&s.load(t,(function(e){e&&e.length>0&&l(t,e)}),(function(t){var n=errors[305];n.error=t,e.trigger(ye,n)}))},n.removeCaption=function(e){return e>-1&&e<r.length?(r.splice(e,1),r):null},n.destroy=function(){r=[],s=null,e.off(Be,null,n)},n}(t,n.getCurrentPlaylistIndex()),OvenPlayerConsole.log("API : init() captions");var r=ot(n.getCurrentSources(),d),i=e[r].name;OvenPlayerConsole.log("API : init() provider",i),u=e[r].provider(c.createMedia(i,d),d,n.getCurrentAdTag()),"rtmp"===i&&Object.assign(t,function(e){return{externalCallbackCreep:function(t){return t.name&&t.data?e.triggerEventFromExternal(t.name,t.data):null}}}(u)),u.on("all",(function(e,r){if(e===ye&&(i===ue&&u.removeStream(),d.getConfig().autoFallback&&t.getCurrentSource()+1<t.getSources().length))return t.pause(),void t.setCurrentSource(t.getCurrentSource()+1);e===he&&h(n.getCurrentPlaylistIndex()+1),e===Me&&d.isAutoStart()&&t.play(),t.trigger(e,r)}))})).then((function(){u.preload(n.getCurrentSources(),e).then((function(){})).catch((function(e){if(e&&e.code&&We.codes[e.code])t.trigger(ye,We.codes[e.code]);else{var n=We.codes[100];n.error=e,t.trigger(ye,n)}}))})).catch((function(e){if(e&&e.code&&We.codes[e.code])t.trigger(ye,We.codes[e.code]);else{var n=We.codes[100];n.error=e,t.trigger(ye,n)}}))};return t.init=function(r){r||(r={}),r.mediaContainer=e,r.browser=l,d=function(e,t){OvenPlayerConsole.log("Configurator loaded.",e);var n=function(e){!function(e){Object.keys(e).forEach((function(t){"id"!==t&&(e[t]=function(e){if(void 0===e)return null;if("string"==typeof e&&e.length<6){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(e))&&!isNaN(parseFloat(e)))return Number(e)}return e}(e[t]))}))}(e);var t=Object.assign({},{mediaContainer:"",playbackRates:[2,1.5,1,.5,.25],playbackRate:1,mute:!1,volume:100,loop:!1,controls:!0,autoStart:!1,autoFallback:!0,timecode:!0,sourceIndex:-1,browser:"",hidePlaylistIcon:!1,rtmpBufferTime:1,rtmpBufferTimeMax:3,adClient:"googleima",currentProtocolOnly:!1,systemText:null,lang:"en",loadingRetryCount:0,expandFullScreenUI:!0,fullscreenOption:null,showBigPlayButton:!0,doubleTapToSeek:!1,showZoomSettings:!1,legacyUI:!1,parseStream:{enabled:!1}},e),n=[];t.systemText&&(n=o().isArray(t.systemText)?t.systemText:[t.systemText]);for(var r=0;r<n.length;r++)if(n[r].lang){var i=o().findWhere(ze,{lang:n[r].lang});if(i)Ve(i,n[r]);else{(i=o().findWhere(ze,{lang:"en"})).lang=n[r].lang;var s=Ve({},i,n[r]);ze.push(s)}}t.systemText=o().findWhere(ze,{lang:t.lang});var a=t.playbackRates;(a=a.filter((function(e){return o().isNumber(e)&&e>=.25&&e<=4})).map((function(e){return Math.round(4*e)/4}))).indexOf(1)<0&&a.push(1),a.sort(),t.playbackRates=a,t.rtmpBufferTime=t.rtmpBufferTime>10?10:t.rtmpBufferTime,t.rtmpBufferTimeMax=t.rtmpBufferTimeMax>50?50:t.rtmpBufferTimeMax,t.playbackRates.indexOf(t.playbackRate)<0&&(t.playbackRate=1);var l=t.playlist;if(l)o().isArray(l.playlist)&&(t.feedData=l,t.playlist=l.playlist);else{var c=o().pick(t,["title","description","type","image","file","sources","tracks","host","application","stream","adTagUrl"]);t.playlist=[c]}return delete t.duration,t}(e);return{getConfig:function(){return n},getAdClient:function(){return n.adClient},setConfig:function(e,t){n[e]=t},getContainer:function(){return n.mediaContainer},getPlaybackRate:function(){return n.playbackRate},setPlaybackRate:function(e){return n.playbackRate=e,e},getZoomFactor:function(){return n.zoomFactor},setZoomFactor:function(e){return n.zoomFactor=e,e},getQualityLabel:function(){return n.qualityLabel},setQualityLabel:function(e){n.qualityLabel=e},isCurrentProtocolOnly:function(){return n.currentProtocolOnly},getSourceIndex:function(){return n.sourceIndex},setSourceIndex:function(e){n.sourceIndex=e},setTimecodeMode:function(e){n.timecode!==e&&(n.timecode=e,t.trigger(Qe,e))},isTimecodeMode:function(){return n.timecode},getRtmpBufferTime:function(){return n.rtmpBufferTime},getRtmpBufferTimeMax:function(){return n.rtmpBufferTimeMax},setMute:function(e){n.mute=e},isMute:function(){return n.mute},getVolume:function(){return n.volume},setVolume:function(e){n.volume=e},isLoop:function(){return n.loop},isAutoStart:function(){return n.autoStart},isControls:function(){return n.controls},getPlaybackRates:function(){return n.playbackRates},getBrowser:function(){return n.browser},getSystemText:function(){return n.systemText},getLanguage:function(){return n.lang},getPlaylist:function(){return n.playlist},setPlaylist:function(e){return o().isArray(e)?n.playlist=e:n.playlist=[e],n.playlist}}}(r,t),OvenPlayerConsole.log("API : init()"),OvenPlayerConsole.log("API : init() config : ",d),We.codes=d.getSystemText().api.error,n.initPlaylist(d.getPlaylist(),d),OvenPlayerConsole.log("API : init() sources : ",n.getCurrentSources()),A(),setTimeout((function(){t.trigger(Ae)}))},t.getProviderName=function(){return u?u.getName():null},t.getProvider=function(){return u},t.getMseInstance=function(){return u?u.getMse():null},t.getConfig=function(){return OvenPlayerConsole.log("API : getConfig()",d.getConfig()),d.getConfig()},t.getBrowser=function(){return d.getBrowser()},t.setTimecodeMode=function(e){OvenPlayerConsole.log("API : setTimecodeMode()",e),d.setTimecodeMode(e)},t.isTimecodeMode=function(){return OvenPlayerConsole.log("API : isTimecodeMode()"),d.isTimecodeMode()},t.getFramerate=function(){if(OvenPlayerConsole.log("API : getFramerate()"),u)return u.getFramerate()},t.seekFrame=function(e){return u?(OvenPlayerConsole.log("API : seekFrame()",e),u.seekFrame(e)):null},t.getDuration=function(){return u?(OvenPlayerConsole.log("API : getDuration()",u.getDuration()),u.getDuration()):null},t.getDvrWindow=function(){return u?(OvenPlayerConsole.log("API : getDvrWindow()",u.getDvrWindow()),u.getDvrWindow()):null},t.getPosition=function(){return u?(OvenPlayerConsole.log("API : getPosition()",u.getPosition()),u.getPosition()):null},t.getVolume=function(){return u?(OvenPlayerConsole.log("API : getVolume()",u.getVolume()),u.getVolume()):null},t.setVolume=function(e){if(!u)return null;OvenPlayerConsole.log("API : setVolume() "+e),u.setVolume(e)},t.setMute=function(e){return u?(OvenPlayerConsole.log("API : setMute() "+e),u.setMute(e)):null},t.getMute=function(){return u?(OvenPlayerConsole.log("API : getMute() "+u.getMute()),u.getMute()):null},t.load=function(e){return OvenPlayerConsole.log("API : load() ",e),e&&(d.setSourceIndex(0),u&&u.getQualityLevels().length>0&&u.setCurrentQuality(0),"sources"in e?d.setPlaylist(e):d.setPlaylist({sources:e}),n.initPlaylist(d.getPlaylist(),d)),A()},t.play=function(){if(!u)return null;OvenPlayerConsole.log("API : play() "),u.metaLoaded()||d.isAutoStart()?u.play():t.once(Me,(function(){u.play()}))},t.pause=function(){if(!u)return null;OvenPlayerConsole.log("API : pause() "),u.pause()},t.seek=function(e){if(!u)return null;OvenPlayerConsole.log("API : seek() "+e),u.seek(e)},t.setPlaybackRate=function(e){return u?(OvenPlayerConsole.log("API : setPlaybackRate() ",e),u.setPlaybackRate(d.setPlaybackRate(e))):null},t.getPlaybackRate=function(){return u?(OvenPlayerConsole.log("API : getPlaybackRate() ",u.getPlaybackRate()),u.getPlaybackRate()):null},t.setZoomFactor=function(e){return u?(OvenPlayerConsole.log("API : setZoomFactor() ",e),u.setZoomFactor(d.setZoomFactor(e))):null},t.getZoomFactor=function(){return u?(OvenPlayerConsole.log("API : getZoomFactor() ",u.getZoomFactor()),u.getZoomFactor()):null},t.getPlaylist=function(){return OvenPlayerConsole.log("API : getPlaylist() ",n.getPlaylist()),n.getPlaylist()},t.getCurrentPlaylist=function(){return OvenPlayerConsole.log("API : getCurrentPlaylist() ",n.getCurrentPlaylistIndex()),n.getCurrentPlaylistIndex()},t.setCurrentPlaylist=function(e){OvenPlayerConsole.log("API : setCurrentPlaylist() ",e),h(e)},t.getSources=function(){return u?(OvenPlayerConsole.log("API : getSources() ",u.getSources()),u.getSources()):null},t.getCurrentSource=function(){return u?(OvenPlayerConsole.log("API : getCurrentSource() ",u.getCurrentSource()),u.getCurrentSource()):null},t.setCurrentSource=function(e){if(!u)return null;OvenPlayerConsole.log("API : setCurrentSource() ",e);var n=u.getPosition();return d.setSourceIndex(e),A(n).then((function(){t.trigger(_e,{currentSource:e})})),e},t.getQualityLevels=function(){return u?(OvenPlayerConsole.log("API : getQualityLevels() ",u.getQualityLevels()),u.getQualityLevels()):null},t.getCurrentQuality=function(){return u?(OvenPlayerConsole.log("API : getCurrentQuality() ",u.getCurrentQuality()),u.getCurrentQuality()):null},t.setCurrentQuality=function(e){return u?(OvenPlayerConsole.log("API : setCurrentQuality() ",e),u.setCurrentQuality(e)):null},t.getAudioTracks=function(){return u?(OvenPlayerConsole.log("API : getAudioTracks() ",u.getAudioTracks()),u.getAudioTracks()):null},t.getCurrentAudioTrack=function(){return u?(OvenPlayerConsole.log("API : getCurrentAudioTrack() ",u.getCurrentAudioTrack()),u.getCurrentAudioTrack()):null},t.setCurrentAudioTrack=function(e){return u?(OvenPlayerConsole.log("API : setCurrentAudioTrack() ",e),u.setCurrentAudioTrack(e)):null},t.isAutoQuality=function(){return u?(OvenPlayerConsole.log("API : isAutoQuality()"),u.isAutoQuality()):null},t.setAutoQuality=function(e){return u?(OvenPlayerConsole.log("API : setAutoQuality() ",e),u.setAutoQuality(e)):null},t.getCaptionList=function(){return f?(OvenPlayerConsole.log("API : getCaptionList() ",f.getCaptionList()),f.getCaptionList()):null},t.getCurrentCaption=function(){return f?(OvenPlayerConsole.log("API : getCurrentCaption() ",f.getCurrentCaption()),f.getCurrentCaption()):null},t.setCurrentCaption=function(e){if(!f)return null;OvenPlayerConsole.log("API : setCurrentCaption() ",e),f.setCurrentCaption(e)},t.addCaption=function(e){return f?(OvenPlayerConsole.log("API : addCaption() "),f.addCaption(e)):null},t.removeCaption=function(e){return f?(OvenPlayerConsole.log("API : removeCaption() ",e),f.removeCaption(e)):null},t.getBuffer=function(){if(!u)return null;OvenPlayerConsole.log("API : getBuffer() ",u.getBuffer()),u.getBuffer()},t.getState=function(){return u?(OvenPlayerConsole.log("API : getState() ",u.getState()),u.getState()):null},t.stop=function(){if(!u)return null;OvenPlayerConsole.log("API : stop() "),u.stop()},t.remove=function(){OvenPlayerConsole.log("API : remove() "),f&&(f.destroy(),f=null),u&&(u.destroy(),u=null),c&&(c.destroy(),c=null),t.trigger(pe),t.off(),i=null,n=null,d=null,OvenPlayerConsole.log("API : remove() - currentProvider, providerController, playlistManager, playerConfig, api event destroed. "),Nn.removePlayer(t)},t.getMediaElement=function(){return u.getMediaElement()},t.getVersion=function(){return r},t},Nn=(Bn=(Dn={}).playerList=[],Dn.create=function(e,t){window.OvenPlayerConsole&&0!==Object.keys(window.OvenPlayerConsole).length||(window.OvenPlayerConsole={},OvenPlayerConsole.log=function(){});var n=tt(e),r=Fn(n);return r.init(t),Bn.push(r),r},Dn.getPlayerList=function(){return Bn},Dn.getPlayerByContainerId=function(e){for(var t=0;t<Bn.length;t++)if(Bn[t].getContainerId()===e)return Bn[t];return null},Dn.getPlayerByIndex=function(e){return Bn[e]||null},Dn.removePlayer=function(e){for(var t=0;t<Bn.length;t++)Bn[t]===e&&Bn.splice(t,1)},Dn.generateWebrtcUrls=function(e){return(o().isArray(e)?e:[e]).map((function(e,t){if(e.host&&Je(e.host)&&e.application&&e.stream)return{file:e.host+"/"+e.application+"/"+e.stream,type:"webrtc",label:e.label?e.label:"webrtc-"+(t+1)}}))},Dn.debug=function(e){return window.OvenPlayerConsole=e?{log:window.console.log}:{log:function(){}},e},Dn),Un=function(e,t){var n='<div id="'+t.id+'" class="op-setting-panel '+(t.isRoot?"animated fadeIn":"")+'" style="max-height: '+t.height+'px"><div class="op-setting-title-container"><div class="op-setting-title" tabindex="0">'+(t.isRoot?"":'<span class="op-setting-title-previcon">&lt;</span>')+'<span class="op-setting-title-title">'+t.title+'</span></div></div><div class="op-setting-item-container">';return o().forEach(t.body,(function(e){n+=Qn(e,t.useCheck)})),n+="</div></div>"},Qn=function(e,t){return'<div class="op-setting-item" op-panel-type="'+e.panelType+'" op-data-value="'+e.value+'">'+(t?'<span class="op-setting-item-checked '+(e.isCheck?"op-show":"")+'">&#x2713;</span>':"")+'<span class="op-setting-item-title">'+e.title+"</span>"+(e.hasNext?'<span class="op-setting-item-nexticon">&gt;</span><span class="op-setting-item-value">'+e.description+"</span>":"")+"</div>"},Gn=function(e,t){return'<div class="op-playlist-card '.concat(t?"active":"",'" data-index="').concat(e.index,'">')+'<div class="op-playlist-card-thumbnail '.concat(e.image?"":"empty",'">').concat(e.image?"<img src=".concat(e.image,">"):'<i class="op-con op-empty-video"></i>'," ").concat(e.duration?'<span class="op-badge">'.concat(l(e.duration),"</span>"):""," </div>")+'<div class="op-playlist-card-title">'.concat(e.title,"</div>")+"</div>"},jn={TextViewTemplate:function(e){return'<div class="textView" style="padding : 5px; background: red; position : absolute; top: 0;">'+"<h3>".concat(e,"</h3>")+'<button type="button" class="btn">button</button></div>'},ViewTemplate:function(e,t){return'<div class="ovenplayer op-wrapper" tabindex="-1" '.concat(t?'id = "'.concat(t,'"'):"",">")+'<div class="op-ratio"></div><div class="op-player op-clear"><div class="op-core-ui-wrapper op-clear"><div class="op-media-element-container op-clear"></div><div class="op-ui op-clear"></div></div></div></div>'},HelpersTemplate:function(e,t){return'<div class="op-helpers-container"></div>'},BigButtonTemplate:function(e,t){return'<div class="op-bigbutton-container ">'+"".concat(t===ee?'<i class="op-con op-pause-big"></i>':"")+"".concat(t===$?'<i class="op-bigbutton op-con op-play-big"></i>':"")+"".concat(t===Z?'<i class="op-bigbutton op-con op-play-big"></i>':"")+"".concat(t===J?'<i class="op-bigbutton op-con op-replay-big"></i>':"")+"</div>"},ThumbnailTemplate:function(e,t){return'<div class="op-thumbnail-container"><div class="op-thumbnail-wrapper">'+"".concat(t.title?'<div class="op-thumbnail-header">'.concat(t.title,"</div>"):"")+"</div></div>"},WaterMarkTemplate:function(e,t){return'<div class="op-watermark-container"><div class="op-watermark">'+"".concat(t.waterMark.image?'<img src="'.concat(t.waterMark.image,'">'):"")+"".concat(t.waterMark.text?'<span class="op-watermark-text">'.concat(t.waterMark.text,"</span>"):"")+"</div></div>"},MessageBoxTemplate:function(e,t){return'<div class="op-message-box op-clear '.concat(!0===t.dontClose?"op-message-box-default-cursor":"",'">')+'<div class="op-message-container ">'+'<div class="op-message-text">'.concat(t.message)+"".concat(t.description?'<div class="op-message-description">'.concat(t.description,"</div>"):"")+"</div>"+"".concat(t.iconClass?'<div class="op-message-icon"><i class="op-con '.concat(t.iconClass,'"></i></div>'):"")+"</div></div>"},SpinnerTemplate:function(e){return'<div class="op-spinner-container"><div class="op-spinner"></div></div>'},ContextPanelTemplate:function(e){return'<div class="op-context-panel animated fadeIn"><div class="op-context-item" tabindex="1">'+'<span class="op-context-item-text">'.concat(e.context," ").concat(r,"</span>")+"</div></div>"},CaptionViewerTemplate:function(e){return'<div class="op-caption-viewer">    <div class="op-caption-text-container">        <pre class="op-caption-text"></pre>      </div></div>'},ControlsTemplate:function(e,t){return'<div class="op-controls-container op-clear"><div class="op-bottom-panel op-clear"><div class="op-gradient-bottom op-clear"></div><div class="op-controls op-clear"><div class="op-left-controls op-clear"></div><div class="op-right-controls op-clear">'+'<div class="playlist-holder op-navigators op-clear">'.concat(t?'<button class="op-button op-playlist-button"><i class="op-con op-playlist-icon"></i></button>':"","</div>")+'<div class="setting-holder op-navigators op-clear"></div><div class="fullscreen-holder op-navigators op-clear"></div></div></div><div class="op-progressbar-container op-clear"></div></div></div>'},VolumeButtonTemplate:function(e){return'<div class="op-navigators op-volume-controller"><button class="op-button op-volume-button"><i class="op-con op-volume-max"></i><i class="op-con op-volume-small"></i><i class="op-con op-volume-mute"></i></button><div class="op-volume-slider-container"><div class="op-volume-silder"><div class="op-volume-slider-bg"></div><div class="op-volume-slider-value"></div><div class="op-volume-slider-handle"></div></div></div></div>'},ProgressBarTemplate:function(e){return'<div class="op-progressbar" tabindex="0"><div class="op-progressbar-padding"></div><div class="op-progress-list"><div class="op-load-progress"></div><div class="op-play-progress op-play-background-color"></div><div class="op-hover-progress"></div></div><div class="op-progressbar-knob-container"><div class="op-progressbar-knob op-play-background-color"></div></div><span class="op-progressbar-preview"></span><span class="op-progressbar-time">00:00</span></div>'},PlayButtonTemplate:function(e){return'<div class="op-navigators op-play-controller"><button class="op-button op-play-button" type="button"><i class="op-con op-play"></i><i class="op-con op-pause" style="display: none;"></i><i class="op-con op-replay" style="display: none;"></i></button><button class="op-button op-seek-button op-seek-button-back" type="button"><i class="op-con op-seek-back"></i><span class="op-seek-back-text">10</span></button><button class="op-button op-seek-button op-seek-button-forward" type="button"><i class="op-con op-seek-forward"></i><span class="op-seek-forward-text">10</span></button></div>'},SettingButtonTemplate:function(e){return'<button class="op-button op-setting-button"><i class="op-con op-setting"></i></button>'},FrameButtonsTemplate:function(e){return'<div class="op-frame-buttons"><button class="op-button op-frame-button" op-data-value="-5"><div class="frame-icon"><span class="btn-text">-5f</span></div></button><button class="op-button op-frame-button" op-data-value="-1"><div class="frame-icon"><span class="btn-text">-1f</span></div></button><button class="op-button op-frame-button" op-data-value="+1"><div class="frame-icon reverse"><span class="btn-text">+1f</span></div></button><button class="op-button op-frame-button" op-data-value="+5"><div class="frame-icon reverse"><span class="btn-text">+5f</span></div></button></div>'},TimeDisplayTemplate:function(e,t){return'<div class="op-navigators op-time-display">'+(t.duration===1/0?'<span class="op-live-badge" disabled="disabled">'+("webrtc"===t.type?t.isP2P?'<span class="op-live-badge-lowlatency">'.concat(e.controls.low_latency_p2p,"</span>"):'<span class="op-live-badge-lowlatency">'.concat(e.controls.low_latency_live,"</span>"):'<span class="op-live-text" title="Skip ahead to live.">'.concat(e.controls.live,"</span>"))+"</span>":'<span class="op-time-current">00:00</span><span class="op-time-separator"> / </span><span class="op-time-duration">00:00</span>')+"</div>"},FullScreenButtonTemplate:function(e){return'<button class="op-button op-fullscreen-button"><i class="op-con op-fullscreen-expand"></i><i class="op-con op-fullscreen-compress"></i></button>'},PanelsTemplate:Un,SpeedPanelTemplate:Un,ZoomPanelTemplate:Un,SourcePanelTemplate:Un,QualityPanelTemplate:Un,AudioTrackPanelTemplate:Un,CaptionPanelTemplate:Un,TimeDisplayPanelTemplate:Un,PlaylistPanelTemplate:function(e,t){return'<div class="op-playlist" tabindex="0">'+'<div class="op-playlist-header">'.concat(e.playlist,' <i class="op-con op-close-icon btn-close"></i></div>')+'<div class="op-playlist-body"><div class="op-playlist-body-container"><div class="op-playlist-body-center"><div class="op-playlist-body-row"></div></div></div><div class="op-playlist-body-arrows"><i class="op-con op-arrow-left btn-left"></i><i class="op-con op-arrow-right btn-right"></i></div></div></div>'}},Wn=function(e,t,n,r,i,s,a,l){var c,u=o().isElement(e)?Xe(e):e,d={},f=null,h={};h.data=r;var A=function(e){var t=document.createElement("div");return t.innerHTML=e,c=Xe(t.firstChild),t.firstChild};return n&&n.systemText&&(f=n.systemText.ui),l?u.replace(A(jn[t+"Template"](f,r))):u.append(A(jn[t+"Template"](f,r))),s&&s(c,h),Object.keys(i).forEach((function(e){var t=e.split(" "),n=t[0].replace(/ /gi,""),r=t[1].replace(/ /gi,""),o="";if(o="document"===r||"window"===r||"body"===r?Xe(r):c.find(r)||(c.hasClass(r.replace(".",""))?c:null),!(n&&r&&o))return!1;var s=Object.keys(d).length++,a=function(t){return i[e](t,c,h)};d[s]={name:n,target:r,callback:a};var l=null;n.indexOf("touch")>-1&&(l={passive:!0});var u=o.get().length;if(u>1)for(var f=o.get(),A=0;A<u;A++)f[A].addEventListener(n,a,l);else o.get().addEventListener(n,a,l)})),h.destroy=function(){Object.keys(d).forEach((function(e){var t=d[e],n="",r=(n="document"===t.target||"window"===t.target||"body"===t.target?Xe(t.target):c.find(t.target)||(c.hasClass(t.target.replace(".",""))?c:null)).get().length;if(r>1)for(var i=n.get(),o=0;o<r;o++)i[o].removeEventListener(t.name,t.callback);else n.get().removeEventListener(t.name,t.callback);delete d[e]})),c&&(l?(c.removeChild(),c.removeAttribute("class")):c.remove()),a&&a(h)},h},zn=function(e,t,n,r,i,o,s,a){var l="",c={message:n,description:r,iconClass:o,dontClose:a},u={"click .op-message-text":function(e,t,n){e.stopPropagation(),a||(l&&clearTimeout(l),s&&s(),n.destroy())},"click .op-con":function(e,t,n){e.preventDefault(),a||(l&&clearTimeout(l),s&&s(),n.destroy())}};return Wn(e,"MessageBox",t.getConfig(),c,u,(function(e,t){i&&(l=setTimeout((function(){t.destroy()}),i||5e3))}),(function(){}))},Hn=function(e,t){var n,r,i=!1,s="",a="",l="",c=null,u=t.getConfig().image||t.getConfig().title,d=t.getConfig().waterMark&&t.getConfig().waterMark.image||t.getConfig().waterMark&&t.getConfig().waterMark.text,f=!1;return Wn(e,"Helpers",t.getConfig(),null,{},(function(e,h){var A=!1,p=-1;function g(n){t.getConfig().showBigPlayButton&&(t.getState()!==Z&&t.getState()!==J||(a&&a.destroy(),s&&s.destroy(),s=function(e,t,n){var r={"click .op-bigbutton-container":function(e){e.preventDefault(),e.stopPropagation();var n=t.getState(),r=t.getPlaylist(),i=t.getCurrentPlaylist();n===Z||n===$?t.play():n===te?t.setCurrentSource(t.getCurrentSource()):n===J&&r.length===i+1&&(t.seek(0),t.play())}};return Wn(e,"BigButton",t.getConfig(),n,r,(function(e,t,n){}),(function(){}))}(e,t,n)))}function m(){var r=t.getMediaElement();r&&(r.poster=""),t.getConfig().image&&(r.poster=t.getConfig().image),n&&n.destroy(),n=function(e,t,n){return Wn(e,"Thumbnail",t.getConfig(),n,{},(function(e,t){}),(function(){}))}(e,t,t.getConfig())}l=function(e,t){var n="";return Object.assign(Wn(e,"Spinner",t.getConfig(),null,{},(function(e,t){n=e}),(function(){})),{show:function(e){e?n.show():n.hide()}})}(e,t),function(e,t,n){Xe(t.getContainerElement()),Wn(e,"CaptionViewer",t.getConfig(),n,{},(function(e,n,r){var i=!1,o=0;t.on(Ue,(function(t){t>-1?i=!1:(i=!0,e.find(".op-caption-text").text(""))}),r),t.on(Ne,(function(t){if(!i&&t&&t.text){var n=t.endTime-t.startTime;o&&clearTimeout(o),e.find(".op-caption-text").html(t.text),n&&(o=setTimeout((function(){e.find(".op-caption-text").text("")}),1e3*n))}}),r)}),(function(n){e.find(".op-caption-text").text(""),t.off(Ue,null,n),t.off(Ne,null,n)}))}(e,t),t.on(Ae,(function(){u&&m(),d&&(r&&r.destroy(),r=function(e,t,n){var r=null,i=null;return Wn(e,"WaterMark",t.getConfig(),n,{},(function(e,n){r=e.find(".op-watermark"),i=e.find(".op-watermark-text");var s=t.getConfig().waterMark,a=s.position||"top-right",l=s.y||"5%",c=s.x||"2.8125%";r.css(a.split("-")[0],l),r.css(a.split("-")[1],c);var u=s.width||"auto",d=s.height||"auto";r.css("width",u),r.css("height",d);var f=s.opacity||.7;r.css("opacity",f),s.text&&s.font&&o().each(s.font,(function(e,t){i.css(t,e)}))}),(function(){}))}(e,t,t.getConfig())),i||(g($),i=!0)}),h),t.on(xe,(function(n){n.message&&(s&&s.destroy(),a&&a.destroy(),c=zn(e,t,n.message,null,n.timer,n.iconClass,n.onClickCallback,!1),t.once(Oe,(function(e){!e.mute&&c&&c.destroy()}),h))}),h),t.on(be,(function(e){e&&e.newstate&&(e.newstate===Z&&a&&a.destroy(),e.newstate===ee||e.newstate===oe?(f=!1,a&&a.destroy(),s&&s.destroy(),n&&n.destroy(),A||l.show(!1)):e.newstate===J?(l.show(!1),g(e.newstate)):e.newstate===ne||"adLoading"===e.newstate?(f=!1,a&&a.destroy(),s&&s.destroy(),l.show(!0)):A||l.show(!1))}),h),t.on(_e,(function(){u&&m()})),t.on(Fe,(function(e){if(e.currentQuality<0)return!1;e.isAuto?(A=!1,l.show(!1)):"request"===e.type?(p=e.currentQuality,A=!0,l.show(!0)):"render"===e.type&&p===e.currentQuality&&(A=!1,l.show(!1))}),h),t.on(ye,(function(n){if(510===n.code&&(f=!0),101===n.code&&0===t.getPlaylist().length&&(f=!0),!f){var r="",i="";s&&s.destroy(),n&&n.code&&n.code>=100&&n.code<1e3?(r=n.message,100===n.code&&(i=n.error.toString())):r="Can not play due to unknown reasons.",OvenPlayerConsole.log("error occured : ",n),function(n,r,i,o){s&&s.destroy(),a&&a.destroy(),a=zn(e,t,n,r,null,o,null,!0)}(r,i,0,"op-warning code-"+n.code)}}),h),t.on(ve,(function(e){var n="Because the network connection is unstable, the following media source will be played.";t.getCurrentSource()+1===t.getQualityLevels().length&&(n="Network connection is unstable. Check the network connection."),OvenPlayerConsole.log(n)}),h),t.on(me,(function(){u&&m()}),h)}),(function(e){t.off(Ae,null,e),t.off(be,null,e),t.off(xe,null,e),t.off(ye,null,e),t.off(ve,null,e),t.off(me,null,e),t.off(ge,null,e)}))},Yn=[],Vn=function(){var e={},t=function(){for(var e=0;e<Yn.length;e++)Yn[e].data.setFront(!1);Yn.length&&Yn[Yn.length-1].data.setFront(!0)};return e.clear=function(){o().each(Yn,(function(e){e.destroy()})),Yn=[],t()},e.removeLastItem=function(){Yn.pop().destroy(),t()},e.add=function(e){Yn.push(e),t()},e.size=function(){return Yn.length},e},Kn={speed:"Speed",zoom:"Zoom",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display"},qn=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn(),s=t.getConfig();function a(e,t){var n={id:"panel-"+(new Date).getTime(),title:"",body:[],useCheck:!0,panelType:t,height:r.height()-r.find(".op-bottom-panel").height()};if(n.title=Kn[t],"speed"===t)for(var i=e.getConfig().playbackRates,o=e.getPlaybackRate(),a=0;a<i.length;a++){var l={title:i[a]+Kn.speedUnit,isCheck:o===i[a],value:i[a],description:i[a],panelType:t};n.body.push(l)}else if("zoom"===t){var c={title:"+5%",isCheck:!1,value:.05,description:.05,panelType:t},u={title:"100%",isCheck:!1,value:0,description:1,panelType:t},d={title:"-5%",isCheck:!1,value:-.05,description:-.05,panelType:t};n.body.push(c),n.body.push(u),n.body.push(d)}else if("source"===t)for(var f=e.getSources(),h=0;h<f.length;h++){var A={title:f[h].label,isCheck:e.getCurrentSource()===h,value:h,panelType:t};n.body.push(A)}else if("quality"===t){var p=e.getQualityLevels(),g=e.isAutoQuality();n.body.push({title:s.systemText.ui.quality.auto,isCheck:g,value:"AUTO",panelType:t});for(var m=0;m<p.length;m++){var v={title:p[m].label,isCheck:!g&&e.getCurrentQuality()===m,value:m,panelType:t};n.body.push(v)}}else if("audioTrack"===t)for(var y=e.getAudioTracks(),b=0;b<y.length;b++){var E={title:y[b].label,isCheck:y[b].index===e.getCurrentAudioTrack(),value:y[b].index,panelType:t};n.body.push(E)}else if("caption"===t){var C=e.getCaptionList();n.body.push({title:"OFF",isCheck:-1===e.getCurrentCaption(),value:-1,panelType:t});for(var w=0;w<C.length;w++){var S={title:C[w].label,isCheck:e.getCurrentCaption()===w,value:w,panelType:t};n.body.push(S)}}else if("display"===t)for(var T=["Play time","Framecode"],k=0;k<T.length;k++){var x={title:T[k],isCheck:e.isTimecodeMode()?"Play time"===T[k]:"Framecode"===T[k],value:T[k],panelType:t};n.body.push(x)}return n}s&&s.systemText&&Object.keys(Kn).forEach((function(e){Kn[e]=s.systemText.ui.setting[e]})),n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var l={"click .op-setting-item":function(s,l,c){if(s.preventDefault(),r.find("#"+n.id).hasClass("background"))return!1;var u=Xe(s.currentTarget).attr("op-panel-type"),d=null;"speed"===u?d=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var o={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value");t.setPlaybackRate(parseFloat(o)),i.clear()},"click .op-setting-title":function(e,t,n){e.preventDefault(),i.removeLastItem()}};return Wn(e,"SpeedPanel",t.getConfig(),n,o,(function(e,t){}),(function(e){}))}(e,t,a(t,u)):"zoom"===u?d=function(e,t,n){var r=Xe(t.getContainerElement()),i=r.find(".op-media-element-container"),o=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var s={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value"),s=t.getZoomFactor();(s=0==o?1:parseFloat(s)+parseFloat(o))<=0&&(s=0),i.get().style.setProperty("--mediaZoom",t.setZoomFactor(parseFloat(s).toFixed(2)))},"click .op-setting-title":function(e,t,n){e.preventDefault(),o.removeLastItem()}};return Wn(e,"ZoomPanel",t.getConfig(),n,s,(function(e,t){}),(function(e){}))}(e,t,a(t,u)):"source"===u?d=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var o={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value");t.setCurrentSource(parseInt(o)),i.clear()},"click .op-setting-title":function(e,t,n){e.preventDefault(),i.removeLastItem()}};return Wn(e,"SourcePanel",t.getConfig(),n,o,(function(e,t){}),(function(e){}))}(e,t,a(t,u)):"quality"===u?d=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var s={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value");"AUTO"===o?t.setAutoQuality(!t.isAutoQuality()):t.setCurrentQuality(parseInt(o)),i.clear()},"click .op-setting-title":function(e,t,n){e.preventDefault(),i.removeLastItem()}};return Wn(e,"QualityPanel",t.getConfig(),n,s,(function(e,n){t.on(Fe,(function(e){var t=e.currentQuality;"render"===e.type&&o().forEach(r.find("#"+n.data.id).find(".op-setting-item").get(),(function(n){var r=Xe(n);r.find(".op-setting-item-checked").hasClass("op-show")&&r.find(".op-setting-item-checked").removeClass("op-show"),e.isAuto||t!==parseInt(r.attr("op-data-value"))||r.find(".op-setting-item-checked").addClass("op-show"),e.isAuto&&"AUTO"===r.attr("op-data-value")&&r.find(".op-setting-item-checked").addClass("op-show")}))}),n)}),(function(e){t.off(Fe,null,e)}))}(e,t,a(t,u)):"audioTrack"===u?d=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var s={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value");t.setCurrentAudioTrack(parseInt(o)),i.clear()},"click .op-setting-title":function(e,t,n){e.preventDefault(),i.removeLastItem()}};return Wn(e,"AudioTrackPanel",t.getConfig(),n,s,(function(e,n){t.on(je,(function(e){o().forEach(r.find("#"+n.data.id).find(".op-setting-item").get(),(function(t){var n=Xe(t);n.find(".op-setting-item-checked").hasClass("op-show")&&n.find(".op-setting-item-checked").removeClass("op-show"),e.currentAudioTrack===parseInt(n.attr("op-data-value"))&&n.find(".op-setting-item-checked").addClass("op-show")}))}),n)}),(function(e){t.off(je,null,e)}))}(e,t,a(t,u)):"caption"===u?d=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var o={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value");t.setCurrentCaption(parseFloat(o)),i.clear()},"click .op-setting-title":function(e,t,n){e.preventDefault(),i.removeLastItem()}};return Wn(e,"CaptionPanel",t.getConfig(),n,o,(function(e,t){}),(function(e){}))}(e,t,a(t,u)):"display"===u&&(d=function(e,t,n){var r=Xe(t.getContainerElement()),i=Vn();n.setFront=function(e){e?r.find("#"+n.id).removeClass("background"):r.find("#"+n.id).addClass("background")};var o={"click .op-setting-item":function(e,n,r){e.preventDefault();var o=Xe(e.currentTarget).attr("op-data-value");t.setTimecodeMode("Play time"===o),i.clear()},"click .op-setting-title":function(e,t,n){e.preventDefault(),i.removeLastItem()}};return Wn(e,"TimeDisplayPanel",t.getConfig(),n,o,(function(e,t){}),(function(e){}))}(e,t,a(t,u))),i.add(d)},"click .op-setting-title":function(e,t,o){if(e.preventDefault(),r.find("#"+n.id).hasClass("background"))return!1;i.removeLastItem()}};return Wn(e,"Panels",t.getConfig(),n,l,(function(e,n){r.find(".op-setting-panel")&&r.find(".op-setting-panel").css("max-height",r.height()-r.find(".op-bottom-panel").height()+"px"),t.on(Fe,(function(e){var i=e.currentQuality;"render"===e.type&&r.find("#"+n.data.id).find(".op-setting-item")&&o().forEach(r.find("#"+n.data.id).find(".op-setting-item").get()||[],(function(e){var n=Xe(e);if("quality"===n.attr("op-panel-type")){var r=t.getQualityLevels()[i];n.find(".op-setting-item-value").text(r.width+"x"+r.height+", "+On(r.bitrate,!0,"bps"))}}))}),n),t.on(je,(function(e){o().forEach(r.find("#"+n.data.id).find(".op-setting-item").get()||[],(function(n){var r=Xe(n);"audioTrack"===r.attr("op-panel-type")&&r.find(".op-setting-item-value").text(t.getAudioTracks()[e.currentAudioTrack].label)}))}),n),t.on(Le,(function(e){o().forEach(r.find("#"+n.data.id).find(".op-setting-item").get()||[],(function(t){var n=Xe(t);"zoom"===n.attr("op-panel-type")&&n.find(".op-setting-item-value").text(Math.round(100*e.zoomFactor)+"%")}))}),n)}),(function(e){t.off(Fe,null,e),t.off(je,null,e)}))},Xn={speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom"},Zn=function(e,t){var n,r="",i="",o="",s="",a="",c="",u=!1,d=!1,f=!1,h=t.getConfig().browser,A="Android"===h.os,p="iOS"===h.os,g=Xe(t.getContainerElement()),m={};u=t.getPlaylist().length>1,!0===t.getConfig().hidePlaylistIcon&&(u=!1),!0===t.getConfig().legacyUI&&(u=!0);var v={"mouseleave .op-controls":function(e,t,n){e.preventDefault(),r.setMouseDown(!1),t.find(".op-volume-slider-container").removeClass("active")},"click .op-playlist-button":function(e,n,r){e.preventDefault(),function(e,t){var n=Xe(t.getContainerElement()),r="",i=t.getPlaylist(),o=i.length,s=6,a=0,l=[];function c(e){var n,a,c=Math.ceil(o/s),u=t.getCurrentPlaylist();l=i.slice(e*s,e*s+s),r.find(".op-playlist-body-row").removeChild(),r.find(".op-arrow-left").removeClass("disable"),r.find(".op-arrow-right").removeClass("disable");for(var d=0;d<l.length;d++){var f=e*s+d;l[d].index=f,r.find(".op-playlist-body-row").get().append((n=Gn(l[d],u===f),a=void 0,(a=document.createElement("div")).innerHTML=n,a.firstChild))}0===e&&r.find(".op-arrow-left").addClass("disable"),e+1===c&&r.find(".op-arrow-right").addClass("disable")}function u(){var e=t.getCurrentPlaylist();return Math.ceil((e+1)/s)-1}n.width()>576?s=6:n.width()<=576&&(s=1);var d={"click .btn-close":function(e,t,n){e.preventDefault(),n.destroy()},"click .op-arrow-left":function(e,t,n){e.preventDefault(),Xe(e.target).hasClass("disable")||c(--a)},"click .op-arrow-right":function(e,t,n){e.preventDefault(),Xe(e.target).hasClass("disable")||c(++a)}};Wn(e,"PlaylistPanel",t.getConfig(),i,d,(function(e,n){r=e,c(a=u()),t.on(Te,(function(e){"xsmall"===e&&6===s?(s=1,c(a=u())):"small"!==e&&"medium"!==e&&"large"!==e||1!==s||(s=6,c(a=u()))}),n),t.on(ge,(function(e){c(a=u())}),n),e.get().addEventListener("click",(function(e){for(var n=e.target;n;){if(Xe(n).hasClass("op-playlist-card"))return void t.setCurrentPlaylist(parseInt(Xe(n).attr("data-index")));n=n.parentElement}}),!0)}),(function(e){t.off(Te,null,e),t.off(ge,null,e)}))}(n,t)}};return Wn(e,"Controls",t.getConfig(),u,v,(function(e,u){function h(n,r){s&&s.destroy(),s=function(e,t,n,r){var i=Xe(t.getContainerElement());t.getConfig().disableSeekUI&&e.addClass("op-progressbar-container-disabled");var o=0,s=!1,a=Vn(),c="",u=0,d="",f="",h="",A="",p="",g="",m=0,v="",y="",b=t.getBrowser().mobile,E=t.getMediaElement(),C=!1,w=!1;function S(e){var t=d.width(),n=t*e;h.css("width",n+"px"),A.css("left",n+"px");var r=(t-m)*e;p.css("left",r+"px"),o=n}function T(e){var t=d.width()*e;A.css("width",(0===e?e:t-o)+"px")}function k(e){var t=d.width(),n=d.offset().left,r=e.pageX;e.touches&&(r=e.pageX||e.touches[0].clientX);var i=(r-n)/t;return i<0?0:i>1?1:i}function x(){return E.seekable.end(E.seekable.length-1)-E.seekable.start(0)}function L(e,n){if(a.size()>0||-1===e)return v.hide(),void y.hide();v.show(),y.show();var r=0;C&&!w?(r=t.getDvrWindow()*(1-e),t.isTimecodeMode()?v.text("- "+l(r)):v.text("- "+Math.round(r*t.getFramerate()))):C&&w?(r=x()*(1-e),t.isTimecodeMode()?v.text("- "+l(r)):v.text("- "+Math.round(r*t.getFramerate()))):(r=t.getDuration()*e,t.isTimecodeMode()?v.text(l(r)):v.text(Math.round(r*t.getFramerate())));var i=v.width(),o=d.width(),s=o*e,u=n.pageX-d.offset().left;n.touches&&(u=(n.pageX||n.touches[0].clientX)-d.offset().left);var f=function(e){return u<e/2?0:o-u<e/2?o-e:s-e/2},h=f(i);if(v.css("left",h+"px"),t.getSources()[t.getCurrentSource()].gridThumbnail){var A=t.getConfig().gridThumbnail.thumbnailInterval,p=t.getConfig().gridThumbnail.originalThumbnailWidth,g=t.getConfig().gridThumbnail.originalThumbnailHeight,m=t.getConfig().gridThumbnail.columnCount,b=t.getConfig().gridThumbnail.rowCount,E=t.getConfig().gridThumbnail.resizeScale;y.css("width",p*E+"px"),y.css("height",g*E+"px"),y.css("background-size",p*E*m+"px "+g*E*b+"px");var S=Math.floor(r/A),T=Math.floor(S/(m*b)),k=Math.floor(S%(m*b)/m),L=S%(m*b)%m,I=-1*L*p*E,R=-1*k*g*E;OvenPlayerConsole.log("Grid Thumbnail:",S+": "+T+"("+k+", "+L+")");var D=t.getSources()[t.getCurrentSource()].gridThumbnail[T];c!==D&&(y.css("background-image","url("+D+")"),c=D),y.css("background-position","left "+I+"px top "+R+"px");var B=f(p*E);y.css("left",B+"px")}else y.hide()}function I(e){var n=(u||0)*e;if(C&&w){var r=x();n=u-r+r*e}var i=t.getSources()[t.getCurrentSource()].sectionStart;i&&i>0&&(n+=i),t.seek(n)}r&&r.type===fe&&r.duration===1/0&&(C=!0,t.getProviderName()===ce&&(w=!0));var R={"touchstart .op-progressbar":function(e){if(n)return!1;s=!0;var t=k(e);if(-1===t)return!1;S(t),T(0),I(t)},"touchmove .op-progressbar":function(e){if(s){var t=k(e);if(-1===t)return!1;S(t),T(0),I(t),L(t,e)}},"touchend .op-progressbar":function(e){s&&(s=!1),i.removeClass("op-progressbar-hover"),v.hide(),y.hide()},"mouseenter .op-progressbar":function(e,t,r){e.preventDefault(),b||(n||v.show(),i.addClass("op-progressbar-hover"))},"mouseleave .op-progressbar":function(e,t,n){e.preventDefault(),s=!1,i.removeClass("op-progressbar-hover"),v.hide(),y.hide(),T(0)},"mousedown .op-progressbar":function(e,t,r){if(e.preventDefault(),n||b)return!1;s=!0;var i=k(e);if(-1===i)return!1;S(i),T(0),I(i)},"mousemove .op-progressbar":function(e,t,r){if(e.preventDefault(),!s&&!n&&!b){var i=k(e);T(i),L(i,e)}if(s&&!b){var o=k(e);if(-1===o)return!1;S(o),T(0),I(o),L(o,e)}},"mouseup .op-progressbar":function(e,t,n){e.preventDefault(),s&&!b&&(s=!1,i.removeClass("op-progressbar-hover"))}};return t.getConfig().disableSeekUI&&(R={}),Wn(e,"ProgressBar",t.getConfig(),null,R,(function(e,r){d=e,f=e.find(".op-load-progress"),h=e.find(".op-play-progress"),A=e.find(".op-hover-progress"),p=e.find(".op-progressbar-knob-container"),g=e.find(".op-progressbar-knob"),m=g.width(),v=e.find(".op-progressbar-time"),y=e.find(".op-progressbar-preview"),n?t.on(Re,(function(e){e&&e.duration&&"number"==typeof e.position&&(S(e.position/e.duration),e.duration)}),r):(t.on(Be,(function(e){if(e&&e.duration&&"number"==typeof e.position){u=e.duration;var n=e.position/e.duration;if(C&&!w&&(n=(t.getDvrWindow()-(e.duration-e.position))/t.getDvrWindow()),C&&w){var r=x();u=r,n=(r-(r-Math.min(r,e.position)))/r}S(n)}}),r),t.on(De,(function(e){var t,n;e&&e.bufferPercent&&(t=e.bufferPercent/100,n=d.width()*t,f.css("width",n+"px"))}),r))}),(function(e){n?t.off(Re,null,e):(t.off(Be,null,e),t.off(De,null,e))}))}(e.find(".op-progressbar-container"),t,n,r)}function v(){o&&o.destroy(),o=function(e,t){var n=Vn(),r={"click .op-setting-button":function(e,r,i){e.preventDefault();var o=r.closest(".op-controls-container");if(n.size()>0)n.clear();else{var s=function(e){var t={id:"panel-"+(new Date).getTime(),title:"Settings",body:[],isRoot:!0,panelType:""},n=e.getConfig();n&&n.systemText&&(Object.keys(Xn).forEach((function(e){Xn[e]=n.systemText.ui.setting[e]})),t.title=n.systemText.ui.setting.title);var r=e.getSources(),i=r&&r.length>0?r[e.getCurrentSource()]:null,o=e.getQualityLevels(),s=o&&o.length>0?o[e.getCurrentQuality()]:null,a=e.getAudioTracks(),l=a&&a.length>0?a[e.getCurrentAudioTrack()]:null,c=e.getCaptionList(),u=e.getCurrentCaption(),d=e.getFramerate(),f=n.showZoomSettings;if(i){var h={title:Xn.speed,value:e.getPlaybackRate()+Xn.speedUnit,description:e.getPlaybackRate()+Xn.speedUnit,panelType:"speed",hasNext:!0};t.body.push(h)}if(r&&r.length>1){var A={title:Xn.source,value:i?i.label:"Default",description:i?i.label:"Default",panelType:"source",hasNext:!0};t.body.push(A)}if(o&&o.length>0){var p={title:Xn.quality,value:s?s.label:"Default",description:s?s.label:"Default",panelType:"quality",hasNext:!0};t.body.push(p)}if(a&&a.length>0){var g={title:Xn.audioTrack,value:l?l.label:"Default",description:l?l.label:"Default",panelType:"audioTrack",hasNext:!0};t.body.push(g)}if(c&&c.length>0){var m={title:Xn.caption,value:c[u]?c[u].label:"OFF",description:c[u]?c[u].label:"OFF",panelType:"caption",hasNext:!0};t.body.push(m)}if(d>0){var v={title:Xn.display,value:e.isTimecodeMode()?"Play time":"Framecode",description:e.isTimecodeMode()?"Play time":"Framecode",panelType:"display",hasNext:!0};t.body.push(v)}if(f){var y={title:Xn.zoom,value:Math.round(100*e.getZoomFactor())+"%",description:Math.round(100*e.getZoomFactor())+"%",panelType:"zoom",hasNext:!0};t.body.push(y)}return t}(t);n.add(qn(o,t,s))}}};return Wn(e,"SettingButton",t.getConfig(),null,r,(function(e,t){}),(function(e){}))}(e.find(".setting-holder"),t)}function y(){c||(c=function(e,t){var n=Xe(t.getContainerElement()),r="",i="",o=!1,s=(t.getConfig(),t.getBrowser()),a="iOS"===s.os,l=(s.os,""),c=!1,u={onfullscreenchange:"fullscreenchange",onmozfullscreenchange:"mozfullscreenchange",onwebkitfullscreenchange:"webkitfullscreenchange",MSFullscreenChange:"MSFullscreenChange"};function d(){var e=!1,t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return t&&n.get()===t&&(e=!0),e}function f(){OvenPlayerConsole.log("FULLSCREEN STATE : ",d()),d()?(c&&document.body.classList.add("op-fullscreen-helper"),n.addClass("op-fullscreen"),o=!0,r.hide(),i.show()):(c&&document.body.classList.remove("op-fullscreen-helper"),n.removeClass("op-fullscreen"),o=!1,r.show(),i.hide())}function h(){OvenPlayerConsole.log("afterFullScreenChangedCallback () "),f(),t.trigger(ke,o)}function A(){o?(n.removeClass("op-fullscreen"),document.body.classList.remove("op-fullscreen-helper"),o=!1,r.show(),i.hide()):(document.body.classList.add("op-fullscreen-helper"),n.addClass("op-fullscreen"),o=!0,r.hide(),i.show()),t.trigger(ke,o)}function p(){var e;!o||a&&!d()?a&&t.getConfig().iOSFakeFullScreen?(c=!0,A()):function(){var e,r="",i=n.get(),s=n.find("video")?n.find("video").get():i,l=null;if(a){if(s.length>1)for(var u=0;u<s.length;u++){var d=s[u].getAttribute("title");d&&"Advertisement"===d?l=s[u]:e=s[u]}else e=s;l&&t.getState()===ie||t.getState()===oe||t.getState()===se?l.webkitEnterFullScreen&&(r=l.webkitEnterFullScreen(),o=!0):e.webkitEnterFullScreen&&(r=e.webkitEnterFullScreen(),o=!0)}else if(i.requestFullscreen){var f=t.getConfig().fullscreenOption;r=i.requestFullscreen(f)}else i.webkitRequestFullScreen?r=i.webkitRequestFullScreen():i.mozRequestFullScreen?r=i.mozRequestFullScreen():i.msRequestFullscreen&&(r=i.msRequestFullscreen());r&&r.then((function(){o=!0,c=!1})).catch((function(e){c=!0,A()}))}():c?A():(e="",document.exitFullscreen?e=document.exitFullscreen():document.webkitExitFullscreen?e=document.webkitExitFullscreen():document.webkitExitFullScreen?e=document.webkitExitFullScreen():document.mozCancelFullScreen?e=document.mozCancelFullScreen():document.msExitFullscreen&&(e=document.msExitFullscreen()),e&&e.then((function(){o=!1})).catch((function(e){})))}t.toggleFullScreen=p;var g={"click .op-fullscreen-button":function(e,n,r){e.preventDefault(),t.trigger("fullscreenRequested",null),p()}};return Wn(e,"FullScreenButton",t.getConfig(),null,g,(function(e,s){var c,d;r=e.find(".op-fullscreen-expand"),i=e.find(".op-fullscreen-compress"),f(),c=n.get(),d="",c.requestFullscreen?d=u.onfullscreenchange:c.webkitRequestFullScreen?d=u.onwebkitfullscreenchange:c.mozRequestFullScreen?d=u.onmozfullscreenchange:c.msRequestFullscreen?d=u.MSFullscreenChange:Object.keys(u).forEach((function(e){document[e]&&(d=u[e])})),(l=d)&&document.addEventListener(l,h,!1),t.on(Ie,(function(e){var t,r=n.find("video")?n.find("video").get():n.get();if(e.isLinear&&a&&o){if(r.length>1)for(var i=0;i<r.length;i++){var s=r[i].getAttribute("title");s&&"Advertisement"===s?r[i]:t=r[i]}else t=r;t&&t.webkitExitFullscreen&&(t.webkitExitFullscreen(),o=!1)}}),s)}),(function(e){l&&document.removeEventListener(l,h),t.off(Ie,null,e)}))}(e.find(".fullscreen-holder"),t))}function b(n){n.duration>9e15&&(n.duration=1/0);var r=t.getSources()[t.getCurrentSource()].sectionStart,i=t.getSources()[t.getCurrentSource()].sectionEnd;i&&(n.duration=i),r&&(n.duration=n.duration-r),function(n){a&&a.destroy(),a=function(e,t,n){var r="",i="",o="",s=t.getMediaElement(),a=!1,c=!1,u=0;function d(e){return l(e)}var f={"click .op-live-text":function(e,n,r){if(e.preventDefault(),a&&!c){var i=t.getMseInstance().liveSyncPosition;t.seek(i)}}};return Wn(e,"TimeDisplay",t.getConfig(),n,f,(function(e,l){u=0;var f=t.isTimecodeMode();r=e.find(".op-time-current"),i=e.find(".op-time-duration"),o=e.find(".op-live-badge"),e.find(".op-live-text"),n&&n.type===fe&&n.duration===1/0&&(a=!0,t.getProviderName()===ce&&(c=!0)),n.duration!==1/0?(f?i.text(d(n.duration)):(r.text(0),i.text(Math.round(n.duration*t.getFramerate())+" ("+t.getFramerate()+"fps)")),t.on(Qe,(function(e){(f=e)?(r.text(d(u)),i.text(d(n.duration))):(r.text(Math.round(u*t.getFramerate())),i.text(Math.round(n.duration*t.getFramerate())+" ("+t.getFramerate()+"fps)"))}),l),t.on(Be,(function(e){u=e.position,f?r.text(d(e.position)):r.text(Math.round(e.position*t.getFramerate()))}),l)):a&&!c?t.on(Be,(function(e){t.getConfig().legacyUI||(t.getMseInstance().liveSyncPosition-e.position>t.getMseInstance().targetLatency?o.addClass("op-live-badge-delayed"):o.removeClass("op-live-badge-delayed"))}),l):a&&c&&t.on(Be,(function(e){t.getConfig().legacyUI||(s.seekable.end(s.seekable.length-1)-s.seekable.start(0)-e.position>3?o.addClass("op-live-badge-delayed"):o.removeClass("op-live-badge-delayed"))}),l)}),(function(e){t.off(Qe,null,e),t.off(Be,null,e)}))}(e.find(".op-left-controls"),t,n)}(n),y(),t.getFramerate&&t.getFramerate(),n.duration===1/0?(OvenPlayerConsole.log("[[[[LIVE MODE]]]]"),n.type===fe?h(!1,n):s&&s.destroy()):h(!1),d=!0}function E(){s&&s.destroy(),v(),y(),g.removeClass("linear-ad"),h(!1)}i=function(e,t){var n="",r="",i="",o="",s="",a="",l="",c={"click .op-play-button":function(e,n,r){e.preventDefault();var i=t.getState(),o=t.getPlaylist(),s=t.getCurrentPlaylist();i===Z?t.play():i===ee||i===oe?t.pause():i===ne||i===re?t.stop():i===$||i===se?t.play():i===te?t.setCurrentSource(t.getCurrentSource()):i===J&&o.length===s+1&&(t.seek(0),t.play())},"click .op-seek-button-back":function(e,n,r){var i=t.getConfig().seekControlInterval;i||(i=10);var o=t.getPosition()-i;o<0&&(o=0),t.seek(o)},"click .op-seek-button-forward":function(e,n,r){var i=t.getConfig().seekControlInterval;i||(i=10);var o=t.getPosition()+i;o>t.getDuration()&&(o=t.getDuration()),t.seek(o)}};return Wn(e,"PlayButton",t.getConfig(),null,c,(function(e,c){n=e.find(".op-play-button .op-play"),r=e.find(".op-play-button .op-pause"),i=e.find(".op-play-button .op-replay"),o=e.find(".op-seek-button-back"),s=e.find(".op-seek-button-forward"),a=e.find(".op-seek-back-text"),l=e.find(".op-seek-forward-text"),t.on(be,(function(e){var t;e&&e.newstate&&(t=e.newstate,n.hide(),r.hide(),i.hide(),t===ee||t===oe||t===ne||t===re?r.show():t===$||t===se?n.show():t===J?i.show():n.show())}),c),t.getConfig().showSeekControl||(o.hide(),s.hide());var u=t.getConfig().seekControlInterval;u?(a.text(u),l.text(u)):(a.text(10),l.text(10))}),(function(e){t.off(be,null,e)}))}(e.find(".op-left-controls"),t),r=function(e,t){var n="",r="",i="",o="",s="",a="",l="",c=!1,u=0,d="iOS"===t.getBrowser().os||"Android"===t.getBrowser().os;function f(e){t.getMute()&&(e=0),function(e){s.hide(),a.hide(),l.hide(),e>=70?s.show():e<70&&e>0?a.show():0==e?l.show():s.show()}(e);var n=u*e/100;i.css("left",n+"px"),o.css("width",n+"px")}function h(e){var t=((e.pageX||e.touches[0].clientX)-r.offset().left)/70*100;return t<0&&(t=0),t>100&&(t=100),t}var A={"click .op-volume-button":function(e,n,r){e.preventDefault(),d||(0===t.getVolume()?(t.setMute(!1),t.setVolume(100)):t.setMute())},"mouseenter .op-volume-button":function(e,t,r){e.preventDefault(),d||n.addClass("active")},"mouseleave .op-volume-silder":function(e,t,n){e.preventDefault(),c=!1},"mousedown .op-volume-silder":function(e,n,r){e.preventDefault(),c=!0,t.setMute(!1),t.setVolume(h(e))},"mouseup .op-volume-silder":function(e,t,n){e.preventDefault(),c=!1},"mousemove .op-volume-silder":function(e,n,r){if(e.preventDefault(),!c)return!1;t.setVolume(h(e))},"touchstart .op-volume-button":function(e){d&&(t.getMute()?t.setMute(!1):t.setMute(!0))}},p=Wn(e,"VolumeButton",t.getConfig(),null,A,(function(e,c){n=e.find(".op-volume-slider-container"),t.getBrowser().mobile&&n.hide(),r=e.find(".op-volume-silder"),i=e.find(".op-volume-slider-handle"),o=e.find(".op-volume-slider-value"),s=e.find(".op-volume-max"),a=e.find(".op-volume-small"),l=e.find(".op-volume-mute"),u=64,i.css("left",u+"px"),f(t.getVolume()),t.on(Ae,(function(){f(t.getVolume())}),c),t.on(Pe,(function(e){f(e.volume)}),c),t.on(Oe,(function(e){e.mute?f(0):f(t.getVolume())}),c)}),(function(e){t.off(Ae,null,e),t.off(Pe,null,e),t.off(Oe,null,e)}));return p.setMouseDown=function(e){c=e},p}(e.find(".op-left-controls"),t);var C=t.getPlaylist(),w=t.getCurrentPlaylist();C&&C[w]&&C[w].adTagUrl||v(),y(),t.on(Ae,(function(){e.show()}),u),t.on(Me,(function(e){n=e.duration,m=e,e.isP2P=f,b(e)}),u),t.on(Be,(function(e){(A||t&&t.getProviderName&&"rtmp"===t.getProviderName())&&!n&&m&&m.duration!==e.duration&&(m=e,b(e))}),u),t.on(Te,(function(e){g.find(".op-setting-panel")&&g.find(".op-setting-panel").css("max-height",g.height()-g.find(".op-bottom-panel").height()+"px")}),u),t.on(Ge,(function(e){f=e}),u),t.on(we,(function(){if(!d){var n="";t.getSources().length>0&&t.getSources()[t.getCurrentSource()]&&t.getSources()[t.getCurrentSource()].type&&(n=t.getSources()[t.getCurrentSource()].type),b({isP2P:f,duration:t.getDuration(),type:n})}e.show()}),u),t.on(ye,(function(t){e.show()}),u),t.on(Ie,(function(e){e.isLinear?(g.addClass("linear-ad"),h(!0),o&&o.destroy(),p&&c&&c.destroy()):g.removeClass("linear-ad")}),u),t.on(ae,(function(){E()}),u),t.on(le,(function(){E()}),u),t.on(_e,(function(){E()}),u)}),(function(e){t.off(Me,null,e),t.off(Be,null,e),t.off(ae,null,e),t.off(Ie,null,e),t.off(Ge,null,e),t.off(le,null,e),t.off(Te,null,e),t.off(_e,null,e),a&&a.destroy(),i&&i.destroy(),s&&s.destroy(),c&&c.destroy(),r&&r.destroy()}))},Jn=n(88769),$n=n.n(Jn),er=n(85072),tr=n.n(er),nr=n(97825),rr=n.n(nr),ir=n(77659),or=n.n(ir),sr=n(55056),ar=n.n(sr),lr=n(10540),cr=n.n(lr),ur=n(41113),dr=n.n(ur),fr=n(69534),hr={};hr.styleTagTransform=dr(),hr.setAttributes=ar(),hr.insert=or().bind(null,"head"),hr.domAPI=rr(),hr.insertStyleElement=cr(),tr()(fr.A,hr),fr.A&&fr.A.locals&&fr.A.locals;var Ar,pr=function(e){var t,n="",r="",i="",o="",s=null,a="",l=!1,c=Vn(),u="",d="",f=null,h={};function A(e,n){if(a&&(clearTimeout(a),a=null),e){if(c.size()>0)return!1;t.addClass("op-autohide")}else t.removeClass("op-autohide"),n&&(a=setTimeout((function(){if(c.size()>0)return!1;t.addClass("op-autohide")}),3e3))}function p(){s.play()}function g(e,t){var n,r=s.getDuration(),i=s.getPosition();n=t?Math.max(i-e,0):Math.min(i+e,r),s.seek(n)}function m(e){var t,n=s.getVolume();t=e?Math.min(n+5,100):Math.max(n-5,0),s.setVolume(t)}function v(){var e=t.width();e<576?(u="xsmall",t.addClass("xsmall"),e<490&&t.addClass("xxsmall")):e<768?(u="small",t.addClass("small")):e<992?(u="medium",t.addClass("medium")):(u="large",t.addClass("large"))}var y={"click .ovenplayer":function(e,t,n){if(s&&s.trigger(Se,e),o)return e.preventDefault(),o.destroy(),o=null,!1;if(!Xe(e.target).closest(".op-controls-container")&&!Xe(e.target).closest(".op-setting-panel")){if(c.size()>0)return e.preventDefault(),c.clear(),!1;s.getDuration()===1/0||s.getBrowser().mobile||p()}},"dblclick .ovenplayer":function(e,t,n){if(s){var r=function(e){var t=e.target.getBoundingClientRect();return e.offsetX>=2/3*t.width?"right":e.offsetX>=1/3*t.width?"middle":"left"}(e),i=s.getPosition(),o=s.getConfig().doubleTapToSeek;if(o&&"left"==r){var a=Math.max(i-10,0);OvenPlayerConsole.log("Seeking to ".concat(a)),s.seek(a)}if(o&&"right"===r){var l=Math.min(i+10,s.getDuration());OvenPlayerConsole.log("Seeking to ".concat(l)),s.seek(l)}"middle"!==r&&o||(OvenPlayerConsole.log("Toggling fullscreen"),s.getConfig().expandFullScreenUI&&s.toggleFullScreen&&(Xe(e.target).closest(".op-controls-container")||Xe(e.target).closest(".op-setting-panel")||s.toggleFullScreen()))}},"touchstart .ovenplayer":function(e,t,n){A(!1,!0)},"mouseenter .ovenplayer":function(e,t,n){e.preventDefault(),A(!1,!0)},"mousemove .ovenplayer":function(e,t,n){e.preventDefault(),A(!1,!0)},"mouseleave .ovenplayer":function(e,t,n){e.preventDefault(),A(!0)},"keydown .ovenplayer":function(e,t,n){var r=s.getFramerate();switch(e.keyCode){case 16:e.preventDefault(),l=!0;break;case 32:e.preventDefault(),p();break;case 37:e.preventDefault(),s.getConfig().disableSeekUI||(l&&r?s.seekFrame(-1):g(5,!0));break;case 39:e.preventDefault(),s.getConfig().disableSeekUI||(l&&r?s.seekFrame(1):g(5,!1));break;case 38:e.preventDefault(),m(!0);break;case 40:e.preventDefault(),m(!1)}},"keyup .ovenplayer":function(e,t,n){16===e.keyCode&&(e.preventDefault(),l=!1)},"contextmenu .ovenplayer":function(e,n,r){if(e.stopPropagation(),!Xe(e.currentTarget).find("object"))return e.preventDefault(),i=e.pageX,a=e.pageY,o&&(o.destroy(),o=null),o=function(e,t,n){var r=Xe(t.getContainerElement()),i={"click .op-context-item":function(e,t,n){e.preventDefault(),window.open("https://github.com/AirenSoft/OvenPlayer","_blank")}};return Wn(e,"ContextPanel",t.getConfig(),n,i,(function(e,t){var i=e.width(),o=e.height(),s=Math.min(n.pageX-r.offset().left,r.width()-i),a=Math.min(n.pageY-r.offset().top,r.height()-o);e.css("left",s+"px"),e.css("top",a+"px")}),(function(){}))}(t,s,{pageX:i,pageY:a}),!1;var i,a}};return(h=Wn(e,"View",null,e.id,y,(function(e,r){t=e,n=r,v(),d=u,f=new($n())(t.get(),(function(){t.removeClass("large"),t.removeClass("medium"),t.removeClass("small"),t.removeClass("xsmall"),t.removeClass("xxsmall"),v(),u!==d&&(d=u,s&&s.trigger(Te,d))}))}),(function(){f&&(f.detach(),f=null),i&&(i.destroy(),i=null),r&&(r.destroy(),r=null)}),!0)).getMediaElementContainer=function(){return t.find(".op-media-element-container").get()},h.setApi=function(e){(s=e).getContainerElement=function(){return t.get()},s.getContainerId=function(){return t.get().id},s.on(Ae,(function(n){r||(r=Zn(t.find(".op-ui"),e)),o||t.addClass("op-no-controls"),A(!1,!0)})),s.on(ye,(function(e){if(s){var t=s.getSources()||[];r&&t.length}})),s.on(pe,(function(e){n.destroy()})),s.on(we,(function(n){!r&&o&&(r=Zn(t.find(".op-ui"),e))}));var o=s.getConfig()&&s.getConfig().controls;i=Hn(t.find(".op-ui"),e),r=Zn(t.find(".op-ui"),e);var a=s.getConfig().aspectRatio;if(a&&2===a.split(":").length){var l=1*a.split(":")[0],c=1*a.split(":")[1]/l*100;t.find(".op-ratio").css("padding-bottom",c+"%")}s.showControls=function(e,n){e?(t.removeClass("op-no-controls"),A(!1,!n)):t.addClass("op-no-controls")}},h},gr=(Ar={},Object.assign(Ar,Nn),Ar.create=function(e,t){var n=tt(e),i=pr(n),o=Nn.create(i.getMediaElementContainer(),t);return i.setApi(o),OvenPlayerConsole.log("[OvenPlayer] v."+r),o},Ar)},53439:function(){!function(e){"use strict";if("window"in e&&"document"in e){document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),r=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)(t=document._qsa.shift()).style.removeAttribute("x-qsa"),r.push(t);return document._qsa=null,r}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),e.Node=e.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach((function(t){t[0]in e.Node||(e.Node[t[0]]=t[1])})),e.DOMException=e.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach((function(t){t[0]in e.DOMException||(e.DOMException[t[0]]=t[1])})),function(){function t(e,t,n){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var r=this,i=function(e){e._timeStamp=Date.now(),e._currentTarget=r,t.call(this,e),e._currentTarget=null};this["_"+e+t]=i,this.attachEvent("on"+e,i)}}function n(e,t,n){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var r=this["_"+e+t];r&&(this.detachEvent("on"+e,r),this["_"+e+t]=null)}}"Element"in e&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return!1===this.returnValue}}}),[Window,HTMLDocument,Element].forEach((function(e){e.prototype.addEventListener=t,e.prototype.removeEventListener=n})))}(),function(){function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"CustomEvent"in e&&"function"==typeof e.CustomEvent||(t.prototype=e.Event.prototype,e.CustomEvent=t)}(),window.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){var r=window.event;r.currentTarget=e,r.preventDefault=function(){r.returnValue=!1},r.stopPropagation=function(){r.cancelBubble=!0},r.target=r.srcElement,r.timeStamp=Date.now(),e["e"+t+n].call(this,r)},e.attachEvent("on"+t,e[t+n]))},window.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&(e.detachEvent("on"+t,e[t+n]),e[t+n]=null,e["e"+t+n]=null)},function(){function t(e,t){function n(e){return e.length?e.split(/\s+/g):[]}function r(e,t){var r=n(t),i=r.indexOf(e);return-1!==i&&r.splice(i,1),r.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return n(e[t]).length}},item:{value:function(r){var i=n(e[t]);return 0<=r&&r<i.length?i[r]:null}},contains:{value:function(r){if(0===(r=String(r)).length)throw SyntaxError();if(/\s/.test(r))throw Error("InvalidCharacterError");return-1!==n(e[t]).indexOf(r)}},add:{value:function(){var r=Array.prototype.slice.call(arguments).map(String);if(r.some((function(e){return 0===e.length})))throw SyntaxError();if(r.some((function(e){return/\s/.test(e)})))throw Error("InvalidCharacterError");try{var i=e[t],o=n(i);if(0===(r=r.filter((function(e){return-1===o.indexOf(e)}))).length)return;0===i.length||/\s$/.test(i)||(i+=" "),i+=r.join(" "),e[t]=i}finally{var s=n(e[t]).length;this.length!==s&&(this.length=s)}}},remove:{value:function(){var i=Array.prototype.slice.call(arguments).map(String);if(i.some((function(e){return 0===e.length})))throw SyntaxError();if(i.some((function(e){return/\s/.test(e)})))throw Error("InvalidCharacterError");try{var o=e[t];i.forEach((function(e){o=r(e,o)})),e[t]=o}finally{var s=n(e[t]).length;this.length!==s&&(this.length=s)}}},toggle:{value:function(i){var o=arguments[1];try{if(0===(i=String(i)).length)throw SyntaxError();if(/\s/.test(i))throw Error("InvalidCharacterError");var s=n(e[t]).indexOf(i);if(-1!==s&&(!o||void 0===o))return e[t]=r(i,e[t]),!1;if(-1!==s&&o)return!0;var a=e[t];return 0===a.length||/\s$/.test(a)||(a+=" "),a+=i,e[t]=a,!0}finally{var l=n(e[t]).length;this.length!==l&&(this.length=l)}}},toString:{value:function(){return e[t]}}}),"length"in this)for(var i=0;i<100;++i)Object.defineProperty(this,String(i),{get:function(e){return function(){return this.item(e)}}(i)});else this.length=n(e[t]).length}function n(t,n){"Element"in e&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,t,{get:n})}"classList"in document.createElement("span")?window.getClassList=function(e){return e.classList}:(window.getClassList=function(e){return new t(e,"className")},n("classList",(function(){return new t(this,"className")}))),"relList"in document.createElement("link")?window.getRelList=function(e){return e.relList}:(window.getRelList=function(e){return new t(e,"rel")},n("relList",(function(){return new t(this,"rel")}))),function(){if("DOMTokenList"in e){var t=document.createElement("span");"classList"in t&&(t.classList.toggle("x",!1),t.classList.contains("x")&&(e.DOMTokenList.prototype.toggle=function(e){var t=arguments[1];if(void 0===t){var n=!this.contains(e);return this[n?"add":"remove"](e),n}return this[(t=!!t)?"add":"remove"](e),t}))}}(),"previousElementSibling"in document.documentElement||n("previousElementSibling",(function(){for(var e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e})),"nextElementSibling"in document.documentElement||n("nextElementSibling",(function(){for(var e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}))}(),"Element"in e&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r});var t={prepend:function(){var e=[].slice.call(arguments);e=i(e),this.insertBefore(e,this.firstChild)},append:function(){var e=[].slice.call(arguments);e=i(e),this.appendChild(e)}};r(e.Document||e.HTMLDocument,t),r(e.DocumentFragment,t),r(e.Element,t);var n={before:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var n=this.previousSibling;-1!==e.indexOf(n);)n=n.previousSibling;var r=i(e);t.insertBefore(r,n?n.nextSibling:t.firstChild)}},after:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var n=this.nextSibling;-1!==e.indexOf(n);)n=n.nextSibling;var r=i(e);t.insertBefore(r,n)}},replaceWith:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var n=this.nextSibling;-1!==e.indexOf(n);)n=n.nextSibling;var r=i(e);this.parentNode===t?t.replaceChild(r,this):t.insertBefore(r,n)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}};r(e.DocumentType,n),r(e.Element,n),r(e.CharacterData,n)}function r(e,t){e&&Object.keys(t).forEach((function(n){if(!(n in e)&&!(n in e.prototype))try{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}catch(r){e[n]=t[n]}}))}function i(e){var t=null;return 1===(e=e.map((function(e){return e instanceof Node?e:document.createTextNode(e)}))).length?t=e[0]:(t=document.createDocumentFragment(),e.forEach((function(e){t.appendChild(e)}))),t}}(self)},88769:function(e,t){var n,r;r=this,void 0===(n=function(){return r.returnExportsGlobal=function(){"use strict";var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(){var e,t;this.q=[],this.add=function(e){this.q.push(e)},this.call=function(){for(e=0,t=this.q.length;e<t;e++)this.q[e].call()}}function n(n,r){if(n.resizedAttached){if(n.resizedAttached)return void n.resizedAttached.add(r)}else n.resizedAttached=new t,n.resizedAttached.add(r);n.resizeSensor=document.createElement("div"),n.resizeSensor.className="resize-sensor";var i="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;direction: ltr;",o="position: absolute; left: 0; top: 0; transition: 0s;";n.resizeSensor.style.cssText=i,n.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',n.appendChild(n.resizeSensor),"static"==function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}(n,"position")&&(n.style.position="relative");var s=n.resizeSensor.childNodes[0],a=s.childNodes[0],l=n.resizeSensor.childNodes[1],c=function(){a.style.width="100000px",a.style.height="100000px",s.scrollLeft=1e5,s.scrollTop=1e5,l.scrollLeft=1e5,l.scrollTop=1e5};c();var u,d,f,h,A=!1,p=function(){n.resizedAttached&&(A&&(n.resizedAttached.call(),A=!1),e(p))};e(p);var g=function(){(f=n.offsetWidth)==u&&(h=n.offsetHeight)==d||(A=!0,u=f,d=h),c()},m=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};m(s,"scroll",g),m(l,"scroll",g)}var r=function(e,t){var r=Object.prototype.toString.call(e),i=this._isCollectionTyped="[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"undefined"!=typeof jQuery&&e instanceof window.jQuery||"undefined"!=typeof Elements&&e instanceof window.Elements;if(this._element=e,i)for(var o=0,s=e.length;o<s;o++)n(e[o],t);else n(e,t)};return r.prototype.detach=function(){var e=this._isCollectionTyped,t=this._element;if(e)for(var n=0,i=t.length;n<i;n++)r.detach(t[n]);else r.detach(t)},r.detach=function(e){e.resizeSensor&&(e.hasChildNodes()&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)},r}()}.apply(t,[]))||(e.exports=n)},69986:function(e,t,n){var r,i,o;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}o=function(){var e="1.13.1",t="object"==("undefined"==typeof self?"undefined":s(self))&&self.self===self&&self||"object"==(void 0===n.g?"undefined":s(n.g))&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,i=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,l=r.slice,c=i.toString,u=i.hasOwnProperty,d="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,h=Array.isArray,A=Object.keys,p=Object.create,g=d&&ArrayBuffer.isView,m=isNaN,v=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=Math.pow(2,53)-1;function C(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function w(e){var t=s(e);return"function"===t||"object"===t&&!!e}function S(e){return void 0===e}function T(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)}function k(e){var t="[object "+e+"]";return function(e){return c.call(e)===t}}var x=k("String"),L=k("Number"),I=k("Date"),R=k("RegExp"),D=k("Error"),B=k("Symbol"),P=k("ArrayBuffer"),O=k("Function"),M=t.document&&t.document.childNodes;"object"!=("undefined"==typeof Int8Array?"undefined":s(Int8Array))&&"function"!=typeof M&&(O=function(e){return"function"==typeof e||!1});var _=O,F=k("Object"),N=f&&F(new DataView(new ArrayBuffer(8))),U="undefined"!=typeof Map&&F(new Map),Q=k("DataView"),G=N?function(e){return null!=e&&_(e.getInt8)&&P(e.buffer)}:Q,j=h||k("Array");function W(e,t){return null!=e&&u.call(e,t)}var z=k("Arguments");!function(){z(arguments)||(z=function(e){return W(e,"callee")})}();var H=z;function Y(e){return L(e)&&m(e)}function V(e){return function(){return e}}function K(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=E}}function q(e){return function(t){return null==t?void 0:t[e]}}var X=q("byteLength"),Z=K(X),J=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,$=d?function(e){return g?g(e)&&!G(e):Z(e)&&J.test(c.call(e))}:V(!1),ee=q("length");function te(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=b.length,r=e.constructor,o=_(r)&&r.prototype||i,s="constructor";for(W(e,s)&&!t.contains(s)&&t.push(s);n--;)(s=b[n])in e&&e[s]!==o[s]&&!t.contains(s)&&t.push(s)}function ne(e){if(!w(e))return[];if(A)return A(e);var t=[];for(var n in e)W(e,n)&&t.push(n);return y&&te(e,t),t}function re(e,t){var n=ne(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function ie(e){return e instanceof ie?e:this instanceof ie?void(this._wrapped=e):new ie(e)}function oe(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,X(e))}ie.VERSION=e,ie.prototype.value=function(){return this._wrapped},ie.prototype.valueOf=ie.prototype.toJSON=ie.prototype.value,ie.prototype.toString=function(){return String(this._wrapped)};var se="[object DataView]";function ae(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=s(e);return("function"===i||"object"===i||"object"==s(t))&&function e(t,n,r,i){t instanceof ie&&(t=t._wrapped),n instanceof ie&&(n=n._wrapped);var a=c.call(t);if(a!==c.call(n))return!1;if(N&&"[object Object]"==a&&G(t)){if(!G(n))return!1;a=se}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return o.valueOf.call(t)===o.valueOf.call(n);case"[object ArrayBuffer]":case se:return e(oe(t),oe(n),r,i)}var l="[object Array]"===a;if(!l&&$(t)){if(X(t)!==X(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;l=!0}if(!l){if("object"!=s(t)||"object"!=s(n))return!1;var u=t.constructor,d=n.constructor;if(u!==d&&!(_(u)&&u instanceof u&&_(d)&&d instanceof d)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];for(var f=(r=r||[]).length;f--;)if(r[f]===t)return i[f]===n;if(r.push(t),i.push(n),l){if((f=t.length)!==n.length)return!1;for(;f--;)if(!ae(t[f],n[f],r,i))return!1}else{var h,A=ne(t);if(f=A.length,ne(n).length!==f)return!1;for(;f--;)if(!W(n,h=A[f])||!ae(t[h],n[h],r,i))return!1}return r.pop(),i.pop(),!0}(e,t,n,r)}function le(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return y&&te(e,t),t}function ce(e){var t=ee(e);return function(n){if(null==n)return!1;var r=le(n);if(ee(r))return!1;for(var i=0;i<t;i++)if(!_(n[e[i]]))return!1;return e!==Ae||!_(n[ue])}}var ue="forEach",de=["clear","delete"],fe=["get","has","set"],he=de.concat(ue,fe),Ae=de.concat(fe),pe=["add"].concat(de,ue,"has"),ge=U?ce(he):k("Map"),me=U?ce(Ae):k("WeakMap"),ve=U?ce(pe):k("Set"),ye=k("WeakSet");function be(e){for(var t=ne(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Ee(e){for(var t={},n=ne(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Ce(e){var t=[];for(var n in e)_(e[n])&&t.push(n);return t.sort()}function we(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}var Se=we(le),Te=we(ne),ke=we(le,!0);function xe(e){if(!w(e))return{};if(p)return p(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Le(e){return w(e)?j(e)?e.slice():Se({},e):e}function Ie(e){return j(e)?e:[e]}function Re(e){return ie.toPath(e)}function De(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Be(e,t,n){var r=De(e,Re(t));return S(r)?n:r}function Pe(e){return e}function Oe(e){return e=Te({},e),function(t){return re(t,e)}}function Me(e){return e=Re(e),function(t){return De(t,e)}}function _e(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Fe(e,t,n){return null==e?Pe:_(e)?_e(e,t,n):w(e)&&!j(e)?Oe(e):Me(e)}function Ne(e,t){return Fe(e,t,1/0)}function Ue(e,t,n){return ie.iteratee!==Ne?ie.iteratee(e,t):Fe(e,t,n)}function Qe(){}function Ge(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ie.toPath=Ie,ie.iteratee=Ne;var je=Date.now||function(){return(new Date).getTime()};function We(e){var t=function(t){return e[t]},n="(?:"+ne(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},He=We(ze),Ye=We(Ee(ze)),Ve=ie.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ke=/(.)^/,qe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Xe=/\\|'|\r|\n|\u2028|\u2029/g;function Ze(e){return"\\"+qe[e]}var Je=/^\s*(\w|\$)+\s*$/,$e=0;function et(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=xe(e.prototype),s=e.apply(o,i);return w(s)?s:o}var tt=C((function(e,t){var n=tt.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return et(e,r,this,this,s)};return r}));tt.placeholder=ie;var nt=C((function(e,t,n){if(!_(e))throw new TypeError("Bind must be called on a function");var r=C((function(i){return et(e,r,t,this,n.concat(i))}));return r})),rt=K(ee);function it(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,s=ee(e);o<s;o++){var a=e[o];if(rt(a)&&(j(a)||H(a)))if(t>1)it(a,t-1,n,r),i=r.length;else for(var l=0,c=a.length;l<c;)r[i++]=a[l++];else n||(r[i++]=a)}return r}var ot=C((function(e,t){var n=(t=it(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=nt(e[r],e)}return e})),st=C((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),at=tt(st,ie,1);function lt(e){return function(){return!e.apply(this,arguments)}}function ct(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var ut=tt(ct,2);function dt(e,t,n){t=Ue(t,n);for(var r,i=ne(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r}function ft(e){return function(t,n,r){n=Ue(n,r);for(var i=ee(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var ht=ft(1),At=ft(-1);function pt(e,t,n,r){for(var i=(n=Ue(n,r,1))(t),o=0,s=ee(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}function gt(e,t,n){return function(r,i,o){var s=0,a=ee(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(l.call(r,s,a),Y))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}var mt=gt(1,ht,pt),vt=gt(-1,At);function yt(e,t,n){var r=(rt(e)?ht:dt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function bt(e,t,n){var r,i;if(t=_e(t,n),rt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=ne(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function Et(e,t,n){t=Ue(t,n);for(var r=!rt(e)&&ne(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}function Ct(e){var t=function(t,n,r,i){var o=!rt(t)&&ne(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;r=n(r,t[l],l,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,_e(n,i,4),r,o)}}var wt=Ct(1),St=Ct(-1);function Tt(e,t,n){var r=[];return t=Ue(t,n),bt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function kt(e,t,n){t=Ue(t,n);for(var r=!rt(e)&&ne(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}function xt(e,t,n){t=Ue(t,n);for(var r=!rt(e)&&ne(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}function Lt(e,t,n,r){return rt(e)||(e=be(e)),("number"!=typeof n||r)&&(n=0),mt(e,t,n)>=0}var It=C((function(e,t,n){var r,i;return _(t)?i=t:(t=Re(t),r=t.slice(0,-1),t=t[t.length-1]),Et(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=De(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function Rt(e,t){return Et(e,Me(t))}function Dt(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=s(e[0])&&null!=e)for(var l=0,c=(e=rt(e)?e:be(e)).length;l<c;l++)null!=(r=e[l])&&r>o&&(o=r);else t=Ue(t,n),bt(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}function Bt(e,t,n){if(null==t||n)return rt(e)||(e=be(e)),e[Ge(e.length-1)];var r=rt(e)?Le(e):be(e),i=ee(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=Ge(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)}function Pt(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Ue(r,i),bt(n,(function(t,i){var s=r(t,i,n);e(o,t,s)})),o}}var Ot=Pt((function(e,t,n){W(e,n)?e[n].push(t):e[n]=[t]})),Mt=Pt((function(e,t,n){e[n]=t})),_t=Pt((function(e,t,n){W(e,n)?e[n]++:e[n]=1})),Ft=Pt((function(e,t,n){e[n?0:1].push(t)}),!0),Nt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ut(e,t,n){return t in n}var Qt=C((function(e,t){var n={},r=t[0];if(null==e)return n;_(r)?(t.length>1&&(r=_e(r,t[1])),t=le(e)):(r=Ut,t=it(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),Gt=C((function(e,t){var n,r=t[0];return _(r)?(r=lt(r),t.length>1&&(n=t[1])):(t=Et(it(t,!1,!1),String),r=function(e,n){return!Lt(t,n)}),Qt(e,r,n)}));function jt(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Wt(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:jt(e,e.length-t)}function zt(e,t,n){return l.call(e,null==t||n?1:t)}var Ht=C((function(e,t){return t=it(t,!0,!0),Tt(e,(function(e){return!Lt(t,e)}))})),Yt=C((function(e,t){return Ht(e,t)}));function Vt(e,t,n,r){T(t)||(r=n,n=t,t=!1),null!=n&&(n=Ue(n,r));for(var i=[],o=[],s=0,a=ee(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||i.push(l),o=c):n?Lt(o,c)||(o.push(c),i.push(l)):Lt(i,l)||i.push(l)}return i}var Kt=C((function(e){return Vt(it(e,!0,!0))}));function qt(e){for(var t=e&&Dt(e,ee).length||0,n=Array(t),r=0;r<t;r++)n[r]=Rt(e,r);return n}var Xt=C(qt);function Zt(e,t){return e._chain?ie(t).chain():t}function Jt(e){return bt(Ce(e),(function(t){var n=ie[t]=e[t];ie.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),Zt(this,n.apply(ie,e))}})),ie}bt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];ie.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Zt(this,n)}})),bt(["concat","join","slice"],(function(e){var t=r[e];ie.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Zt(this,e)}}));var $t=Jt({__proto__:null,VERSION:e,restArguments:C,isObject:w,isNull:function(e){return null===e},isUndefined:S,isBoolean:T,isElement:function(e){return!(!e||1!==e.nodeType)},isString:x,isNumber:L,isDate:I,isRegExp:R,isError:D,isSymbol:B,isArrayBuffer:P,isDataView:G,isArray:j,isFunction:_,isArguments:H,isFinite:function(e){return!B(e)&&v(e)&&!isNaN(parseFloat(e))},isNaN:Y,isTypedArray:$,isEmpty:function(e){if(null==e)return!0;var t=ee(e);return"number"==typeof t&&(j(e)||x(e)||H(e))?0===t:0===ee(ne(e))},isMatch:re,isEqual:function(e,t){return ae(e,t)},isMap:ge,isWeakMap:me,isSet:ve,isWeakSet:ye,keys:ne,allKeys:le,values:be,pairs:function(e){for(var t=ne(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},invert:Ee,functions:Ce,methods:Ce,extend:Se,extendOwn:Te,assign:Te,defaults:ke,create:function(e,t){var n=xe(e);return t&&Te(n,t),n},clone:Le,tap:function(e,t){return t(e),e},get:Be,has:function(e,t){for(var n=(t=Re(t)).length,r=0;r<n;r++){var i=t[r];if(!W(e,i))return!1;e=e[i]}return!!n},mapObject:function(e,t,n){t=Ue(t,n);for(var r=ne(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},identity:Pe,constant:V,noop:Qe,toPath:Ie,property:Me,propertyOf:function(e){return null==e?Qe:function(t){return Be(e,t)}},matcher:Oe,matches:Oe,times:function(e,t,n){var r=Array(Math.max(0,e));t=_e(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},random:Ge,now:je,escape:He,unescape:Ye,templateSettings:Ve,template:function(e,t,n){!t&&n&&(t=n),t=ke({},t,ie.templateSettings);var r=RegExp([(t.escape||Ke).source,(t.interpolate||Ke).source,(t.evaluate||Ke).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,s,a){return o+=e.slice(i,a).replace(Xe,Ze),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t})),o+="';\n";var s,a=t.variable;if(a){if(!Je.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(a,"_",o)}catch(e){throw e.source=o,e}var l=function(e){return s.call(this,e,ie)};return l.source="function("+a+"){\n"+o+"}",l},result:function(e,t,n){var r=(t=Re(t)).length;if(!r)return _(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=_(o)?o.call(e):o}return e},uniqueId:function(e){var t=++$e+"";return e?e+t:t},chain:function(e){var t=ie(e);return t._chain=!0,t},iteratee:Ne,partial:tt,bind:nt,bindAll:ot,memoize:function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return W(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},delay:st,defer:at,throttle:function(e,t,n){var r,i,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:je(),r=null,s=e.apply(i,o),r||(i=o=null)},c=function(){var c=je();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),a=c,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c},debounce:function(e,t,n){var r,i,o,s,a,l=function(){var c=je()-i;t>c?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,o)),r||(o=a=null))},c=C((function(c){return a=this,o=c,i=je(),r||(r=setTimeout(l,t),n&&(s=e.apply(a,o))),s}));return c.cancel=function(){clearTimeout(r),r=o=a=null},c},wrap:function(e,t){return tt(t,e)},negate:lt,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:ct,once:ut,findKey:dt,findIndex:ht,findLastIndex:At,sortedIndex:pt,indexOf:mt,lastIndexOf:vt,find:yt,detect:yt,findWhere:function(e,t){return yt(e,Oe(t))},each:bt,forEach:bt,map:Et,collect:Et,reduce:wt,foldl:wt,inject:wt,reduceRight:St,foldr:St,filter:Tt,select:Tt,reject:function(e,t,n){return Tt(e,lt(Ue(t)),n)},every:kt,all:kt,some:xt,any:xt,contains:Lt,includes:Lt,include:Lt,invoke:It,pluck:Rt,where:function(e,t){return Tt(e,Oe(t))},max:Dt,min:function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=s(e[0])&&null!=e)for(var l=0,c=(e=rt(e)?e:be(e)).length;l<c;l++)null!=(r=e[l])&&r<o&&(o=r);else t=Ue(t,n),bt(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},shuffle:function(e){return Bt(e,1/0)},sample:Bt,sortBy:function(e,t,n){var r=0;return t=Ue(t,n),Rt(Et(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")},groupBy:Ot,indexBy:Mt,countBy:_t,partition:Ft,toArray:function(e){return e?j(e)?l.call(e):x(e)?e.match(Nt):rt(e)?Et(e,Pe):be(e):[]},size:function(e){return null==e?0:rt(e)?e.length:ne(e).length},pick:Qt,omit:Gt,first:Wt,head:Wt,take:Wt,initial:jt,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:zt(e,Math.max(0,e.length-t))},rest:zt,tail:zt,drop:zt,compact:function(e){return Tt(e,Boolean)},flatten:function(e,t){return it(e,t,!1)},without:Yt,uniq:Vt,unique:Vt,union:Kt,intersection:function(e){for(var t=[],n=arguments.length,r=0,i=ee(e);r<i;r++){var o=e[r];if(!Lt(t,o)){var s;for(s=1;s<n&&Lt(arguments[s],o);s++);s===n&&t.push(o)}}return t},difference:Ht,unzip:qt,transpose:qt,zip:Xt,object:function(e,t){for(var n={},r=0,i=ee(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n},mixin:Jt,default:ie});return $t._=$t,$t},"object"==s(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},69534:function(e,t,n){"use strict";var r=n(71354),i=n.n(r),o=n(76314),s=n.n(o),a=n(4417),l=n.n(a),c=new URL(n(85971),n.b),u=new URL(n(58233),n.b),d=new URL(n(36923),n.b),f=s()(i()),h=l()(c),A=l()(u),p=l()(d);f.push([e.id,'@charset "UTF-8";@keyframes op-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes op-slideOutDown{from{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}to{visibility:hidden;-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0)}}@keyframes op-slideOutDown{from{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}to{visibility:hidden;-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0)}}@-webkit-keyframes op-slideInUp{from{-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);opacity:1}to{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes op-slideInUp{from{-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);opacity:1}to{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@font-face{font-family:"frameIcon";src:url('+h+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'op-icons';src:url("+A+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'op-seek-icons';src:url("+p+') format(\'truetype\');font-weight:normal;font-style:normal}:root{--op-accent-color:#50e3c2}.op-fullscreen-helper{overflow:hidden;position:fixed}.op-wrapper.ovenplayer{position:relative;max-height:100%;overflow:hidden;zoom:1 !important;width:100%;display:block;font-family:Helvetica,Arial,sans-serif;background-color:#000;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:14px;font-weight:100;outline:0;-webkit-touch-callout:none;user-select:none}.op-wrapper.ovenplayer *{box-sizing:inherit}.op-wrapper.ovenplayer object{width:100%;height:100%;position:absolute}.op-wrapper.ovenplayer:before,.op-wrapper.ovenplayer:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-wrapper.ovenplayer *,.op-wrapper.ovenplayer *:before,.op-wrapper.ovenplayer *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-wrapper.ovenplayer.op-fullscreen{width:100vw !important;height:100vh !important;top:0;right:0;bottom:0;left:0;z-index:9999;margin:0;position:fixed}.op-wrapper.ovenplayer.op-fullscreen .op-watermark-container,.op-wrapper.ovenplayer.op-fullscreen .op-thumbnail-container{width:100vw;max-width:calc(100vh * 16 / 9);height:calc(100vw * 9 / 16);max-height:100vh;top:50%;left:50%;transform:translate(-50%, -50%)}.op-wrapper.ovenplayer.op-autohide{cursor:none}.op-wrapper.ovenplayer.op-autohide .op-bottom-panel{-webkit-animation-name:op-slideOutDown;animation-name:op-slideOutDown;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.op-wrapper.ovenplayer.op-autohide .op-progressbar-container,.op-wrapper.ovenplayer.op-autohide .op-controls .op-button{cursor:none}.op-wrapper.ovenplayer.op-autohide .op-caption-text-container{bottom:25px}.op-wrapper.ovenplayer.op-no-controls .op-controls-container{display:none !important}.op-wrapper.ovenplayer .op-ratio{padding-bottom:56.25%}.op-wrapper.ovenplayer ::-webkit-scrollbar{width:5px;height:8px}.op-wrapper.ovenplayer ::-webkit-scrollbar-button:start:decrement,.op-wrapper.ovenplayer ::-webkit-scrollbar-button:end:increment{display:block;height:3px;background:#2f2f3e}.op-wrapper.ovenplayer ::-webkit-scrollbar-track{background:#2f2f3e;-webkit-border-radius:10px;border-radius:10px}.op-wrapper.ovenplayer ::-webkit-scrollbar-thumb{height:50px;width:50px;background:#606071;-webkit-border-radius:8px;border-radius:8px}.op-wrapper.ovenplayer .op-clear{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Helvetica,Arial,sans-serif;font-size:1em;line-height:1em;list-style:none;text-transform:none;vertical-align:baseline;border:0;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}.op-player{position:absolute;top:0;height:100%;width:100%}.op-player .op-core-ui-wrapper{position:relative;height:100%}.op-player .op-media-element-container{position:absolute;left:0px;top:0px;width:100%;height:100%;transform:scale(var(--mediaZoom))}.op-player .op-media-element-container video{position:absolute;left:0;top:0;width:100%;height:100%}.op-player .op-media-element-container object{width:100%;height:100%}.op-ads{position:absolute;height:100%;width:100%;padding-bottom:34px;top:0}.op-ads>div{position:absolute !important;width:100% !important;height:100% !important}.op-ads>div iframe{pointer-events:auto}.op-ads video.op-ads-vast-video{background-color:#000;position:absolute;width:100%;height:100%;left:0;top:0;z-index:1}.op-ads .op-ads-button{bottom:36px;cursor:default;margin-right:4px;pointer-events:auto;position:absolute;right:0;z-index:1;width:auto !important;height:auto !important;border-radius:4px;background-color:rgba(18,18,28,0.7);min-width:155px;display:none}.op-ads .op-ads-button .op-ads-textview{color:#e6e6e6;font-weight:normal;font-size:11px;padding:6px 12px;text-align:center;display:inline-block;width:100%;vertical-align:middle}.op-ads .op-ads-button .videoAdUiAction{padding:8px 24px;cursor:pointer;direction:ltr;font-weight:normal;font-size:20px;border:1px solid rgba(255,255,255,0.5)}.op-ads .op-ads-button .videoAdUiAction:hover{border-radius:4px;border:1px solid #fff}.op-ads .op-ads-button .videoAdUiAction i{display:inline-block;width:auto}.op-button{display:inline-block;border:none;background:transparent;padding:0;color:inherit;text-align:inherit;overflow:hidden;font-weight:100;text-indent:0 !important}.op-button:focus,.op-button{outline:0}i.op-con{font-family:"op-icons","op-seek-icons";font-style:normal;font-weight:normal;speak:none;font-size:inherit;width:auto;font-size:30px;line-height:30px;display:block;text-decoration:inherit;text-align:center;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:pointer}i.op-con.disable{color:#4f4f4f}i.op-con.op-close-icon::before{content:"\\e900"}i.op-con.op-pause-big::before{content:"\\e911"}i.op-con.op-fullscreen-compress::before{content:"\\e901"}i.op-con.op-fullscreen-expand::before{content:"\\e902"}i.op-con.op-arrow-left::before{content:"\\e903"}i.op-con.op-arrow-right::before{content:"\\e909"}i.op-con.op-empty-video::before{content:"\\e904"}i.op-con.op-play::before{content:"\\e906"}i.op-con.op-replay::before{content:"\\e908"}i.op-con.op-seek-back::before{content:"\\e920"}i.op-con.op-seek-forward::before{content:"\\e921"}i.op-con.op-playlist-icon::before{content:"\\e907"}i.op-con.op-replay-big::before{content:"\\e908"}i.op-con.op-setting::before{content:"\\e90A"}i.op-con.op-pause::before{content:"\\e90C"}i.op-con.op-volume-small{display:none;margin-top:-1px}i.op-con.op-volume-small::before{content:"\\e90D"}i.op-con.op-volume-mute{display:none}i.op-con.op-volume-mute::before{content:"\\e90E"}i.op-con.op-volume-max::before{content:"\\e90F"}i.op-con.op-play-big::before{content:"\\e910"}i.op-con.op-warning::before{content:"\\e912"}.op-badge{display:inline-block;padding:.75em .714em .714em .68em;font-size:1em;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.286em;background-color:#12121c}.op-playlist{position:absolute;width:100%;height:100%;left:0;top:0;padding:2.857em;background:#000;z-index:6}.op-playlist .op-badge{position:absolute;top:.857em;right:.857em;opacity:.7}.op-playlist .btn-left{float:left;font-size:2.857em}.op-playlist .btn-right{float:right;font-size:2.857em}.op-playlist .op-playlist-header{font-size:2.857em;font-weight:bold}.op-playlist .op-playlist-header:after{display:block;content:\'\';clear:both}.op-playlist .op-playlist-header .op-con.op-close-icon{float:right}.op-playlist .op-playlist-body{height:100%;overflow:hidden;position:relative}.op-playlist .op-playlist-body .op-playlist-body-arrows{margin-top:-15px;position:absolute;top:50%;height:30px;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%;left:0}.op-playlist .op-playlist-body .op-playlist-body-container{width:100%;height:100%;position:relative;margin-right:auto;margin-left:auto;max-width:992px}.op-playlist .op-playlist-body .op-playlist-body-container .op-playlist-body-center{margin:0;position:absolute;top:50%;padding-right:3em;padding-left:3em;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%}.op-playlist .op-playlist-body .op-playlist-body-row{margin-right:-15px;margin-left:-15px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card{padding-right:15px;padding-left:15px;margin:15px 0;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%;cursor:pointer}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card.active{color:#50e3c2;color:var(--op-accent-color)}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card.active .op-playlist-card-thumbnail{border-color:#50e3c2;border-color:var(--op-accent-color)}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail{position:relative;display:block;width:100%;padding:0;overflow:hidden;border:.214em solid transparent;background-color:#000}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail img{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail.empty{background-color:#bababa}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail.empty>i{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#fff !important;font-size:1.6em !important}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail::before{padding-top:56.25%;display:block;content:""}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-title{margin-top:.857em;font-size:1.429em;padding:2px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.op-message-box{position:absolute;top:0;left:0;width:100%;height:100%;z-index:4}.op-message-box .op-message-container{position:absolute;top:45%;margin-top:-35px;width:100%;padding:0 12px;text-align:center}.op-message-box .op-message-container .op-message-text{display:inline-block;background-color:rgba(18,18,28,0.3);padding:.8em 1.2em;word-wrap:break-word;max-width:80%;border-radius:4px;cursor:pointer}.op-message-box .op-message-container .op-message-text .op-message-description{font-size:12px;margin-top:12px;color:#999}.op-message-box .op-message-container .op-message-icon{display:inline-block;margin-top:12px;width:100%}.op-message-box .op-message-container .op-message-icon i.op-con{cursor:pointer;font-size:80px;width:80px;height:80px;line-height:80px;display:inline-block;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-message-box.op-message-box-default-cursor .op-message-container .op-message-text{cursor:default}.op-message-box.op-message-box-default-cursor .op-message-container .op-message-icon i.op-con{cursor:default}.op-bigbutton-container{cursor:pointer;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);text-align:center;z-index:5}.op-bigbutton-container .op-bigbutton{width:80px;height:80px;display:block;font-size:80px;line-height:80px;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-thumbnail-container{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;pointer-events:none}.op-thumbnail-container .op-thumbnail-wrapper{position:absolute;left:0;top:0;width:100%;height:100%}.op-thumbnail-container .op-thumbnail-wrapper img{width:100%;height:100%}.op-thumbnail-container .op-thumbnail-wrapper .op-thumbnail-header{position:absolute;left:1rem;top:1rem;padding:0 .5rem;font-size:2.857em;font-weight:bold;line-height:1.4;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-thumbnail-container .op-thumbnail-wrapper .op-thumbnail-header:after{display:block;content:\'\';clear:both}.op-watermark-container{position:absolute;width:100%;height:100%;top:0;left:0;z-index:3}.op-watermark-container .op-watermark{position:absolute;display:inline-block}.op-watermark-container .op-watermark img{width:100%;height:auto}.op-watermark-container .op-watermark .op-watermark-text{font-size:14px}.op-setting-panel{position:absolute;bottom:55px;right:12px;overflow-y:auto;max-height:100%;width:260px;user-select:none;background-color:rgba(28,28,28,0.9);text-shadow:0 0 2px rgba(0,0,0,0.5);z-index:8}.op-setting-panel.background{display:none}.op-setting-panel .op-setting-title,.op-setting-panel .op-setting-item{width:100%;height:38px;line-height:38px;cursor:pointer;outline:none;text-align:left}.op-setting-panel .op-setting-title-container .op-setting-title .op-setting-title-title{padding-left:12px;font-weight:bold}.op-setting-panel .op-setting-title-container .op-setting-title .op-setting-title-previcon{padding:0 0 0 12px;margin-right:-6px}.op-setting-panel .op-setting-item-container .op-setting-item:hover{background-color:rgba(255,255,255,0.1)}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-title{padding-left:12px}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-nexticon{float:right;padding-right:12px;margin-left:-6px}.op-setting-panel .op-setting-item-container .op-setting-item span.op-setting-item-value{float:right;padding-right:12px}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-checked{padding-left:12px;visibility:hidden}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-checked.op-show{visibility:visible}.op-controls-container{display:none}.op-controls-container .op-bottom-panel{position:absolute;left:0px;bottom:0px;width:100%;z-index:5;-webkit-animation-name:op-slideInUp;animation-name:op-slideInUp;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.op-controls-container .op-bottom-panel .op-gradient-bottom{position:absolute;width:100%;height:100%;background-color:rgba(18,18,18,0.5);pointer-events:none}.op-controls-container .op-bottom-panel .op-progressbar-container{display:block;position:relative;width:100%;height:4px;bottom:50px}.op-controls-container .op-bottom-panel .op-progressbar-container.op-progressbar-container-disabled{cursor:default}.op-controls-container .op-bottom-panel .op-progressbar-container .op-progressbar-padding{position:absolute;width:100%;height:15px;bottom:-5px;cursor:pointer}.op-controls-container .op-bottom-panel .op-controls{position:relative;width:100%;height:50px;text-align:left;overflow:hidden}.op-controls-container .op-bottom-panel .op-controls:after{content:\'\';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-setting-button{position:relative;margin-right:12px}.op-controls-container .op-bottom-panel .op-controls .op-playlist-button{position:relative;margin-right:12px}.op-controls-container .op-bottom-panel .op-controls .op-navigators{float:left;height:30px;line-height:30px}.op-controls-container .op-bottom-panel .op-controls .op-left-controls{position:absolute;top:0;left:0;padding:14px 0 10px 0}.op-controls-container .op-bottom-panel .op-controls .op-left-controls:after{content:\'\';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-right-controls{position:absolute;top:0;right:0;padding:14px 0 10px 0}.op-controls-container .op-bottom-panel .op-controls .op-right-controls:after{content:\'\';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons{position:relative;display:inline-block;margin-left:14px;overflow:hidden;font-weight:100;height:30px}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button{margin-right:6px;position:relative;text-align:center;color:#fff}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon{position:relative}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon.reverse:after{content:\'\\e900\'}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon:after{font-family:\'frameIcon\' !important;speak:none;content:\'\\e901\';font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;font-size:2.4em;left:0;line-height:30px;height:30px}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon .btn-text{font-weight:bold;font-size:.8em;line-height:30px;height:30px}.op-progressbar{position:absolute;bottom:0;left:0;width:100%;height:100%;outline:none;margin-top:10px}.op-progressbar .op-play-background-color{background-color:#50e3c2;background-color:var(--op-accent-color)}.op-progressbar .op-progress-list{cursor:pointer;position:relative;height:100%;background:rgba(255,255,255,0.2)}.op-progressbar .op-progress-list .op-load-progress,.op-progressbar .op-progress-list .op-play-progress,.op-progressbar .op-progress-list .op-hover-progress{position:absolute;left:0;bottom:0;width:100%;height:100%}.op-progressbar .op-progress-list .op-play-progress{width:0}.op-progressbar .op-progress-list .op-load-progress{width:0;background-color:rgba(255,255,255,0.5)}.op-progressbar .op-progress-list .op-hover-progress{left:0;width:0;background-color:rgba(255,255,255,0.6)}.op-progressbar .op-progressbar-knob-container{position:absolute;top:-5px;left:0}.op-progressbar .op-progressbar-knob-container .op-progressbar-knob{width:14px;height:14px;border-radius:7px}.op-progressbar .op-progressbar-time{display:none;position:absolute;bottom:15px;left:auto;width:auto;background-color:rgba(28,28,28,0.9);border-radius:2px;padding:5px 9px;font-size:.8em;line-height:15px;user-select:none;white-space:nowrap;opacity:.7}.op-progressbar-hover .op-progressbar-time{display:inline-block}.op-on-error .op-progressbar-time{display:none}.op-progressbar-section-start,.op-progressbar-section-end{display:none;position:absolute;width:3px;height:14px;bottom:-5px;background-color:#50e3c2;background-color:var(--op-accent-color)}.op-progressbar-preview{position:absolute;display:none;bottom:50px;border:2px solid #fff;border-radius:2px;background-color:#000;z-index:9}.op-play-controller{margin-left:15px}.op-seek-button{position:relative;top:0px}.op-seek-button.op-seek-button-back{margin-left:12px}.op-seek-button.op-seek-button-forward{margin-left:6px}.op-seek-button i{padding-top:1px;font-size:26px}.op-seek-button span{position:absolute;top:10.5px;left:0;right:0;text-align:center;font-size:10px;line-height:10px;cursor:pointer}.op-volume-controller{display:inline-block;position:relative;margin-left:12px}.op-volume-controller:after{content:\'\';clear:both}.op-volume-controller .op-volume-button{float:left}@-webkit-keyframes slide{100%{left:0}}@keyframes slide{100%{left:0}}.op-volume-controller .op-volume-slider-container{float:left;opacity:0;position:relative;width:0px;margin-right:0;line-height:30px;height:30px;cursor:pointer;user-select:none;outline:none}.op-volume-controller .op-volume-slider-container.active{width:70px;opacity:1;margin-left:8px;-moz-transition:opacity .4s cubic-bezier(0, 0, .2, 1);-webkit-transition:opacity .4s cubic-bezier(0, 0, .2, 1);transition:opacity .4s cubic-bezier(0, 0, .2, 1)}.op-volume-controller .op-volume-slider-container .op-volume-silder{height:100%;position:relative}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-bg,.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-value{position:absolute;display:block;left:0;top:50%;height:4px;margin-top:-2px;border-radius:10px}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-bg{width:100%;background:#fff}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-value{width:100%;background:#50e3c2;background:var(--op-accent-color);border-radius:10px 0 0 10px}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-handle{position:absolute;top:50%;left:30px;width:12px;height:12px;border-radius:10px;margin-top:-6px;background:#fff}.op-time-display{float:left;position:relative;margin-left:14px;height:30px;line-height:30px;white-space:nowrap;vertical-align:top;font-size:14px;user-select:none}.op-time-display .op-live-badge{opacity:1;width:auto;display:inline-block}.op-time-display .op-live-badge:before{background:#ff0000;display:inline-block;position:relative;top:-2px;width:6px;height:6px;margin-right:5px;content:\'\';border-radius:6px}.op-time-display .op-live-badge.op-live-badge-delayed:before{background:#fff}.op-time-display .op-live-badge .op-live-badge-lowlatency{display:inline-block;margin-right:5px}.op-time-display .op-live-badge .op-live-text{cursor:pointer}.op-context-panel{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;overflow:hidden;width:200px;padding:6px 0;z-index:8;background:rgba(28,28,28,0.9);text-shadow:0 0 2px rgba(0,0,0,0.5);font-weight:lighter;user-select:none}.op-context-panel:before,.op-context-panel:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-context-panel *,.op-context-panel *:before,.op-context-panel *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-context-panel .op-context-item{width:100%;height:38px;padding-left:12px;line-height:38px;cursor:pointer;outline:none;font-size:.8em;font-weight:lighter;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.op-context-panel .op-context-item:hover{background-color:rgba(255,255,255,0.1)}.op-fullscreen-button{position:relative;margin-right:15px}.op-fullscreen-button .op-fullscreen-compress{display:none}.op-spinner-container{position:absolute;top:50%;width:64px;left:50%;margin-left:-32px;margin-top:-32px;z-index:7;display:none}.op-spinner-container .op-spinner{display:inline-block;position:relative;width:64px;height:64px;border:4px solid transparent;border-top:4px solid #50e3c2;border-top:4px solid var(--op-accent-color);border-radius:50%;animation:spin 1.2s cubic-bezier(.5, 0, .5, 1) infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.op-caption-viewer .op-caption-text-container{position:absolute;bottom:60px;width:100%;padding:0 12px;text-align:center;-moz-transition:bottom .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:bottom .25s cubic-bezier(0, 0, .2, 1);transition:bottom .25s cubic-bezier(0, 0, .2, 1)}.op-caption-viewer .op-caption-text-container .op-caption-text{color:#fff;font-size:1em;line-height:1.2em;text-shadow:2px 2px 2px gray;padding:.1em .3em;user-select:none;word-break:break-word;white-space:pre-line;border:none;background:none}.op-caption-button{width:36px}.op-caption-button>i{font-size:18px;-moz-transition:color .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:color .25s cubic-bezier(0, 0, .2, 1);transition:color .25s cubic-bezier(0, 0, .2, 1)}.op-caption-active .op-caption-button>i{color:#F36446}.op-wrapper.ovenplayer.large{font-size:14px}.op-wrapper.ovenplayer.large .op-caption-text{font-size:2em;line-height:2em}.op-wrapper.ovenplayer.medium{font-size:12px}.op-wrapper.ovenplayer.medium .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.small{font-size:10px}.op-wrapper.ovenplayer.small .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.small .op-playlist{padding:1rem}.op-wrapper.ovenplayer.small .op-playlist .op-playlist-card{margin:5px 0}.op-wrapper.ovenplayer.xsmall{font-size:10px}.op-wrapper.ovenplayer.xsmall .op-bigbutton-container .op-bigbutton{width:60px;height:60px;font-size:60px;line-height:60px}.op-wrapper.ovenplayer.xsmall .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.xsmall .op-playlist{padding:1rem}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-header{font-size:2em}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-card{margin:5px 0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%;padding:0 6em}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-card .op-playlist-card-title{margin-top:0}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container{top:50%;font-weight:bold}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container .op-message-icon{margin-top:0}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container .op-message-icon .op-con{font-size:40px;width:40px;height:40px;line-height:40px}.op-wrapper.ovenplayer.xsmall .op-ads-button{bottom:22px}.op-wrapper.ovenplayer.xsmall .op-ads-button .videoAdUiAction{padding:4px;font-size:14px}.op-wrapper.ovenplayer.xxsmall .op-left-controls{max-width:240px;overflow:hidden}.op-wrapper.ovenplayer.xxsmall .op-live-badge-lowlatency{max-width:75px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel{height:34px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls{top:4px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls .op-left-controls{height:30px;padding:0}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls .op-right-controls{height:30px;padding:0}.op-wrapper.ovenplayer.linear-ad .op-ads{top:0;bottom:0}.op-wrapper.ovenplayer.linear-ad .op-button i.op-con{width:24px;height:24px;font-size:24px}.op-wrapper.ovenplayer.linear-ad .op-controls-container .op-bottom-panel .op-progressbar-container{bottom:50px}@keyframes fade{from{opacity:.3}55%{opacity:1}75%{opacity:1}to{opacity:.3}}@-webkit-keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215, .61, .355, 1);animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;-webkit-transform:scale3d(.5, .5, .5);transform:scale3d(.5, .5, .5)}20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)}40%{-webkit-transform:scale3d(.9, .9, .9);transform:scale3d(.9, .9, .9)}60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)}80%{-webkit-transform:scale3d(.97, .97, .97);transform:scale3d(.97, .97, .97)}to{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}}@keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215, .61, .355, 1);animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;-webkit-transform:scale3d(.3, .3, .3);transform:scale3d(.3, .3, .3)}20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)}40%{-webkit-transform:scale3d(.9, .9, .9);transform:scale3d(.9, .9, .9)}60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)}80%{-webkit-transform:scale3d(.97, .97, .97);transform:scale3d(.97, .97, .97)}to{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}}.op-player .bounceIn{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.op-player .fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}.op-player .animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@media (prefers-reduced-motion){.op-player .animated{-webkit-animation:unset !important;animation:unset !important;-webkit-transition:none !important;transition:none !important}}@media only screen and (max-width:399px){.op-seek-button{display:none !important}}',"",{version:3,sources:["webpack://./src/stylesheet/ovenplayer.less"],names:[],mappings:"AAAA,gBAAS,CAMT,sBACE,GACE,sBAAW,CAGb,KACE,wBAAW,CAAA,CAIf,mCACE,KACE,sCAAA,CACA,8BAAW,CAGb,GACE,iBAAA,CACA,yCAAA,CACA,iCAAW,CAAA,CAIf,2BACE,KACE,sCAAA,CACA,8BAAW,CAGb,GACE,iBAAA,CACA,yCAAA,CACA,iCAAW,CAAA,CAIf,gCACE,KACE,yCAAA,CACA,iCAAA,CACA,SAAA,CAGF,GACE,sCAAA,CACA,8BAAW,CAAA,CAIf,wBACE,KACE,yCAAA,CACA,iCAAA,CACA,SAAA,CAGF,GACE,sCAAA,CACA,8BAAW,CAAA,CAIf,WACE,uBAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAGF,WACE,sBAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAGF,WACE,2BAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAOF,MACE,yBAAA,CAGF,sBACE,eAAA,CAEA,cAAA,CAGF,uBACE,iBAAA,CACA,eAAA,CAEA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,aAAA,CACA,sCAAA,CACA,qBAAA,CACA,0BAAA,CACA,6BAAA,CACA,qBAAA,CACA,UAAA,CACA,cAAA,CACA,eAAA,CACA,SAAA,CAEA,0BAAA,CACA,gBAAA,CAnBF,yBAsBI,kBAAA,CAtBJ,8BA0BI,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,2DAEE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,wFAGE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,qCACE,sBAAA,CACA,uBAAA,CACA,KAAA,CACA,OAAA,CACA,QAAA,CACA,MAAA,CACA,YAAA,CACA,QAAA,CACA,cAAA,CATF,0HAaI,WAAA,CACA,8BAAA,CACA,2BAAA,CACA,gBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAW,CAKf,mCACE,WAAA,CADF,oDAKI,sCAAA,CACA,8BAAA,CAEA,8BAAA,CACA,sBAAA,CACA,gCAAA,CACA,wBAAA,CAXJ,wHAgBI,WAAA,CAhBJ,8DAoBI,WAAA,CAIJ,6DAGI,uBAAA,CAjGN,iCAsGI,qBAAA,CAIF,2CACE,SAAA,CACA,UAAA,CAGF,kIAEE,aAAA,CACA,UAAA,CACA,kBAAA,CAGF,iDACE,kBAAA,CACA,0BAAA,CACA,kBAAA,CAGF,iDACE,WAAA,CACA,UAAA,CACA,kBAAA,CACA,yBAAA,CACA,iBAAA,CAjIJ,iCAqII,aAAA,CACA,4BAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CACA,sCAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,mBAAA,CACA,uBAAA,CACA,QAAA,CACA,oBAAA,CACA,oBAAA,CACA,+CAAA,CAIJ,WACE,iBAAA,CACA,KAAA,CACA,WAAA,CACA,UAAA,CAJF,+BASI,iBAAA,CACA,WAAA,CAVJ,uCAoBI,iBAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CACA,iCAAiB,CAzBrB,6CA4BM,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CAhCN,8CAoCM,UAAA,CACA,WAAA,CAiBN,QACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,mBAAA,CAEA,KAAA,CAEA,YACE,4BAAA,CACA,qBAAA,CACA,sBAAA,CAHF,mBAMI,mBAAA,CAdN,gCAmBI,qBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,MAAA,CACA,KAAA,CACA,SAAA,CAzBJ,uBA6BI,WAAA,CACA,cAAA,CACA,gBAAA,CACA,mBAAA,CACA,iBAAA,CACA,OAAA,CACA,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,iBAAA,CACA,mCAAA,CACA,eAAA,CACA,YAAA,CAzCJ,wCA4CM,aAAA,CAEA,kBAAA,CACA,cAAA,CACA,gBAAA,CACA,iBAAA,CACA,oBAAA,CACA,UAAA,CACA,qBAAA,CApDN,wCAwDM,gBAAA,CACA,cAAA,CACA,aAAA,CACA,kBAAA,CACA,cAAA,CACA,sCAAA,CAEA,8CACE,iBAAA,CACA,qBAAA,CAjER,0CAqEQ,oBAAA,CACA,UAAA,CAWR,WACE,oBAAA,CACA,WAAA,CACA,sBAAA,CACA,SAAA,CACA,aAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CAEA,4BAEE,SAAA,CAIJ,SACE,sCAAA,CACA,iBAAA,CACA,kBAAA,CACA,UAAA,CAEA,iBAAA,CACA,UAAA,CACA,cAAA,CACA,gBAAA,CAEA,aAAA,CACA,uBAAA,CACA,iBAAA,CAGA,mBAAA,CACA,mBAAA,CAGA,kCAAA,CACA,iCAAA,CAEA,cAAA,CAEA,iBACE,aAAA,CAIA,+BACE,eAAS,CAKX,8BACE,eAAS,CAKX,wCACE,eAAS,CAKX,sCACE,eAAS,CAKX,+BACE,eAAS,CAKX,gCACE,eAAS,CAKX,gCACE,eAAS,CAKX,yBACE,eAAS,CAKX,2BACE,eAAS,CAKX,8BACE,eAAS,CAKX,iCACE,eAAS,CAKX,kCACE,eAAS,CAKX,+BACE,eAAS,CAKX,4BACE,eAAS,CAKX,0BACE,eAAS,CAIb,yBACE,YAAA,CACA,eAAA,CAEA,iCACE,eAAS,CAIb,wBACE,YAAA,CAEA,gCACE,eAAS,CAKX,+BACE,eAAS,CAKX,6BACE,eAAS,CAKX,4BACE,eAAS,CAKf,UACE,oBAAA,CACA,iCAAA,CACA,aAAA,CACA,aAAA,CACA,iBAAA,CACA,kBAAA,CACA,uBAAA,CACA,oBAAA,CACA,wBAAA,CAGF,aACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,MAAA,CACA,KAAA,CACA,eAAA,CACA,eAAA,CACA,SAAA,CARF,uBAWI,iBAAA,CACA,UAAA,CACA,YAAA,CACA,UAAA,CAdJ,uBAkBI,UAAA,CACA,iBAAA,CAnBJ,wBAuBI,WAAA,CACA,iBAAA,CAxBJ,iCA4BI,iBAAA,CACA,gBAAA,CAEA,uCACE,aAAA,CACA,UAAA,CACA,UAAA,CAlCN,uDAsCM,WAAA,CAtCN,+BA2CI,WAAA,CACA,eAAA,CACA,iBAAA,CA7CJ,wDAgDM,gBAAA,CACA,iBAAA,CACA,OAAA,CACA,WAAA,CACA,8BAAA,CACA,0BAAA,CACA,UAAA,CACA,MAAA,CAvDN,2DA2DM,UAAA,CACA,WAAA,CACA,iBAAA,CACA,iBAAA,CACA,gBAAA,CACA,eAAA,CAhEN,oFAmEQ,QAAA,CACA,iBAAA,CACA,OAAA,CACA,iBAAA,CACA,gBAAA,CACA,8BAAA,CACA,0BAAA,CACA,UAAA,CA1ER,qDA+EM,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CApFN,uEAwFQ,kBAAA,CACA,iBAAA,CACA,aAAA,CACA,yBAAA,CACA,YAAA,CACA,mBAAA,CACA,WAAA,CACA,uBAAA,CACA,mBAAA,CACA,oBAAA,CACA,cAAA,CAEA,8EACE,aAAA,CACA,4BAAO,CAFT,0GAKI,oBAAA,CACA,mCAAc,CA1G1B,mGA+GU,iBAAA,CACA,aAAA,CACA,UAAA,CACA,SAAA,CACA,eAAA,CACA,+BAAA,CACA,qBAAA,CArHV,uGAwHY,iBAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,QAAA,CAGF,yGACE,wBAAA,CAEA,2GACE,QAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,qBAAA,CACA,0BAAA,CAIJ,2GACE,kBAAA,CACA,aAAA,CACA,UAAS,CAlJrB,+FAuJU,iBAAA,CACA,iBAAA,CACA,aAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CAcV,gBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CANF,sCASI,iBAAA,CACA,OAAA,CACA,gBAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CAdJ,uDAiBM,oBAAA,CACA,mCAAA,CACA,kBAAA,CACA,oBAAA,CACA,aAAA,CACA,iBAAA,CACA,cAAA,CAvBN,+EA0BQ,cAAA,CACA,eAAA,CACA,UAAA,CA5BR,uDAkCM,oBAAA,CACA,eAAA,CACA,UAAA,CApCN,gEAuCQ,cAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,oBAAA,CACA,oDAAA,CAcR,qFACE,cAAA,CAGF,8FACE,cAAA,CAOF,wBACE,cAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,iBAAA,CACA,SAAA,CAPF,sCAUI,UAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,gBAAA,CACA,oDAAA,CAQJ,wBACE,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,KAAA,CACA,MAAA,CAEA,SAAA,CACA,mBAAA,CATF,8CAYI,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CAhBJ,kDAmBM,UAAA,CACA,WAAA,CApBN,mEAwBM,iBAAA,CACA,SAAA,CACA,QAAA,CACA,eAAA,CACA,iBAAA,CACA,gBAAA,CACA,eAAA,CACA,oDAAA,CAEA,yEACE,aAAA,CACA,UAAA,CACA,UAAA,CAUR,wBACE,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,KAAA,CACA,MAAA,CAEA,SAAA,CARF,sCAWI,iBAAA,CACA,oBAAA,CAZJ,0CAeM,UAAA,CACA,WAAA,CAhBN,yDAoBM,cAAA,CASN,kBACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAEA,gBAAA,CACA,mCAAA,CACA,mCAAA,CACA,SAAA,CAEA,6BAGE,YAAA,CAhBJ,uEAqBI,UAAA,CACA,WAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,eAAA,CA1BJ,wFAgCQ,iBAAA,CACA,gBAAA,CAjCR,2FAsCQ,kBAAA,CACA,iBAAA,CAQF,oEACE,sCAAA,CAhDR,qFAoDQ,iBAAA,CApDR,wFAwDQ,WAAA,CACA,kBAAA,CACA,gBAAA,CA1DR,yFA8DQ,WAAA,CACA,kBAAA,CA/DR,uFAmEQ,iBAAA,CACA,iBAAA,CApER,+FAwEQ,kBAAA,CAYR,uBACE,YAAA,CADF,wCAII,iBAAA,CACA,QAAA,CACA,UAAA,CACA,UAAA,CACA,SAAA,CAaA,mCAAA,CACA,2BAAA,CAEA,8BAAA,CACA,sBAAA,CACA,gCAAA,CACA,wBAAA,CA3BJ,4DAWM,iBAAA,CACA,UAAA,CACA,WAAA,CACA,mCAAA,CACA,mBAAA,CAfN,kEA8BM,aAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CAEA,oGACE,cAAA,CArCR,0FAyCQ,iBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CA7CR,qDAoDM,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CAEA,2DACE,UAAA,CACA,UAAA,CA5DR,wEAgEQ,iBAAA,CACA,iBAAA,CAjER,yEAqEQ,iBAAA,CACA,iBAAA,CAtER,oEA0EQ,UAAA,CACA,WAAA,CACA,gBAAA,CA5ER,uEAgFQ,iBAAA,CACA,KAAA,CACA,MAAA,CACA,qBAAA,CAEA,6EACE,UAAA,CACA,UAAA,CAvFV,wEA4FQ,iBAAA,CACA,KAAA,CACA,OAAA,CACA,qBAAA,CAEA,8EACE,UAAA,CACA,UAAA,CAnGV,uEAyGQ,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CA9GR,wFAiHU,gBAAA,CACA,iBAAA,CACA,iBAAA,CACA,UAAA,CApHV,oGAuHY,iBAAA,CAGE,kHACE,eAAS,CAIb,0GACE,kCAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CACA,kBAAA,CACA,mBAAA,CACA,mBAAA,CAGA,kCAAA,CACA,iCAAA,CACA,iBAAA,CACA,eAAA,CACA,MAAA,CACA,gBAAA,CACA,WAAA,CA/Id,8GAmJc,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CAkBd,gBACE,iBAAA,CACA,QAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,eAAA,CAPF,0CAUI,wBAAA,CACA,uCAAkB,CAXtB,kCAeI,cAAA,CACA,iBAAA,CACA,WAAA,CACA,gCAAA,CAlBJ,6JAuBM,iBAAA,CACA,MAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CA3BN,oDA+BM,OAAA,CA/BN,oDAmCM,OAAA,CACA,sCAAA,CApCN,qDAwCM,MAAA,CACA,OAAA,CACA,sCAAA,CA1CN,+CAgDI,iBAAA,CACA,QAAA,CACA,MAAA,CAlDJ,oEAqDM,UAAA,CACA,WAAA,CACA,iBAAA,CAvDN,qCA4DI,YAAA,CACA,iBAAA,CACA,WAAA,CACA,SAAA,CACA,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CACA,gBAAA,CACA,kBAAA,CACA,UAAA,CAMJ,2CACE,oBAAA,CAGF,kCACE,YAAA,CAGF,0DAEE,YAAA,CACA,iBAAA,CACA,SAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,uCAAkB,CAGpB,wBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,oBACE,gBAAA,CAOF,gBAEE,iBAAA,CACA,OAAA,CAEA,oCACE,gBAAA,CAGF,uCACE,eAAA,CAVJ,kBAcI,eAAA,CACA,cAAA,CAfJ,qBAmBI,iBAAA,CACA,UAAA,CACA,MAAA,CACA,OAAA,CACA,iBAAA,CACA,cAAA,CACA,gBAAA,CACA,cAAA,CAQJ,sBACE,oBAAA,CACA,iBAAA,CACA,gBAAA,CAEA,4BACE,UAAA,CACA,UAAA,CAPJ,wCAWI,UAAA,CAGF,yBACE,KACE,MAAA,CAAA,CAIJ,iBACE,KACE,MAAA,CAAA,CAtBN,kDA4BI,UAAA,CACA,SAAA,CACA,iBAAA,CACA,SAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CACA,YAAA,CAEA,yDACE,UAAA,CACA,SAAA,CACA,eAAA,CACA,qDAAA,CACA,wDAAA,CACA,gDAAwB,CA7C9B,oEAiDM,WAAA,CACA,iBAAA,CAlDN,qLAsDQ,iBAAA,CACA,aAAA,CACA,MAAA,CACA,OAAA,CACA,UAAA,CACA,eAAA,CACA,kBAAA,CA5DR,yFAgEQ,UAAA,CACA,eAAA,CAjER,4FAqEQ,UAAA,CACA,kBAAA,CACA,iCAAA,CACA,2BAAA,CAxER,6FA+EQ,iBAAA,CACA,OAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CAcR,iBACE,UAAA,CACA,iBAAA,CACA,gBAAA,CACA,WAAA,CACA,gBAAA,CACA,kBAAA,CACA,kBAAA,CACA,cAAA,CACA,gBAAA,CATF,gCAiBI,SAAA,CACA,UAAA,CACA,oBAAA,CAEA,uCACE,kBAAA,CACA,oBAAA,CACA,iBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,gBAAA,CACA,UAAA,CACA,iBAAA,CAGF,6DACE,eAAA,CAlCN,0DAsCM,oBAAA,CACA,gBAAA,CAvCN,8CA2CM,cAAA,CAWN,kBACE,0BAAA,CACA,6BAAA,CACA,qBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CACA,SAAA,CACA,6BAAA,CACA,mCAAA,CACA,mBAAA,CACA,gBAAA,CAEA,iDAEE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,yEAGE,0BAAA,CACA,6BAAA,CACA,qBAAA,CA3BJ,mCA+BI,UAAA,CACA,WAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,cAAA,CACA,mBAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CAEA,yCACE,sCAAA,CAeN,sBACE,iBAAA,CACA,iBAAA,CAFF,8CAKI,YAAA,CAQJ,sBACE,iBAAA,CACA,OAAA,CACA,UAAA,CACA,QAAA,CACA,iBAAA,CACA,gBAAA,CACA,SAAA,CACA,YAAA,CARF,kCAYI,oBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,4BAAA,CACA,4BAAA,CACA,2CAAA,CACA,iBAAA,CAEA,uDAAqB,CAErB,gBACE,GACE,sBAAW,CAGb,KACE,wBAAW,CAAA,CAYnB,8CAGI,iBAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CACA,qDAAA,CACA,wDAAA,CACA,gDAAwB,CAV5B,+DAaM,UAAA,CACA,aAAA,CACA,iBAAA,CACA,4BAAA,CACA,iBAAA,CACA,gBAAA,CACA,qBAAA,CACA,oBAAA,CACA,WAAA,CACA,eAAA,CAKN,mBACE,UAAA,CAGF,qBACE,cAAA,CACA,oDAAA,CACA,uDAAA,CACA,+CAAuB,CAGzB,wCACE,aAAA,CAOF,6BACE,cAAA,CADF,8CAII,aAAA,CACA,eAAA,CAKJ,8BACE,cAAA,CADF,+CAII,eAAA,CACA,iBAAA,CAIJ,6BACE,cAAA,CADF,8CAII,eAAA,CACA,iBAAA,CALJ,0CASI,YAAA,CATJ,4DAYM,YAAA,CAMN,8BACE,cAAA,CADF,oEAMM,UAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CATN,+CAcI,eAAA,CACA,iBAAA,CAfJ,2CAmBI,YAAA,CAnBJ,+DAsBM,aAAA,CAtBN,6DA0BM,YAAA,CACA,iBAAA,CACA,aAAA,CACA,cAAA,CACA,aAAA,CA9BN,qFAiCQ,YAAA,CAjCR,oEAwCM,OAAA,CACA,gBAAA,CAzCN,qFA4CQ,YAAA,CA5CR,6FA+CU,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CAlDV,6CAyDI,WAAA,CAzDJ,8DA4DM,WAAA,CACA,cAAA,CAKN,iDAGI,eAAA,CACA,eAAA,CAJJ,yDAQI,cAAA,CAKJ,kDAGI,WAAA,CAHJ,+DAOM,OAAA,CAPN,iFAUQ,WAAA,CACA,SAAA,CAXR,kFAeQ,WAAA,CACA,SAAA,CAhBR,yCAsBI,KAAA,CACA,QAAA,CAvBJ,qDA4BM,UAAA,CACA,WAAA,CACA,cAAA,CA9BN,mGAyCI,WAAA,CASF,gBACE,KACE,UAAA,CAMF,IACE,SAAA,CAGF,IACE,SAAA,CAGF,GACE,UAAA,CAAA,CAIJ,4BAEE,wBAME,kEAAA,CACA,0DAA2B,CAG7B,GACE,SAAA,CACA,qCAAA,CACA,6BAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,IACE,qCAAA,CACA,6BAAW,CAGb,IACE,SAAA,CACA,2CAAA,CACA,mCAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,GACE,SAAA,CACA,kCAAA,CACA,0BAAW,CAAA,CAIf,oBAEE,wBAME,kEAAA,CACA,0DAA2B,CAG7B,GACE,SAAA,CACA,qCAAA,CACA,6BAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,IACE,qCAAA,CACA,6BAAW,CAGb,IACE,SAAA,CACA,2CAAA,CACA,mCAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,GACE,SAAA,CACA,kCAAA,CACA,0BAAW,CAAA,CA9GjB,qBAmHI,+BAAA,CACA,uBAAA,CACA,+BAAA,CACA,uBAAA,CAGF,0BACE,KACE,SAAA,CAGF,GACE,SAAA,CAAA,CAIJ,kBACE,KACE,SAAA,CAGF,GACE,SAAA,CAAA,CAzIN,mBA8II,6BAAA,CACA,qBAAA,CA/IJ,qBAmJI,6BAAA,CACA,qBAAA,CACA,gCAAA,CACA,wBAAA,CAGF,gCAAA,qBAEI,kCAAA,CACA,0BAAA,CACA,kCAAA,CACA,0BAAA,CAAA,CAwBN,yCACE,gBACE,uBAAA,CAAA",sourcesContent:['@charset "UTF-8";\n\n/**\n * @brief   Animation\n * */\n\n@keyframes op-spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes op-slideOutDown {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n@keyframes op-slideOutDown {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n@-webkit-keyframes op-slideInUp {\n  from {\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n    opacity: 1;\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n@keyframes op-slideInUp {\n  from {\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n    opacity: 1;\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n@font-face {\n  font-family: "frameIcon";\n  src: url("../assets/images/ic-player-frame-jump.ttf?rxg7gj") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \'op-icons\';\n  src: url(\'../assets/fonts/fontello.ttf?13010392\') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \'op-seek-icons\';\n  src: url(\'../assets/fonts/seek-icons.ttf?13010392\') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n\n/**\n * @brief   common style\n * */\n\n:root {\n  --op-accent-color: #50e3c2;\n}\n\n.op-fullscreen-helper {\n  overflow: hidden;\n  // for preventing scroll on iOS\n  position: fixed;\n}\n\n.op-wrapper.ovenplayer {\n  position: relative;\n  max-height: 100%;\n\n  overflow: hidden;\n  zoom: 1 !important;\n  width: 100%;\n  display: block;\n  font-family: Helvetica, Arial, sans-serif;\n  background-color: #000;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #fff;\n  font-size: 14px;\n  font-weight: 100;\n  outline: 0;\n\n  -webkit-touch-callout: none;\n  user-select: none;\n\n  * {\n    box-sizing: inherit;\n  }\n\n  object {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  }\n\n  &:before,\n  &:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  & *,\n  & *:before,\n  & *:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  &.op-fullscreen {\n    width: 100vw !important;\n    height: 100vh !important;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 9999;\n    margin: 0;\n    position: fixed;\n\n    .op-watermark-container,\n    .op-thumbnail-container {\n      width: 100vw;\n      max-width: calc(100vh * 16 / 9);\n      height: calc(100vw * 9 / 16);\n      max-height: 100vh;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n\n  }\n\n  &.op-autohide {\n    cursor: none;\n\n    .op-bottom-panel {\n\n      -webkit-animation-name: op-slideOutDown;\n      animation-name: op-slideOutDown;\n\n      -webkit-animation-duration: 0.2s;\n      animation-duration: 0.2s;\n      -webkit-animation-fill-mode: both;\n      animation-fill-mode: both;\n    }\n\n    .op-progressbar-container,\n    .op-controls .op-button {\n      cursor: none;\n    }\n\n    .op-caption-text-container {\n      bottom: 25px;\n    }\n  }\n\n  &.op-no-controls {\n\n    .op-controls-container {\n      display: none !important;\n    }\n  }\n\n  .op-ratio {\n    padding-bottom: 56.25%;\n    /*16:9*/\n  }\n\n  & ::-webkit-scrollbar {\n    width: 5px;\n    height: 8px;\n  }\n\n  & ::-webkit-scrollbar-button:start:decrement,\n  ::-webkit-scrollbar-button:end:increment {\n    display: block;\n    height: 3px;\n    background: #2f2f3e;\n  }\n\n  & ::-webkit-scrollbar-track {\n    background: #2f2f3e;\n    -webkit-border-radius: 10px;\n    border-radius: 10px;\n  }\n\n  & ::-webkit-scrollbar-thumb {\n    height: 50px;\n    width: 50px;\n    background: #606071;\n    -webkit-border-radius: 8px;\n    border-radius: 8px;\n  }\n\n  .op-clear {\n    color: inherit;\n    background-color: transparent;\n    padding: 0;\n    margin: 0;\n    float: none;\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 1em;\n    line-height: 1em;\n    list-style: none;\n    text-transform: none;\n    vertical-align: baseline;\n    border: 0;\n    font-variant: inherit;\n    font-stretch: inherit;\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  }\n}\n\n.op-player {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n\n\n\n  .op-core-ui-wrapper {\n    position: relative;\n    height: 100%;\n  }\n\n  .op-media-element-container {\n    /* display: block;\n    height: 100%;\n    width: auto;\n    position : relative;*/\n\n\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    transform: scale(var(--mediaZoom));\n\n    video {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n\n    object {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .op-ui {\n\n    /*position : absolute;\n    bottom : 0px;\n    left : 0px;\n    width: 100%;\n    height: 100%;*/\n    .op-controls-container {}\n\n    .op-helpers-container {}\n  }\n}\n\n.op-ads {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  padding-bottom: 34px;\n  //pointer-events: none;\n  top: 0;\n\n  &>div {\n    position: absolute !important;\n    width: 100% !important;\n    height: 100% !important;\n\n    iframe {\n      pointer-events: auto;\n    }\n  }\n\n  video.op-ads-vast-video {\n    background-color: rgb(0, 0, 0);\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    z-index: 1;\n  }\n\n  .op-ads-button {\n    bottom: 36px;\n    cursor: default;\n    margin-right: 4px;\n    pointer-events: auto;\n    position: absolute;\n    right: 0;\n    z-index: 1;\n    width: auto !important;\n    height: auto !important;\n    border-radius: 4px;\n    background-color: rgba(18, 18, 28, 0.7);\n    min-width: 155px;\n    display: none;\n\n    .op-ads-textview {\n      color: #e6e6e6;\n      //font-family: arial,sans-serif;\n      font-weight: normal;\n      font-size: 11px;\n      padding: 6px 12px;\n      text-align: center;\n      display: inline-block;\n      width: 100%;\n      vertical-align: middle;\n    }\n\n    .videoAdUiAction {\n      padding: 8px 24px;\n      cursor: pointer;\n      direction: ltr;\n      font-weight: normal;\n      font-size: 20px;\n      border: 1px solid rgba(255, 255, 255, 0.5);\n\n      &:hover {\n        border-radius: 4px;\n        border: 1px solid rgba(255, 255, 255, 1);\n      }\n\n      i {\n        display: inline-block;\n        width: auto;\n      }\n    }\n  }\n\n}\n\n/**\n * @brief   common components\n * */\n\n.op-button {\n  display: inline-block;\n  border: none;\n  background: transparent;\n  padding: 0;\n  color: inherit;\n  text-align: inherit;\n  overflow: hidden;\n  font-weight: 100;\n  text-indent: 0 !important;\n\n  &:focus,\n  & {\n    outline: 0;\n  }\n}\n\ni.op-con {\n  font-family: "op-icons", "op-seek-icons";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n\n  font-size: inherit;\n  width: auto;\n  font-size: 30px;\n  line-height: 30px;\n\n  display: block;\n  text-decoration: inherit;\n  text-align: center;\n\n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n\n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  cursor: pointer;\n\n  &.disable {\n    color: #4f4f4f;\n  }\n\n  &.op-close-icon {\n    &::before {\n      content: "\\e900";\n    }\n  }\n\n  &.op-pause-big {\n    &::before {\n      content: "\\e911";\n    }\n  }\n\n  &.op-fullscreen-compress {\n    &::before {\n      content: "\\e901";\n    }\n  }\n\n  &.op-fullscreen-expand {\n    &::before {\n      content: "\\e902";\n    }\n  }\n\n  &.op-arrow-left {\n    &::before {\n      content: "\\e903";\n    }\n  }\n\n  &.op-arrow-right {\n    &::before {\n      content: "\\e909";\n    }\n  }\n\n  &.op-empty-video {\n    &::before {\n      content: "\\e904";\n    }\n  }\n\n  &.op-play {\n    &::before {\n      content: "\\e906";\n    }\n  }\n\n  &.op-replay {\n    &::before {\n      content: "\\e908";\n    }\n  }\n\n  &.op-seek-back {\n    &::before {\n      content: "\\e920";\n    }\n  }\n\n  &.op-seek-forward {\n    &::before {\n      content: "\\e921";\n    }\n  }\n\n  &.op-playlist-icon {\n    &::before {\n      content: "\\e907";\n    }\n  }\n\n  &.op-replay-big {\n    &::before {\n      content: "\\e908";\n    }\n  }\n\n  &.op-setting {\n    &::before {\n      content: "\\e90A";\n    }\n  }\n\n  &.op-pause {\n    &::before {\n      content: "\\e90C";\n    }\n  }\n\n  &.op-volume-small {\n    display: none;\n    margin-top: -1px;\n\n    &::before {\n      content: "\\e90D";\n    }\n  }\n\n  &.op-volume-mute {\n    display: none;\n\n    &::before {\n      content: "\\e90E";\n    }\n  }\n\n  &.op-volume-max {\n    &::before {\n      content: "\\e90F";\n    }\n  }\n\n  &.op-play-big {\n    &::before {\n      content: "\\e910";\n    }\n  }\n\n  &.op-warning {\n    &::before {\n      content: "\\e912";\n    }\n  }\n}\n\n.op-badge {\n  display: inline-block;\n  padding: .75em .714em .714em .680em;\n  font-size: 1em;\n  line-height: 1;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  border-radius: 0.286em;\n  background-color: #12121c;\n}\n\n.op-playlist {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  padding: 2.857em;\n  background: #000;\n  z-index: 6;\n\n  .op-badge {\n    position: absolute;\n    top: 0.857em;\n    right: 0.857em;\n    opacity: 0.7;\n  }\n\n  .btn-left {\n    float: left;\n    font-size: 2.857em;\n  }\n\n  .btn-right {\n    float: right;\n    font-size: 2.857em;\n  }\n\n  .op-playlist-header {\n    font-size: 2.857em;\n    font-weight: bold;\n\n    &:after {\n      display: block;\n      content: \'\';\n      clear: both;\n    }\n\n    .op-con.op-close-icon {\n      float: right;\n    }\n  }\n\n  .op-playlist-body {\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n\n    .op-playlist-body-arrows {\n      margin-top: -15px;\n      position: absolute;\n      top: 50%;\n      height: 30px;\n      -ms-transform: translateY(-50%);\n      transform: translateY(-50%);\n      width: 100%;\n      left: 0;\n    }\n\n    .op-playlist-body-container {\n      width: 100%;\n      height: 100%;\n      position: relative;\n      margin-right: auto;\n      margin-left: auto;\n      max-width: 992px;\n\n      .op-playlist-body-center {\n        margin: 0;\n        position: absolute;\n        top: 50%;\n        padding-right: 3em;\n        padding-left: 3em;\n        -ms-transform: translateY(-50%);\n        transform: translateY(-50%);\n        width: 100%;\n      }\n    }\n\n    .op-playlist-body-row {\n      margin-right: -15px;\n      margin-left: -15px;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n\n\n      .op-playlist-card {\n        padding-right: 15px;\n        padding-left: 15px;\n        margin: 15px 0;\n        -ms-flex-preferred-size: 0;\n        flex-basis: 0;\n        -ms-flex-positive: 1;\n        flex-grow: 1;\n        -ms-flex: 0 0 33.333333%;\n        flex: 0 0 33.333333%;\n        max-width: 33.333333%;\n        cursor: pointer;\n\n        &.active {\n          color: #50e3c2;\n          color: var(--op-accent-color);\n\n          .op-playlist-card-thumbnail {\n            border-color: #50e3c2;\n            border-color: var(--op-accent-color);\n          }\n        }\n\n        .op-playlist-card-thumbnail {\n          position: relative;\n          display: block;\n          width: 100%;\n          padding: 0;\n          overflow: hidden;\n          border: 0.214em solid transparent;\n          background-color: #000;\n\n          img {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            border: 0;\n          }\n\n          &.empty {\n            background-color: #bababa;\n\n            &>i {\n              margin: 0;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              color: #fff !important;\n              font-size: 1.6em !important;\n            }\n          }\n\n          &::before {\n            padding-top: 56.25%;\n            display: block;\n            content: "";\n          }\n        }\n\n        .op-playlist-card-title {\n          margin-top: 0.857em;\n          font-size: 1.429em;\n          padding: 2px 0;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n      }\n    }\n\n  }\n}\n\n\n/**\n * @brief   Message Box\n * */\n\n.op-message-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 4;\n\n  .op-message-container {\n    position: absolute;\n    top: 45%;\n    margin-top: -35px;\n    width: 100%;\n    padding: 0 12px;\n    text-align: center;\n\n    .op-message-text {\n      display: inline-block;\n      background-color: rgba(18, 18, 28, .3);\n      padding: 0.8em 1.2em;\n      word-wrap: break-word;\n      max-width: 80%;\n      border-radius: 4px;\n      cursor: pointer;\n\n      .op-message-description {\n        font-size: 12px;\n        margin-top: 12px;\n        color: #999;\n      }\n    }\n\n\n    .op-message-icon {\n      display: inline-block;\n      margin-top: 12px;\n      width: 100%;\n\n      i.op-con {\n        cursor: pointer;\n        font-size: 80px;\n        width: 80px;\n        height: 80px;\n        line-height: 80px;\n        display: inline-block;\n        text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);\n      }\n    }\n\n    /*.op-message-button{\n      display: inline-block;\n      padding : 1em;\n      margin-left : 0.4em;\n      background-color: rgba(28,28,28,.4);\n      cursor : pointer;\n    }*/\n  }\n}\n\n.op-message-box.op-message-box-default-cursor .op-message-container .op-message-text {\n  cursor: default;\n}\n\n.op-message-box.op-message-box-default-cursor .op-message-container .op-message-icon i.op-con {\n  cursor: default;\n}\n\n/**\n * @brief   Big button\n * */\n\n.op-bigbutton-container {\n  cursor: pointer;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  z-index: 5;\n\n  .op-bigbutton {\n    width: 80px;\n    height: 80px;\n    display: block;\n    font-size: 80px;\n    line-height: 80px;\n    text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);\n  }\n}\n\n/**\n * @brief   Thumbnail\n * */\n\n.op-thumbnail-container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  //padding-bottom: 56.25%;\n  top: 0;\n  left: 0;\n  //transform: translate(-50%, -50%);\n  z-index: 2;\n  pointer-events: none;\n\n  .op-thumbnail-wrapper {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n\n    .op-thumbnail-header {\n      position: absolute;\n      left: 1rem;\n      top: 1rem;\n      padding: 0 0.5rem;\n      font-size: 2.857em;\n      font-weight: bold;\n      line-height: 1.4;\n      text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);\n\n      &:after {\n        display: block;\n        content: \'\';\n        clear: both;\n      }\n    }\n  }\n}\n\n/**\n * @brief   WaterMark\n * */\n\n.op-watermark-container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  //padding-bottom: 56.25%;\n  top: 0;\n  left: 0;\n  //transform: translate(-50%, -50%);\n  z-index: 3;\n\n  .op-watermark {\n    position: absolute;\n    display: inline-block;\n\n    img {\n      width: 100%;\n      height: auto;\n    }\n\n    .op-watermark-text {\n      font-size: 14px;\n    }\n  }\n}\n\n/**\n * @brief   Setting panel\n * */\n\n.op-setting-panel {\n  position: absolute;\n  bottom: 55px;\n  right: 12px;\n  overflow-y: auto;\n  max-height: 100%;\n  width: 260px;\n  //font-size: 0.8em;\n  user-select: none;\n  background-color: rgba(28, 28, 28, .9);\n  text-shadow: 0 0 2px rgba(0, 0, 0, .5);\n  z-index: 8;\n\n  &.background {\n    //opacity: 0;\n    //background-color: rgba(28,28,28,.0);\n    display: none;\n  }\n\n  .op-setting-title,\n  .op-setting-item {\n    width: 100%;\n    height: 38px;\n    line-height: 38px;\n    cursor: pointer;\n    outline: none;\n    text-align: left;\n  }\n\n  .op-setting-title-container {\n    .op-setting-title {\n      .op-setting-title-title {\n        padding-left: 12px;\n        font-weight: bold;\n        //font-size: 0.9rem;\n      }\n\n      .op-setting-title-previcon {\n        padding: 0 0 0 12px;\n        margin-right: -6px;\n      }\n\n    }\n  }\n\n  .op-setting-item-container {\n    .op-setting-item {\n      &:hover {\n        background-color: rgba(255, 255, 255, .1);\n      }\n\n      .op-setting-item-title {\n        padding-left: 12px;\n      }\n\n      .op-setting-item-nexticon {\n        float: right;\n        padding-right: 12px;\n        margin-left: -6px;\n      }\n\n      span.op-setting-item-value {\n        float: right;\n        padding-right: 12px;\n      }\n\n      .op-setting-item-checked {\n        padding-left: 12px;\n        visibility: hidden;\n      }\n\n      .op-setting-item-checked.op-show {\n        visibility: visible;\n      }\n    }\n  }\n}\n\n\n\n/**\n * @brief   Controls (container)\n * */\n\n.op-controls-container {\n  display: none;\n\n  .op-bottom-panel {\n    position: absolute;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    z-index: 5;\n\n    .op-gradient-bottom {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(18, 18, 18, 0.5);\n      pointer-events: none;\n      /*-moz-transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);\n      -webkit-transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);\n      transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);*/\n    }\n\n    -webkit-animation-name: op-slideInUp;\n    animation-name: op-slideInUp;\n\n    -webkit-animation-duration: 0.5s;\n    animation-duration: 0.5s;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n\n    .op-progressbar-container {\n      display: block;\n      position: relative;\n      width: 100%;\n      height: 4px;\n      bottom: 50px;\n\n      &.op-progressbar-container-disabled {\n        cursor: default;\n      }\n\n      .op-progressbar-padding {\n        position: absolute;\n        width: 100%;\n        height: 15px;\n        bottom: -5px;\n        cursor: pointer;\n      }\n    }\n\n\n    /*contols container*/\n    .op-controls {\n      position: relative;\n      width: 100%;\n      height: 50px;\n      text-align: left;\n      overflow: hidden;\n\n      &:after {\n        content: \'\';\n        clear: both;\n      }\n\n      .op-setting-button {\n        position: relative;\n        margin-right: 12px;\n      }\n\n      .op-playlist-button {\n        position: relative;\n        margin-right: 12px;\n      }\n\n      .op-navigators {\n        float: left;\n        height: 30px;\n        line-height: 30px;\n      }\n\n      .op-left-controls {\n        position: absolute;\n        top: 0;\n        left: 0;\n        padding: 14px 0 10px 0;\n\n        &:after {\n          content: \'\';\n          clear: both;\n        }\n      }\n\n      .op-right-controls {\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 14px 0 10px 0;\n\n        &:after {\n          content: \'\';\n          clear: both;\n        }\n      }\n\n      /*maybe not use*/\n      .op-frame-buttons {\n        position: relative;\n        display: inline-block;\n        margin-left: 14px;\n        overflow: hidden;\n        font-weight: 100;\n        height: 30px;\n\n        .op-frame-button {\n          margin-right: 6px;\n          position: relative;\n          text-align: center;\n          color: #fff;\n\n          .frame-icon {\n            position: relative;\n\n            &.reverse {\n              &:after {\n                content: \'\\e900\';\n              }\n            }\n\n            &:after {\n              font-family: \'frameIcon\' !important;\n              speak: none;\n              content: \'\\e901\';\n              font-style: normal;\n              font-weight: normal;\n              font-variant: normal;\n              text-transform: none;\n\n              /* Better Font Rendering =========== */\n              -webkit-font-smoothing: antialiased;\n              -moz-osx-font-smoothing: grayscale;\n              position: absolute;\n              font-size: 2.4em;\n              left: 0;\n              line-height: 30px;\n              height: 30px;\n            }\n\n            .btn-text {\n              font-weight: bold;\n              font-size: 0.8em;\n              line-height: 30px;\n              height: 30px;\n            }\n\n          }\n\n        }\n\n      }\n    }\n  }\n\n}\n\n\n/**\n * @brief   Progressbar\n * */\n\n.op-progressbar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  margin-top: 10px;\n\n  .op-play-background-color {\n    background-color: #50e3c2; // for ie 11\n    background-color: var(--op-accent-color);\n  }\n\n  .op-progress-list {\n    cursor: pointer;\n    position: relative;\n    height: 100%;\n    background: rgba(255, 255, 255, 0.2);\n\n    .op-load-progress,\n    .op-play-progress,\n    .op-hover-progress {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      height: 100%;\n    }\n\n    .op-play-progress {\n      width: 0;\n    }\n\n    .op-load-progress {\n      width: 0;\n      background-color: rgba(255, 255, 255, .5);\n    }\n\n    .op-hover-progress {\n      left: 0;\n      width: 0;\n      background-color: rgba(255, 255, 255, .6);\n    }\n\n  }\n\n  .op-progressbar-knob-container {\n    position: absolute;\n    top: -5px;\n    left: 0;\n\n    .op-progressbar-knob {\n      width: 14px;\n      height: 14px;\n      border-radius: 7px;\n    }\n  }\n\n  .op-progressbar-time {\n    display: none;\n    position: absolute;\n    bottom: 15px;\n    left: auto;\n    width: auto;\n    background-color: rgba(28, 28, 28, 0.9);\n    border-radius: 2px;\n    padding: 5px 9px;\n    font-size: 0.8em;\n    line-height: 15px;\n    user-select: none;\n    white-space: nowrap;\n    opacity: 0.7;\n  }\n\n\n}\n\n.op-progressbar-hover .op-progressbar-time {\n  display: inline-block;\n}\n\n.op-on-error .op-progressbar-time {\n  display: none;\n}\n\n.op-progressbar-section-start,\n.op-progressbar-section-end {\n  display: none;\n  position: absolute;\n  width: 3px;\n  height: 14px;\n  bottom: -5px;\n  background-color: #50e3c2;\n  background-color: var(--op-accent-color);\n}\n\n.op-progressbar-preview {\n  position: absolute;\n  display: none;\n  bottom: 50px;\n  border: 2px solid #fff;\n  border-radius: 2px;\n  background-color: #000;\n  z-index: 9;\n}\n\n.op-play-controller {\n  margin-left: 15px;\n}\n\n/**\n * @brief   Seek button\n * */\n\n.op-seek-button {\n  //display: none;\n  position: relative;\n  top: 0px;\n\n  &.op-seek-button-back {\n    margin-left: 12px;\n  }\n\n  &.op-seek-button-forward {\n    margin-left: 6px;\n  }\n\n  i {\n    padding-top: 1px;\n    font-size: 26px;\n  }\n\n  span {\n    position: absolute;\n    top: 10.5px;\n    left: 0;\n    right: 0;\n    text-align: center;\n    font-size: 10px;\n    line-height: 10px;\n    cursor: pointer;\n  }\n}\n\n\n/**\n * @brief   Volume button\n * */\n.op-volume-controller {\n  display: inline-block;\n  position: relative;\n  margin-left: 12px;\n\n  &:after {\n    content: \'\';\n    clear: both;\n  }\n\n  .op-volume-button {\n    float: left;\n  }\n\n  @-webkit-keyframes slide {\n    100% {\n      left: 0;\n    }\n  }\n\n  @keyframes slide {\n    100% {\n      left: 0;\n    }\n  }\n\n  .op-volume-slider-container {\n    /*display: inline-block;*/\n    float: left;\n    opacity: 0;\n    position: relative;\n    width: 0px;\n    margin-right: 0;\n    line-height: 30px;\n    height: 30px;\n    cursor: pointer;\n    user-select: none;\n    outline: none;\n\n    &.active {\n      width: 70px;\n      opacity: 1;\n      margin-left: 8px;\n      -moz-transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);\n      -webkit-transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);\n      transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);\n    }\n\n    .op-volume-silder {\n      height: 100%;\n      position: relative;\n\n      .op-volume-slider-bg,\n      .op-volume-slider-value {\n        position: absolute;\n        display: block;\n        left: 0;\n        top: 50%;\n        height: 4px;\n        margin-top: -2px;\n        border-radius: 10px;\n      }\n\n      .op-volume-slider-bg {\n        width: 100%;\n        background: #fff;\n      }\n\n      .op-volume-slider-value {\n        width: 100%;\n        background: #50e3c2;\n        background: var(--op-accent-color);\n        border-radius: 10px 0 0 10px;\n        //-moz-transition: width .2s cubic-bezier(0.0,0.0,0.2,1);\n        //-webkit-transition: width .2s cubic-bezier(0.0,0.0,0.2,1);\n        //transition: width .2s cubic-bezier(0.0,0.0,0.2,1);\n      }\n\n      .op-volume-slider-handle {\n        position: absolute;\n        top: 50%;\n        left: 30px;\n        width: 12px;\n        height: 12px;\n        border-radius: 10px;\n        margin-top: -6px;\n        background: #fff;\n        //-moz-transition: left .2s cubic-bezier(0.0,0.0,0.2,1);\n        //-webkit-transition: left .2s cubic-bezier(0.0,0.0,0.2,1);\n        //transition: left .2s cubic-bezier(0.0,0.0,0.2,1);\n      }\n    }\n  }\n}\n\n\n/**\n * @brief   Time Display\n * */\n\n.op-time-display {\n  float: left;\n  position: relative;\n  margin-left: 14px;\n  height: 30px;\n  line-height: 30px;\n  white-space: nowrap;\n  vertical-align: top;\n  font-size: 14px;\n  user-select: none;\n  /*\ud760 \uc774\ubd80\ubd84 \uc5b4\ub5bb\uac8c \ucc98\ub9ac\ud558\uc9c0*/\n\n  .op-time-current,\n  .op-time-separator,\n  .op-time-duration {}\n\n  .op-live-badge {\n    opacity: 1;\n    width: auto;\n    display: inline-block;\n\n    &:before {\n      background: #ff0000;\n      display: inline-block;\n      position: relative;\n      top: -2px;\n      width: 6px;\n      height: 6px;\n      margin-right: 5px;\n      content: \'\';\n      border-radius: 6px;\n    }\n\n    &.op-live-badge-delayed:before {\n      background: #fff;\n    }\n\n    .op-live-badge-lowlatency {\n      display: inline-block;\n      margin-right: 5px;\n    }\n\n    .op-live-text {\n      cursor: pointer;\n    }\n  }\n\n}\n\n\n/**\n * @brief   Context Panel\n * */\n\n.op-context-panel {\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  overflow: hidden;\n  width: 200px;\n  padding: 6px 0;\n  z-index: 8;\n  background: rgba(28, 28, 28, 0.9);\n  text-shadow: 0 0 2px rgba(0, 0, 0, .5);\n  font-weight: lighter;\n  user-select: none;\n\n  &:before,\n  &:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  & *,\n  & *:before,\n  & *:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  .op-context-item {\n    width: 100%;\n    height: 38px;\n    padding-left: 12px;\n    line-height: 38px;\n    cursor: pointer;\n    outline: none;\n    font-size: 0.8em;\n    font-weight: lighter;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n\n    &:hover {\n      background-color: rgba(255, 255, 255, .1);\n    }\n  }\n\n}\n\n\n\n\n\n\n/**\n * @brief   FullScreen button\n * */\n\n.op-fullscreen-button {\n  position: relative;\n  margin-right: 15px;\n\n  .op-fullscreen-compress {\n    display: none;\n  }\n}\n\n/**\n * @brief   spinner\n * */\n\n.op-spinner-container {\n  position: absolute;\n  top: 50%;\n  width: 64px;\n  left: 50%;\n  margin-left: -32px;\n  margin-top: -32px;\n  z-index: 7;\n  display: none;\n\n\n  .op-spinner {\n    display: inline-block;\n    position: relative;\n    width: 64px;\n    height: 64px;\n\n    border: 4px solid transparent;\n    border-top: 4px solid #50e3c2;\n    border-top: 4px solid var(--op-accent-color);\n    border-radius: 50%;\n\n    animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n\n    @keyframes spin {\n      0% {\n        transform: rotate(0deg);\n      }\n\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  }\n\n}\n\n\n/**\n * @brief   caption.\n * */\n\n.op-caption-viewer {\n\n  .op-caption-text-container {\n    position: absolute;\n    bottom: 60px;\n    width: 100%;\n    padding: 0 12px;\n    text-align: center;\n    -moz-transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n    -webkit-transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n    transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n\n    .op-caption-text {\n      color: #fff;\n      font-size: 1em;\n      line-height: 1.2em;\n      text-shadow: 2px 2px 2px gray;\n      padding: .1em .3em;\n      user-select: none;\n      word-break: break-word;\n      white-space: pre-line;\n      border: none;\n      background: none;\n    }\n  }\n}\n\n.op-caption-button {\n  width: 36px;\n}\n\n.op-caption-button>i {\n  font-size: 18px;\n  -moz-transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n  -webkit-transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n  transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n.op-caption-active .op-caption-button>i {\n  color: #F36446;\n}\n\n\n\n/*Responsive  */\n\n.op-wrapper.ovenplayer.large {\n  font-size: 14px;\n\n  .op-caption-text {\n    font-size: 2em;\n    line-height: 2em;\n  }\n\n}\n\n.op-wrapper.ovenplayer.medium {\n  font-size: 12px;\n\n  .op-caption-text {\n    font-size: 1.4em;\n    line-height: 1.4em;\n  }\n}\n\n.op-wrapper.ovenplayer.small {\n  font-size: 10px;\n\n  .op-caption-text {\n    font-size: 1.4em;\n    line-height: 1.4em;\n  }\n\n  .op-playlist {\n    padding: 1rem;\n\n    .op-playlist-card {\n      margin: 5px 0;\n    }\n  }\n\n}\n\n.op-wrapper.ovenplayer.xsmall {\n  font-size: 10px;\n\n  .op-bigbutton-container {\n\n    .op-bigbutton {\n      width: 60px;\n      height: 60px;\n      font-size: 60px;\n      line-height: 60px;\n    }\n  }\n\n  .op-caption-text {\n    font-size: 1.4em;\n    line-height: 1.4em;\n  }\n\n  .op-playlist {\n    padding: 1rem;\n\n    .op-playlist-header {\n      font-size: 2em;\n    }\n\n    .op-playlist-card {\n      margin: 5px 0;\n      -ms-flex: 0 0 100%;\n      flex: 0 0 100%;\n      max-width: 100%;\n      padding: 0 6em;\n\n      .op-playlist-card-title {\n        margin-top: 0;\n      }\n    }\n  }\n\n  .op-message-box {\n    .op-message-container {\n      top: 50%;\n      font-weight: bold;\n\n      .op-message-icon {\n        margin-top: 0;\n\n        .op-con {\n          font-size: 40px;\n          width: 40px;\n          height: 40px;\n          line-height: 40px;\n        }\n      }\n    }\n  }\n\n  .op-ads-button {\n    bottom: 22px;\n\n    .videoAdUiAction {\n      padding: 4px;\n      font-size: 14px;\n    }\n  }\n}\n\n.op-wrapper.ovenplayer.xxsmall {\n\n  .op-left-controls {\n    max-width: 240px; // for small layout\n    overflow: hidden; // for small layout\n  }\n\n  .op-live-badge-lowlatency {\n    max-width: 75px;\n  }\n}\n\n/*AD MODE*/\n.op-wrapper.ovenplayer.linear-ad {\n\n  .op-bottom-panel {\n    height: 34px;\n\n    .op-controls {\n\n      top: 4px;\n\n      .op-left-controls {\n        height: 30px;\n        padding: 0;\n      }\n\n      .op-right-controls {\n        height: 30px;\n        padding: 0;\n      }\n    }\n  }\n\n  .op-ads {\n    top: 0;\n    bottom: 0;\n  }\n\n  .op-button {\n    i.op-con {\n      width: 24px;\n      height: 24px;\n      font-size: 24px;\n    }\n  }\n\n  .op-right-controls {\n    .op-button {\n      //margin-top: -2px;\n    }\n  }\n\n  .op-controls-container .op-bottom-panel .op-progressbar-container {\n    bottom: 50px;\n  }\n}\n\n/**\n * @brief   Animation\n * */\n\n.op-player {\n  @keyframes fade {\n    from {\n      opacity: 0.3;\n    }\n\n    /*5% { opacity: 0.3; }*/\n    /*40% { opacity: 1; }*/\n    /*50% { opacity: 1; }*/\n    55% {\n      opacity: 1;\n    }\n\n    75% {\n      opacity: 1;\n    }\n\n    to {\n      opacity: 0.3;\n    }\n  }\n\n  @-webkit-keyframes bounceIn {\n\n    from,\n    20%,\n    40%,\n    60%,\n    80%,\n    to {\n      -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    }\n\n    0% {\n      opacity: 0;\n      -webkit-transform: scale3d(0.5, 0.5, 0.5);\n      transform: scale3d(0.5, 0.5, 0.5);\n    }\n\n    20% {\n      -webkit-transform: scale3d(1.1, 1.1, 1.1);\n      transform: scale3d(1.1, 1.1, 1.1);\n    }\n\n    40% {\n      -webkit-transform: scale3d(0.9, 0.9, 0.9);\n      transform: scale3d(0.9, 0.9, 0.9);\n    }\n\n    60% {\n      opacity: 1;\n      -webkit-transform: scale3d(1.03, 1.03, 1.03);\n      transform: scale3d(1.03, 1.03, 1.03);\n    }\n\n    80% {\n      -webkit-transform: scale3d(0.97, 0.97, 0.97);\n      transform: scale3d(0.97, 0.97, 0.97);\n    }\n\n    to {\n      opacity: 1;\n      -webkit-transform: scale3d(1, 1, 1);\n      transform: scale3d(1, 1, 1);\n    }\n  }\n\n  @keyframes bounceIn {\n\n    from,\n    20%,\n    40%,\n    60%,\n    80%,\n    to {\n      -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    }\n\n    0% {\n      opacity: 0;\n      -webkit-transform: scale3d(0.3, 0.3, 0.3);\n      transform: scale3d(0.3, 0.3, 0.3);\n    }\n\n    20% {\n      -webkit-transform: scale3d(1.1, 1.1, 1.1);\n      transform: scale3d(1.1, 1.1, 1.1);\n    }\n\n    40% {\n      -webkit-transform: scale3d(0.9, 0.9, 0.9);\n      transform: scale3d(0.9, 0.9, 0.9);\n    }\n\n    60% {\n      opacity: 1;\n      -webkit-transform: scale3d(1.03, 1.03, 1.03);\n      transform: scale3d(1.03, 1.03, 1.03);\n    }\n\n    80% {\n      -webkit-transform: scale3d(0.97, 0.97, 0.97);\n      transform: scale3d(0.97, 0.97, 0.97);\n    }\n\n    to {\n      opacity: 1;\n      -webkit-transform: scale3d(1, 1, 1);\n      transform: scale3d(1, 1, 1);\n    }\n  }\n\n  .bounceIn {\n    -webkit-animation-duration: 0.75s;\n    animation-duration: 0.75s;\n    -webkit-animation-name: bounceIn;\n    animation-name: bounceIn;\n  }\n\n  @-webkit-keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n\n    to {\n      opacity: 1;\n    }\n  }\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n\n    to {\n      opacity: 1;\n    }\n  }\n\n  .fadeIn {\n    -webkit-animation-name: fadeIn;\n    animation-name: fadeIn;\n  }\n\n  .animated {\n    -webkit-animation-duration: 1s;\n    animation-duration: 1s;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n  }\n\n  @media (prefers-reduced-motion) {\n    .animated {\n      -webkit-animation: unset !important;\n      animation: unset !important;\n      -webkit-transition: none !important;\n      transition: none !important;\n    }\n  }\n\n\n  /* Pulse Shrink */\n  /*.op-button {\n    //display: inline-block;\n    //vertical-align: middle;\n    transform: translateZ(0);\n    box-shadow: 0 0 1px rgba(0, 0, 0, 0);\n    backface-visibility: hidden;\n    -moz-osx-font-smoothing: grayscale;\n    transition-duration: 0.3s;\n    transition-property: transform;\n  }\n  .op-button:hover,\n  .op-button:focus,\n  .op-button:active {\n    transform: scale(1.1);\n  }*/\n}\n\n\n@media only screen and (max-width: 399px) {\n  .op-seek-button {\n    display: none !important;\n  }\n}'],sourceRoot:""}]),t.A=f},76314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},4417:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},71354:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},85072:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var f=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var A=i(h,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:A,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},77659:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},10540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},97825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},78624:function(e,t,n){"use strict";var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,l="ArrayBuffer"in r;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function A(e){this.map={},e instanceof A?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,o=p(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,n=g(t=new FileReader),i=(r=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}A.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},A.prototype.delete=function(e){delete this.map[d(e)]},A.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},A.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},A.prototype.set=function(e,t){this.map[d(e)]=f(t)},A.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},A.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},A.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},A.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},o&&(A.prototype[Symbol.iterator]=A.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new A(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new A(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function C(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new A(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},y.call(E.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var S=[301,302,303,307,308];w.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var T=r.DOMException;try{new T}catch(e){(T=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function k(e,t){return new Promise((function(n,i){var o=new E(e,t);if(o.signal&&o.signal.aborted)return i(new T("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}if(a.onload=function(){var e,t,r={statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new A,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(e){console.warn("Response "+e.message)}}})),t)};0===o.url.indexOf("file://")&&(a.status<200||a.status>599)?r.status=200:r.status=a.status,r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;setTimeout((function(){n(new w(i,r))}),0)},a.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},a.onabort=function(){setTimeout((function(){i(new T("Aborted","AbortError"))}),0)},a.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":l&&(a.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof A||r.Headers&&t.headers instanceof r.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){u.push(d(e)),a.setRequestHeader(e,f(t.headers[e]))})),o.headers.forEach((function(e,t){-1===u.indexOf(t)&&a.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){a.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}k.polyfill=!0,r.fetch||(r.fetch=k,r.Headers=A,r.Request=E,r.Response=w)},58233:function(e){"use strict";e.exports="data:font/ttf;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI/IEqpAAABUAAAAFZjbWFwvM20gQAAAagAAAJgY3Z0IAbV/wQAABq4AAAAIGZwZ22KkZBZAAAa2AAAC3BnYXNwAAAAEAAAGrAAAAAIZ2x5Zin85QoAAAQIAAARVmhlYWQXb/zlAAAVYAAAADZoaGVhCWwFkQAAFZgAAAAkaG10eEiN/+MAABW8AAAASGxvY2ElHSFKAAAWBAAAACZtYXhwATsMoQAAFiwAAAAgbmFtZcydHyEAABZMAAACzXBvc3QO9vxxAAAZHAAAAZJwcmVw5UErvAAAJkgAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEECAGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOkA6RIDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGEAAEAAAAAAH4AAwABAAAALAADAAoAAAGEAAQAUgAAAAgACAACAADpBOkK6RL//wAA6QDpBukM//8AAAAAAAAAAQAIABAAGAAAAAEAAgADAAQABQAGAAcACAAJAAoACwAMAA0ADgAPABAAEQAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAA3AAAAAAAAAARAADpAAAA6QAAAAABAADpAQAA6QEAAAACAADpAgAA6QIAAAADAADpAwAA6QMAAAAEAADpBAAA6QQAAAAFAADpBgAA6QYAAAAGAADpBwAA6QcAAAAHAADpCAAA6QgAAAAIAADpCQAA6QkAAAAJAADpCgAA6QoAAAAKAADpDAAA6QwAAAALAADpDQAA6Q0AAAAMAADpDgAA6Q4AAAANAADpDwAA6Q8AAAAOAADpEAAA6RAAAAAPAADpEQAA6REAAAAQAADpEgAA6RIAAAARAAEAAP/SA4AC6AAjABtAGCAZDwUEAEQCAQIAAGYAAAAjACMeHQMFFCsBHgEUBwkBFhUWDwEOAScJAQYjBi8BLgE3CQEmNz4BFwkBPgEDXA4TC/61AU4KAQQCCCMP/rT+sg0IBQgEEAgOAUz+shQJBywMAUwBTgkHAucCFBsM/rT+sg0IBQgEEAgOAUz+sQoBBAIIIw8BTAFOGhEOAgv+tQFOBgIAAgAAAAADQwK2AB4AOwBCQD80AQQDAUcLAQFEAAMEA28GAQQAAgAEAmAFAQABAQBUBQEAAAFWAAEAAUofHwEAHzsfOzEwJyQTEgAeARsHBRQrATIXFgcGFQ4BJic1BwYnLgE/ASMmJyYvASY+ATsBNiUWFxYGByIHBicmNScmNzY3NjIWHQE3NhceAQ8BAbIbBwMCAgEhIAGyFxANBAqxegoFBAMCBwIRDkNZAX8cBAQbDhUuUyA0AgQBAg4JGxSzFxANBAuxAT01H1UsFRERDRV4shIICCgLsAEDAgQDChkTAYQGEQ4dAQIDBAcbMk0gNgwJEg94shIIBikMsAAAAAIAAAAAA08CrgAcADsAPUA6KQEDBAQBAAMCRwADBAAEAwBtBQECAAQDAgReAAABAQBSAAAAAVgAAQABTB4dNDMmJR07HjhEGwYFFisTHgEdATc2Fx4BDwEzFhcWBgciBwYnJjUmPwE+AQEyFxYHDgEHBi4BPQEHDgEnIy4CPwEjJicmNjM3Ns4MD7MXEA4EDLB6IQYFHhEWLlMfMwIBAQETAmYjBgUOAgMFCRsUswgJBQMNEAEKsXsdBgUZEkNZARsCEwx3shIIBigNsQQRDh4BAgMEBhstWUMQEwGOVERWCAYFCQESDnizBgMCARQZCrEEEA8fAQEAAQAA/9UCzALoABUAD0AMCAEARQAAAGYcAQUVKwEeAR8BFgYHCQEWBw4BJwEmNDcBPgECngsIBAEJAgn+tAFOFQkILQz+mwoKAWcIBwLnAgUFAQocCv60/rIbEQ0CCwFlCx0KAWcHAwABAAD/agYjA1IAEwAjQCAHBgUEBAEAAUcCAQAADEgAAQENAUkBAA0KABMBEgMFFCsBMhYVESURJREUBiMhIiY1ETQ2MwR3HSoBZf6bKh370B0qKh0DUiod/vLG/TbG/vIdKiodA1odKgAAAAACAAAAAAMgAq0ADAAPABdAFA8ODQMARAEBAABmAAAADAAMAgUUKwEyFwEWFAcBBiYnETYTLQEBLwcIAdMODv4tESEBAkABdP6MAqsF/tQKIwv+1AoRFQJYIv3D7+8AAAAFAAD/yQOHAtIAEwAxAEAAUQBUAFxAWVRTUiwcBQMCAUcLAQcABgUHBmAKAQUABAAFBGAIAQAJAQIDAAJgAAMBAQNUAAMDAVgAAQMBTEFBMjIVFAEAQVFBTUtIMkAyOzk2JB4UMRUvCwcAEwERDAUUKwEeARcWBw4BBwQlLgEnJjc+ATckBSIGFQcGFRQXHgEzFxYzFjc+ATU3NjU0Jy4BJyYFJRYXFgYHIS4BNjcyJDMyNx4BHwEWDgEjIS4BNjcyNzYDFwcDIyY6AQMDATom/tH+0SY5AgEBAjkmAS/+1A0UAQIDARMMUK9XkXQNEgECAwESDYX+9AGTHQYFGRL9qBETDRdDAQxDcBYLCAMCBwISDv4uEhENFjRo0cenpwIFAjknuromOQIEBAI5Jrq6JjsBA0YTDShuN1xJDBMBAwEFARINKW03W0kNEgECAaYEEA8fAQEhIAEEYAIEBQIKGRMBISABAQP+jXV0AAAAAAEAAAAAAxwCfgA4ADVAMjgAAgIEAUcAAAQAbwAEAgRvAAEDAXAAAgMDAlIAAgIDWAADAgNMNTQvLSopHRslBQUVKxM3Njc+ARcyHgEXFgcGBwYHBiYnJicmNhYXHgEXFjc+AScmJy4BBwYPATMeAQYrAS4BPQE0Mx4BF9VbBAInZzZAdVINDhkYNDdFQYc1NhkGER0JG3dFSTo4MwwNMyp4Oj0sWW4MDgoRrAsOGgoNAQHVVgQBJSkBPWg/RkdFMzURECItLkARGAcWPkwCAicmhkVIMSkdDg8rVAEZGAENC60ZAQ0LAAABAAD/1ALWAugAFwAdQBoSAQABAUcCAQEAAW8AAABmAAAAFwAXOwMFFSsBHgEXARYUBwEGBwYrASIuATcJASYnJjYBUQgGBgFnCgr+mwgGBAYCDhQCCwFM/rIHAQMYAucBAwX+mQodC/6bCAIBFB0MAUwBTgkIEBsAAAAABAAA/8oDigLzAA8AGwCNAQAAgUB+/gEDBKIBAAvaAQUHyAEGBQRHAAkECW8AAwQLBAMLbQACCgcKAgdtAAUHBgcFBm0ABgZuDggCBAALAAQLYAwBAA0BAQoAAWAACgIHClQACgoHWAAHCgdMHBwREAEA9/aurY+OHI0cjXx6cG9tbDc2NDMXFRAbERsADwEPDwUUKwEWFx4BBwYHBi4BJyY3PgEXDgIXFjMyPgEnJicWFx4BFxY/ATY3Njc2NzYXFhcWFxYXHgE3Nh4BFxYHBgcGBwYfARYXFhcWFxYHBgcGBwYHDgEXFg4BBwYnJicmJyYGBw4BBwYnJicmJyYnJiIHBi4BJyY3Njc2NzYmJy4BJyY3Njc2NzY3NjQnJjY3NjciBwYPAQYHBg8BBicmJyYnJgcGBwYfARYGBwYHDgEWMxcWFxYXFgcGBwYeAT8BNjc2FxYXFhceATY1NzY3Njc2FxYXFj4BLwEmJyY3Njc2NzY3PgEnJicuAScmJyYvASY3Njc2NzYnJicmDwEGLgEnLgEB9yoiIBgQEjEjTTwJChMRPyYXIgYOECMYHwMOD+wMDggeBwwJBgkLDxIXGR4gDwsGCAYEBxQRG0k4BQIHBAwJAwQDExYUGxAVAgMWChQMGBQHCwENFQUtIhEVDBcTBw0MAQI0IyUeDgoFCAYEBxYTG0k4BQMIBAsJAwMLFCI0BgYUChMMGBYHDQ8WChwd9QsJBgQDAhEMEhARFQwWEwkOCw0BAQUFFQYYGSgRDRMXDRANEwkMAgMWCw8jEA4SERgTGA4RBAIhHwcJCxARFRYaGg4gCg8HBwQGAQIZDyMYCQ4FDQYKBhsHEA8LCgcFBgQMCgMFBAUQCxAOGkQyAgEUAeMBIB9ZJysVDxQ5JikoJChDASk2ERUoNxIV8wEHAxQDBQQTFhMbEBQDBBUKFAwZFAcMAQ4VBS0iEBQLFREHDAgHCQsQEhcaHiAPCgYIBgQGFBEbSTgFAwgECwkDAwsUIjQGBhQKEwwYFgcNDxUFLSIRFQ0WEwgMDQECMyMlHg4KBQgGBAcWEx5OGxwWDAgOCxQVDg0KBQYEDAoDBQQFEAsQDhpEGBsDAiEgBwkLEBEVFhoaDiAJDwYGAwQFBhMWJxENExcNEA0TCQwCAxYLDyMQCQwMERAaFAsRCwUKFg8HAwIBAgUQCxAOERUMFhMJDgsNAQEFBRUIMyQNEgAAAAIAAAAAArwCrQAKABYAHkAbDgMCAEQDAQIDAABmCwsAAAsWCxYACgAKBAUUKwEeARcRDgEmJxE2BR4BFxEUBiYnET4BAVANEQEBISABAgFvDREBIiABARECqwETDf2oERMNFwJYIgEBEw39qBETDRcCWA8TAAAAAAMAAAAAAuMCrAAVAB8AMwBDQEAOAQIEDQEAAwJHHwEBRR4BAEQFAQQBAgEEAm0AAQACAwECYAADAAADVAADAwBWAAADAEogICAzIDMhJRcZBgUYKwEeARURBgcGLwEjLgEnET4BNzM3PgEHBisBFTMyHwERFx4CBwYHBiYnJjc+ASYvASY3NgH2DRIBFA8Sv3wNEQEBEw55xAMHrQoLZGQLCpK6HysLDQ8jDSUEBhMWDRIXAwIFBgKrARMN/agiAwINnwITDQEKDhMBogMC4gjICHkByk4DQF8uMiIMChASFRlEQhgPEQoOAAAAAwAAAAADjgKsABUAIgA+ADtAOA4BAgE7NS8oBAMCDQEAAwNHIgEBRSEBAEQAAQACAwECXgADAAADVAADAwBWAAADAEohJxcZBAUYKwEeARURFA4BLwIuAScRPgE3Mzc+AQcOAQcrARUzMhYfAREFHgEUDwEXFgcOAS8BBwYuAT8BJyY+AR8BNz4BAfgNEBMZCr98DREBARMOecEICLAGBgUEZGQJBQWUAZMNEAlMThEHBygMTE8OIQwOTU8KDSAOTU4IBwKrAhIN/agNEgMInwECEg0BCg4TAaAFAuIFAgHIAgR7AcpgAhMaCkxPFw8NBQtNTwoMIQ9MTw0hDA1NTwYCAAAEAAAAAAOLAqwAFQAzAEAAVgBkQGFAMAIBAw4BBAcNAQYFPyYCAgAERwgBAwEDbwkBBwEEAQcEbQAGBQAFBgBtAAIAAnAAAQAEBQEEXgAFBgAFVAAFBQBWAAAFAEpBQRYWQVZBVklIPDo5NxYzFjMjIhcZCgUWKwEeARURFA4BLwIuAScRPgE3Mzc+AQUWFxYXFhceAQcGDwEGJyYnNDc+AScmLwEmNzQ3NgUOAQcrARUzMhYfAREXHgIHBgcGIiY2Nz4BJi8BJjU0NzYB+A0QEhkLv3wNEQEBEw55wgUJARQSCwYKBQQ0HBkaPhARDA8BGDIhFBQ2AwIBBwj+TQYGBQRkZAkFBZS7HyoLDg8iCRsUAQ8VDRIXAwIHCAKrAhIN/agNEgMInwECEg0BCg4TAaAEA0ECCgYPCgVFsFRYPwIBBAQMDxo4mEpNNgkLCQwICKEFAgHIAgR7AcpOBEFeLjIhCREdERlDQhgJCwkMBwkAAAAE//T/agP3A1IAAAAYADMANgA0QDE2NQIDAgFHBQECAgBYBAEAAAxIAAMDAVgAAQENAUkaGQIBJyUZMxozDgwBGAIYBgUUKwExFhcWFxYXFgYHDgEHIicuAicmNjc+ARcGBwYHBgcGHgEXHgEzNjc+Ajc2JyYnJicmEwURAfdxamdHSRYXTllFt2FkWk+BUwwQT1VFuFttZWNERhUPGEk6QrFdYFZMfE8KDSEgRUZdWpT+cANSATY2W11wevdWQkgBJSF3m1V151JDSRQBNDNYWmtOoZA3QEQBJCB0l1JlZWNPUCko/iD6AfQAAAT/9P9qA/cDUgAXADAANAA4AFBATQsHCgMFAgQCBQRtBgEEAwIEA2sJAQICAFgIAQAADEgAAwMBWAABAQ0BSTU1MTEZGAEANTg1ODc2MTQxNDMyJSMYMBkwDQsAFwEXDAUUKwEWFxYXFhcWBgcOAQciJy4CJyY2Nz4BFwYHBgcGBwYWFx4BFzI3PgI3NicmJy4BAxEjESERIxEB93FqZ0dJFhdOWUW3YWRaT4FTDBBPVUW4W2xlY0RHFRdLVkKwXWBWTHxQCw4fHkNFuLxGASxGA1IBNjZbXXB691ZCSAElIXebVXXnUkNJFAE0M1ZaanbuU0BFASQfc5VRZGVkT1FW/vL+XAGk/lwBpAAE//v/qAPsAxQAFQAvAD8ASgBUQFE7NAIFBAFHCAEEAgUCBAVtCQEFAwIFA2sGAQAHAQIEAAJgAAMBAQNUAAMDAVkAAQMBTUFAMDAXFgEAQEpBSjA/MD8lHxYvFy8NCgAVARUKBRQrAR4BFxYTFxYGBwYHIS4BJyY/ARI3NhcOAQcGAwcGHgEXFiU2Mz4CJyYnJi8BLgEDMhcWFxUUBicmPQE0Nz4BEx4BBgcGJy4BNzYB9hgqDWjLYxAMGBok/NYgNAcIEXq8YB0zEh8KXLOGDAkkGrQBabRaGCYMDU1lPXssCiAQBgYWAiYRFAIEEQ8SEwUMDRUTDAoLAxQBGRSr/qaoHUMXGQEBLiEjH88BP54uGQESD5f+z+QVMiQBBAMBASIxF4qqZstIEBL++QMIGtUSFQYHGtUIBA0N/qEBIywMDQgHMBQWAAAAAAEAAAABAABrmkE9Xw889QALA+gAAAAA2RzcogAAAADZHNyi//T/agYjA1IAAAAIAAIAAAAAAAAAAQAAA1L/agAABiP/9P/xBiMAAQAAAAAAAAAAAAAAAAAAABID6AAAA+gAAAPoAAAD6AAAA+gAAAYjAAAD6AAAA+gAAAPoAAAD6AAAA+gAAAPoAAAD6AAAA+gAAAPoAAAD6P/0A+j/9APo//sAAAAAAFIA0gFOAYIBuAHoAqADFANSBRwFWAXOBlAHCgeACAYIqwAAAAEAAAASAQEABQAAAAAAAgAeAC4AcwAAAJILcAAAAAAAAAASAN4AAQAAAAAAAAA1AAAAAQAAAAAAAQAIADUAAQAAAAAAAgAHAD0AAQAAAAAAAwAIAEQAAQAAAAAABAAIAEwAAQAAAAAABQALAFQAAQAAAAAABgAIAF8AAQAAAAAACgArAGcAAQAAAAAACwATAJIAAwABBAkAAABqAKUAAwABBAkAAQAQAQ8AAwABBAkAAgAOAR8AAwABBAkAAwAQAS0AAwABBAkABAAQAT0AAwABBAkABQAWAU0AAwABBAkABgAQAWMAAwABBAkACgBWAXMAAwABBAkACwAmAclDb3B5cmlnaHQgKEMpIDIwMTkgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbWZvbnRlbGxvUmVndWxhcmZvbnRlbGxvZm9udGVsbG9WZXJzaW9uIDEuMGZvbnRlbGxvR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAxADkAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAGYAbwBuAHQAZQBsAGwAbwBSAGUAZwB1AGwAYQByAGYAbwBuAHQAZQBsAGwAbwBmAG8AbgB0AGUAbABsAG8AVgBlAHIAcwBpAG8AbgAgADEALgAwAGYAbwBuAHQAZQBsAGwAbwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETAA9pYy1wbGF5ZXItY2xvc2UdaWMtcGxheWVyLWZ1bGxzY3JlZW4tY29tcHJlc3MbaWMtcGxheWVyLWZ1bGxzY3JlZW4tZXhwYW5kDmljLXBsYXllci1sZWZ0E2ljLXBsYXllci1ub24tdGh1bWIOaWMtcGxheWVyLXBsYXkSaWMtcGxheWVyLXBsYXlsaXN0EmljLXBsYXllci1yZS1sYXJnZQ9pYy1wbGF5ZXItcmlnaHQRaWMtcGxheWVyLXNldHRpbmcOaWMtcGxheWVyLXN0b3ASaWMtcGxheWVyLXZvbHVtZS0yFWljLXBsYXllci12b2x1bWUtbXV0ZRBpYy1wbGF5ZXItdm9sdW1lFGljLXBsYXllci1wbGF5LWxhcmdlFGljLXBsYXllci1zdG9wLWxhcmdlEWljLXBsYXllci13YXJuaW5nAAAAAAABAAH//wAPAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYA1L/agNS/2qwACwgsABVWEVZICBLuAAOUUuwBlNaWLA0G7AoWWBmIIpVWLACJWG5CAAIAGNjI2IbISGwAFmwAEMjRLIAAQBDYEItsAEssCBgZi2wAiwgZCCwwFCwBCZasigBCkNFY0VSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQpDRWNFYWSwKFBYIbEBCkNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ABK1lZI7AAUFhlWVktsAMsIEUgsAQlYWQgsAVDUFiwBSNCsAYjQhshIVmwAWAtsAQsIyEjISBksQViQiCwBiNCsQEKQ0VjsQEKQ7ABYEVjsAMqISCwBkMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZISCwQFNYsAErGyGwQFkjsABQWGVZLbAFLLAHQyuyAAIAQ2BCLbAGLLAHI0IjILAAI0JhsAJiZrABY7ABYLAFKi2wBywgIEUgsAtDY7gEAGIgsABQWLBAYFlmsAFjYESwAWAtsAgssgcLAENFQiohsgABAENgQi2wCSywAEMjRLIAAQBDYEItsAosICBFILABKyOwAEOwBCVgIEWKI2EgZCCwIFBYIbAAG7AwUFiwIBuwQFlZI7AAUFhlWbADJSNhRESwAWAtsAssICBFILABKyOwAEOwBCVgIEWKI2EgZLAkUFiwABuwQFkjsABQWGVZsAMlI2FERLABYC2wDCwgsAAjQrILCgNFWCEbIyFZKiEtsA0ssQICRbBkYUQtsA4ssAFgICCwDENKsABQWCCwDCNCWbANQ0qwAFJYILANI0JZLbAPLCCwEGJmsAFjILgEAGOKI2GwDkNgIIpgILAOI0IjLbAQLEtUWLEEZERZJLANZSN4LbARLEtRWEtTWLEEZERZGyFZJLATZSN4LbASLLEAD0NVWLEPD0OwAWFCsA8rWbAAQ7ACJUKxDAIlQrENAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAOKiEjsAFhIIojYbAOKiEbsQEAQ2CwAiVCsAIlYbAOKiFZsAxDR7ANQ0dgsAJiILAAUFiwQGBZZrABYyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wEywAsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wFCyxABMrLbAVLLEBEystsBYssQITKy2wFyyxAxMrLbAYLLEEEystsBkssQUTKy2wGiyxBhMrLbAbLLEHEystsBwssQgTKy2wHSyxCRMrLbAeLACwDSuxAAJFVFiwDyNCIEWwCyNCsAojsAFgQiBgsAFhtRAQAQAOAEJCimCxEgYrsHIrGyJZLbAfLLEAHistsCAssQEeKy2wISyxAh4rLbAiLLEDHistsCMssQQeKy2wJCyxBR4rLbAlLLEGHistsCYssQceKy2wJyyxCB4rLbAoLLEJHistsCksIDywAWAtsCosIGCwEGAgQyOwAWBDsAIlYbABYLApKiEtsCsssCorsCoqLbAsLCAgRyAgsAtDY7gEAGIgsABQWLBAYFlmsAFjYCNhOCMgilVYIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgbIVktsC0sALEAAkVUWLABFrAsKrABFTAbIlktsC4sALANK7EAAkVUWLABFrAsKrABFTAbIlktsC8sIDWwAWAtsDAsALABRWO4BABiILAAUFiwQGBZZrABY7ABK7ALQ2O4BABiILAAUFiwQGBZZrABY7ABK7AAFrQAAAAAAEQ+IzixLwEVKi2wMSwgPCBHILALQ2O4BABiILAAUFiwQGBZZrABY2CwAENhOC2wMiwuFzwtsDMsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYbABQ2M4LbA0LLECABYlIC4gR7AAI0KwAiVJiopHI0cjYSBYYhshWbABI0KyMwEBFRQqLbA1LLAAFrAEJbAEJUcjRyNhsAlDK2WKLiMgIDyKOC2wNiywABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyCwCEMgiiNHI0cjYSNGYLAEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AIQ0awAiWwCENHI0cjYWAgsARDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBENgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA3LLAAFiAgILAFJiAuRyNHI2EjPDgtsDgssAAWILAII0IgICBGI0ewASsjYTgtsDkssAAWsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA6LLAAFiCwCEMgLkcjRyNhIGCwIGBmsAJiILAAUFiwQGBZZrABYyMgIDyKOC2wOywjIC5GsAIlRlJYIDxZLrErARQrLbA8LCMgLkawAiVGUFggPFkusSsBFCstsD0sIyAuRrACJUZSWCA8WSMgLkawAiVGUFggPFkusSsBFCstsD4ssDUrIyAuRrACJUZSWCA8WS6xKwEUKy2wPyywNiuKICA8sAQjQoo4IyAuRrACJUZSWCA8WS6xKwEUK7AEQy6wKystsEAssAAWsAQlsAQmIC5HI0cjYbAJQysjIDwgLiM4sSsBFCstsEEssQgEJUKwABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyBHsARDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwAkNgZCOwA0NhZFBYsAJDYRuwA0NgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxKwEUKy2wQiywNSsusSsBFCstsEMssDYrISMgIDywBCNCIzixKwEUK7AEQy6wKystsEQssAAVIEewACNCsgABARUUEy6wMSotsEUssAAVIEewACNCsgABARUUEy6wMSotsEYssQABFBOwMiotsEcssDQqLbBILLAAFkUjIC4gRoojYTixKwEUKy2wSSywCCNCsEgrLbBKLLIAAEErLbBLLLIAAUErLbBMLLIBAEErLbBNLLIBAUErLbBOLLIAAEIrLbBPLLIAAUIrLbBQLLIBAEIrLbBRLLIBAUIrLbBSLLIAAD4rLbBTLLIAAT4rLbBULLIBAD4rLbBVLLIBAT4rLbBWLLIAAEArLbBXLLIAAUArLbBYLLIBAEArLbBZLLIBAUArLbBaLLIAAEMrLbBbLLIAAUMrLbBcLLIBAEMrLbBdLLIBAUMrLbBeLLIAAD8rLbBfLLIAAT8rLbBgLLIBAD8rLbBhLLIBAT8rLbBiLLA3Ky6xKwEUKy2wYyywNyuwOystsGQssDcrsDwrLbBlLLAAFrA3K7A9Ky2wZiywOCsusSsBFCstsGcssDgrsDsrLbBoLLA4K7A8Ky2waSywOCuwPSstsGossDkrLrErARQrLbBrLLA5K7A7Ky2wbCywOSuwPCstsG0ssDkrsD0rLbBuLLA6Ky6xKwEUKy2wbyywOiuwOystsHAssDorsDwrLbBxLLA6K7A9Ky2wciyzCQQCA0VYIRsjIVlCK7AIZbADJFB4sAEVMC0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAVCsgABACqxAAVCswoCAQgqsQAFQrMOAAEIKrEABkK6AsAAAQAJKrEAB0K6AEAAAQAJKrEDAESxJAGIUViwQIhYsQNkRLEmAYhRWLoIgAABBECIY1RYsQMARFlZWVmzDAIBDCq4Af+FsASNsQIARAAA"},36923:function(e){"use strict";e.exports="data:font/ttf;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI/QEsYAAABUAAAAFZjbWFwjePtyQAAAagAAAF+Y3Z0IAAAAAAAAAh4AAAADmZwZ21iLvl6AAAIiAAADgxnYXNwAAAAEAAACHAAAAAIZ2x5ZuLwowoAAAMoAAABiGhlYWQaqKjBAAAEsAAAADZoaGVhBzwDVgAABOgAAAAkaG10eAu4AAAAAAUMAAAADGxvY2EAYADEAAAFGAAAAAhtYXhwAPIOYwAABSAAAAAgbmFtZV/m2rgAAAVAAAAC5XBvc3S0mWDXAAAIKAAAAEhwcmVwfrY7tgAAFpQAAACcAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAED6AGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOkg6SEDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAFWAAEAAAAAAFAAAwABAAAALAADAAoAAAFWAAQAJAAAAAQABAABAADpIf//AADpIP//AAAAAQAEAAAAAQACAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAoAAAAAAAAAAIAAOkgAADpIAAAAAEAAOkhAADpIQAAAAIAAAABAAD/7wNjAy0AKQA/QDwCAQAEAwECAAJMAQEESgACAAEAAgGABQEEAAACBABpAAEDAwFZAAEBA2EAAwEDUQAAACkAKRcXGRQGBhorATUHFzUeARcWFRQHBgcGIicmJyY1NCYiBhUUFxYXFjI3Njc2NTQnJicmAguWlkx/JSUpKENGpEZDKCkTHBQyMVNWxlZTMTIvLU5QAsxhiolvBVNCQ05SRkMoKSkoQ0ZSDhMUDWNWUzEyMjFTVmNfU1EyMwABAAD/7wNjAy0AKgBDQEAVAQIDFAEAAgJMFgEDSgUBAAIBAgABgAADAAIAAwJpAAEEBAFZAAEBBGEABAEEUQEAIyIYFxMSCQgAKgEqBgYWKwEiBhUUBwYHBiInJicmNTQ3PgE3FTcnFQYHBgcGFRQXFhcWMjc2NzY1NCYDQQ0UKShDRqRGQygpJiR/TJaWXlBOLS8yMVNWxlZTMTIUAX8TDlJGQygpKShDRlJOQ0JTBW+JimEGMzJRU19jVlMxMjIxU1ZjDhMAAAEAAAABAADSnNS7Xw889QAPA+gAAAAA286yYAAAAADbzrJgAAD/7wPoAy0AAAAIAAIAAAAAAAAAAQAAA1L/agAAA+gAAAAAA+gAAQAAAAAAAAAAAAAAAAAAAAMD6AAAA+gAAAPoAAAAAAAAAGAAxAABAAAAAwArAAEAAAAAAAIADAAqAI0AAABUDgwAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACgA1AAEAAAAAAAIABwA/AAEAAAAAAAMACgBGAAEAAAAAAAQACgBQAAEAAAAAAAUACwBaAAEAAAAAAAYACgBlAAEAAAAAAAoAKwBvAAEAAAAAAAsAEwCaAAMAAQQJAAAAagCtAAMAAQQJAAEAFAEXAAMAAQQJAAIADgErAAMAAQQJAAMAFAE5AAMAAQQJAAQAFAFNAAMAAQQJAAUAFgFhAAMAAQQJAAYAFAF3AAMAAQQJAAoAVgGLAAMAAQQJAAsAJgHhQ29weXJpZ2h0IChDKSAyMDIwIGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21zZWVrLWljb25zUmVndWxhcnNlZWstaWNvbnNzZWVrLWljb25zVmVyc2lvbiAxLjBzZWVrLWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAyADAAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAHMAZQBlAGsALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBzAGUAZQBrAC0AaQBjAG8AbgBzAHMAZQBlAGsALQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAHMAZQBlAGsALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwECAQMBBAAMb3Atc2Vlay1iYWNrD29wLXNlZWstZm9yd2FyZAAAAAEAAf//AA8AAAAAAAAAAAAAAAAAAAAAsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIyEjIS2wAywgZLMDFBUAQkOwE0MgYGBCsQIUQ0KxJQNDsAJDVHggsAwjsAJDQ2FksARQeLICAgJDYEKwIWUcIbACQ0OyDhUBQhwgsAJDI0KyEwETQ2BCI7AAUFhlWbIWAQJDYEItsAQssAMrsBVDWCMhIyGwFkNDI7AAUFhlWRsgZCCwwFCwBCZasigBDUNFY0WwBkVYIbADJVlSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQ1DRWNFYWSwKFBYIbEBDUNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ACJbAMQ2OwAFJYsABLsApQWCGwDEMbS7AeUFghsB5LYbgQAGOwDENjuAUAYllZZGFZsAErWVkjsABQWGVZWSBksBZDI0JZLbAFLCBFILAEJWFkILAHQ1BYsAcjQrAII0IbISFZsAFgLbAGLCMhIyGwAysgZLEHYkIgsAgjQrAGRVgbsQENQ0VjsQENQ7AAYEVjsAUqISCwCEMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZIVkgsEBTWLABKxshsEBZI7AAUFhlWS2wByywCUMrsgACAENgQi2wCCywCSNCIyCwACNCYbACYmawAWOwAWCwByotsAksICBFILAOQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAKLLIJDgBDRUIqIbIAAQBDYEItsAsssABDI0SyAAEAQ2BCLbAMLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbANLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsA4sILAAI0KzDQwAA0VQWCEbIyFZKiEtsA8ssQICRbBkYUQtsBAssAFgICCwD0NKsABQWCCwDyNCWbAQQ0qwAFJYILAQI0JZLbARLCCwEGJmsAFjILgEAGOKI2GwEUNgIIpgILARI0IjLbASLEtUWLEEZERZJLANZSN4LbATLEtRWEtTWLEEZERZGyFZJLATZSN4LbAULLEAEkNVWLESEkOwAWFCsBErWbAAQ7ACJUKxDwIlQrEQAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAQKiEjsAFhIIojYbAQKiEbsQEAQ2CwAiVCsAIlYbAQKiFZsA9DR7AQQ0dgsAJiILAAUFiwQGBZZrABYyCwDkNjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wFSwAsQACRVRYsBIjQiBFsA4jQrANI7AAYEIgYLcYGAEAEQATAEJCQopgILAUI0KwAWGxFAgrsIsrGyJZLbAWLLEAFSstsBcssQEVKy2wGCyxAhUrLbAZLLEDFSstsBossQQVKy2wGyyxBRUrLbAcLLEGFSstsB0ssQcVKy2wHiyxCBUrLbAfLLEJFSstsCssIyCwEGJmsAFjsAZgS1RYIyAusAFdGyEhWS2wLCwjILAQYmawAWOwFmBLVFgjIC6wAXEbISFZLbAtLCMgsBBiZrABY7AmYEtUWCMgLrABchshIVktsCAsALAPK7EAAkVUWLASI0IgRbAOI0KwDSOwAGBCIGCwAWG1GBgBABEAQkKKYLEUCCuwiysbIlktsCEssQAgKy2wIiyxASArLbAjLLECICstsCQssQMgKy2wJSyxBCArLbAmLLEFICstsCcssQYgKy2wKCyxByArLbApLLEIICstsCossQkgKy2wLiwgPLABYC2wLywgYLAYYCBDI7ABYEOwAiVhsAFgsC4qIS2wMCywLyuwLyotsDEsICBHICCwDkNjuAQAYiCwAFBYsEBgWWawAWNgI2E4IyCKVVggRyAgsA5DY7gEAGIgsABQWLBAYFlmsAFjYCNhOBshWS2wMiwAsQACRVRYsQ4GRUKwARawMSqxBQEVRVgwWRsiWS2wMywAsA8rsQACRVRYsQ4GRUKwARawMSqxBQEVRVgwWRsiWS2wNCwgNbABYC2wNSwAsQ4GRUKwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwDkNjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sTQBFSohLbA2LCA8IEcgsA5DY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2E4LbA3LC4XPC2wOCwgPCBHILAOQ2O4BABiILAAUFiwQGBZZrABY2CwAENhsAFDYzgtsDkssQIAFiUgLiBHsAAjQrACJUmKikcjRyNhIFhiGyFZsAEjQrI4AQEVFCotsDossAAWsBcjQrAEJbAEJUcjRyNhsQwAQrALQytlii4jICA8ijgtsDsssAAWsBcjQrAEJbAEJSAuRyNHI2EgsAYjQrEMAEKwC0MrILBgUFggsEBRWLMEIAUgG7MEJgUaWUJCIyCwCkMgiiNHI0cjYSNGYLAGQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsARDYGQjsAVDYWRQWLAEQ2EbsAVDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AKQ0awAiWwCkNHI0cjYWAgsAZDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBkNgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA8LLAAFrAXI0IgICCwBSYgLkcjRyNhIzw4LbA9LLAAFrAXI0IgsAojQiAgIEYjR7ABKyNhOC2wPiywABawFyNCsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA/LLAAFrAXI0IgsApDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsEAsIyAuRrACJUawF0NYUBtSWVggPFkusTABFCstsEEsIyAuRrACJUawF0NYUhtQWVggPFkusTABFCstsEIsIyAuRrACJUawF0NYUBtSWVggPFkjIC5GsAIlRrAXQ1hSG1BZWCA8WS6xMAEUKy2wQyywOisjIC5GsAIlRrAXQ1hQG1JZWCA8WS6xMAEUKy2wRCywOyuKICA8sAYjQoo4IyAuRrACJUawF0NYUBtSWVggPFkusTABFCuwBkMusDArLbBFLLAAFrAEJbAEJiAgIEYjR2GwDCNCLkcjRyNhsAtDKyMgPCAuIzixMAEUKy2wRiyxCgQlQrAAFrAEJbAEJSAuRyNHI2EgsAYjQrEMAEKwC0MrILBgUFggsEBRWLMEIAUgG7MEJgUaWUJCIyBHsAZDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwBENgZCOwBUNhZFBYsARDYRuwBUNgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxMAEUKy2wRyyxADorLrEwARQrLbBILLEAOyshIyAgPLAGI0IjOLEwARQrsAZDLrAwKy2wSSywABUgR7AAI0KyAAEBFRQTLrA2Ki2wSiywABUgR7AAI0KyAAEBFRQTLrA2Ki2wSyyxAAEUE7A3Ki2wTCywOSotsE0ssAAWRSMgLiBGiiNhOLEwARQrLbBOLLAKI0KwTSstsE8ssgAARistsFAssgABRistsFEssgEARistsFIssgEBRistsFMssgAARystsFQssgABRystsFUssgEARystsFYssgEBRystsFcsswAAAEMrLbBYLLMAAQBDKy2wWSyzAQAAQystsFosswEBAEMrLbBbLLMAAAFDKy2wXCyzAAEBQystsF0sswEAAUMrLbBeLLMBAQFDKy2wXyyyAABFKy2wYCyyAAFFKy2wYSyyAQBFKy2wYiyyAQFFKy2wYyyyAABIKy2wZCyyAAFIKy2wZSyyAQBIKy2wZiyyAQFIKy2wZyyzAAAARCstsGgsswABAEQrLbBpLLMBAABEKy2waiyzAQEARCstsGssswAAAUQrLbBsLLMAAQFEKy2wbSyzAQABRCstsG4sswEBAUQrLbBvLLEAPCsusTABFCstsHAssQA8K7BAKy2wcSyxADwrsEErLbByLLAAFrEAPCuwQistsHMssQE8K7BAKy2wdCyxATwrsEErLbB1LLAAFrEBPCuwQistsHYssQA9Ky6xMAEUKy2wdyyxAD0rsEArLbB4LLEAPSuwQSstsHkssQA9K7BCKy2weiyxAT0rsEArLbB7LLEBPSuwQSstsHwssQE9K7BCKy2wfSyxAD4rLrEwARQrLbB+LLEAPiuwQCstsH8ssQA+K7BBKy2wgCyxAD4rsEIrLbCBLLEBPiuwQCstsIIssQE+K7BBKy2wgyyxAT4rsEIrLbCELLEAPysusTABFCstsIUssQA/K7BAKy2whiyxAD8rsEErLbCHLLEAPyuwQistsIgssQE/K7BAKy2wiSyxAT8rsEErLbCKLLEBPyuwQistsIsssgsAA0VQWLAGG7IEAgNFWCMhGyFZWUIrsAhlsAMkUHixBQEVRVgwWS0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAdCsQAAKrEAB0KxAAoqsQAHQrEACiqxAAdCuQAAAAsqsQAHQrkAAAALKrkAAwAARLEkAYhRWLBAiFi5AAMAZESxKAGIUVi4CACIWLkAAwAARFkbsScBiFFYugiAAAEEQIhjVFi5AAMAAERZWVlZWbEADiq4Af+FsASNsQIARLMFZAYAREQ="},85971:function(e){"use strict";e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBjMAAAC8AAAAYGNtYXAXVtKQAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Ztiu3OUAAAF4AAAEAGhlYWQOP/c1AAAFeAAAADZoaGVhCT8FzwAABbAAAAAkaG10eDAABnQAAAXUAAAAOGxvY2EGgAWAAAAGDAAAAB5tYXhwABMARAAABiwAAAAgbmFtZZlKCfsAAAZMAAABhnBvc3QAAwAAAAAH1AAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpCQPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qn//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAIkASQN3A5oAKAAAASIGFRQOAiMiLgI1ND4CNxU3JxUOAxUUHgIzMj4CNTQmIwNVDhQwU3BAQHBTMCxNZzuamkmAYDY7ZYlOTollOxQOAeIUDkBwUzAwU3BAPGxSNARyjY1jBT5lhEtOiWU7O2WJTg4UAAEAiQBJA3cDmgAoAAABNQcXNR4DFRQOAiMiLgI1NCYjIgYVFB4CMzI+AjU0LgInAhiamjtnTSwwU3BAQHBTMBQODhQ7ZYlOTollOzZggEkDN2ONjXIENFJsPEBwUzAwU3BADhQUDk6JZTs7ZYlOS4RlPgUABACDAOQFfQKbAAYACgATACAAABMRMxUhETMhESMRAQMzEzMTMwMjARUjFTMVIxUzFSERIb3p/t06AXg6ASWaPn4BfjycQQJb9eTk9/7PAS8Cm/57MQG2/koBtv5KAbb+hAF8/koBtjGLMpgxAbcAAAQATQBJA7MDNwAFAAsAEQAXAAAlITUzNTMFITUzFTMBIzUjNSEFIzUhFSMDs/7N70T9zf7NRO8CM0TvATP83kQBM+9JRKru7qoBvKpE7u5EAAAAAAIAkQBIA4EDNwAFACwAAAEFIxEzBRM3NjQnJiIPAScmIgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3NjQvAQJR/vy8vAEE400ICAgVB01NBxUHCAhMTAgIAwoEBQoDTU0ECQUECgQICE0DN+/+7+8Bd00IFQcHB01NBwcIFQdNTQcVBwQEBARMTAQEBAQHFQdNAAEA9wBJAxoDNwACAAATCQH3AiP93QM3/on+iQAEAE0ASQOzAzcABQALABEAFwAAJSM1IRUjBSM1IzUhASE1MxUzBSE1MzUzAsREATPv/rxE7wEzAjP+zUTv/c3+ze9ESe5EqqpEARLuqkREqgAAAAACAO8ASQMRAzcABAAIAAATMxEjESEzESPviIgBmoiIAzf9EgLu/RIAAgFEAI0CvALzAAIABQAAATcXFQcnAUS8vLy8AibNzczNzQAAAwCKAEkDjwM3AAUAJQBBAAABBSMRMwU3IiYnJjY3PgE1NCYnLgE3PgEXHgMVFA4CBw4BIyciJicmNjc+ATU0JicuATc+ARceARUUBgcOASMCS/77vLwBBY4IDQMECApATEtACQgEBBMKJz8sGRktQCcCBQIwBw0DBQgKGR4fGQoIBAUTCSgwLycCBQMDN+7+7u5xCAcKFAQbc0ZFdBsEEwoKCAQRNURPKipQQzYQAQF/CAgJFAULLhwcLwsFEwkKCAQSSCwrSBEBAQAAAQAAAAAAAHFIcIdfDzz1AAsEAAAAAADU0tlPAAAAANTS2U8AAAAABX0DmgAAAAgAAgAAAAAAAAABAAADwP/AAAAGAAAAAAAFfQABAAAAAAAAAAAAAAAAAAAADgQAAAAAAAAAAAAAAAIAAAAEAACJBAAAiQYAAIMEAABNBAAAkQQAAPcEAABNBAAA7wQAAUQEAACKAAAAAAAKABQAHgBYAJIAygD0ATwBSgF0AYgBmgIAAAAAAQAAAA4AQgAEAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},79306:function(e,t,n){"use strict";var r=n(94901),i=n(16823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},35548:function(e,t,n){"use strict";var r=n(33517),i=n(16823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},73506:function(e,t,n){"use strict";var r=n(13925),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},97080:function(e,t,n){"use strict";var r=n(94402).has;e.exports=function(e){return r(e),e}},6469:function(e,t,n){"use strict";var r=n(78227),i=n(2360),o=n(24913).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},57829:function(e,t,n){"use strict";var r=n(68183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},90679:function(e,t,n){"use strict";var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},28551:function(e,t,n){"use strict";var r=n(20034),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},77811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},67394:function(e,t,n){"use strict";var r=n(44576),i=n(46706),o=n(22195),s=r.ArrayBuffer,a=r.TypeError;e.exports=s&&i(s.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==o(e))throw new a("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,n){"use strict";var r=n(44576),i=n(77811),o=n(67394),s=r.DataView;e.exports=function(e){if(!i||0!==o(e))return!1;try{return new s(e),!1}catch(e){return!0}}},15652:function(e,t,n){"use strict";var r=n(79039);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},55169:function(e,t,n){"use strict";var r=n(3238),i=TypeError;e.exports=function(e){if(r(e))throw new i("ArrayBuffer is detached");return e}},95636:function(e,t,n){"use strict";var r=n(44576),i=n(79504),o=n(46706),s=n(57696),a=n(55169),l=n(67394),c=n(94483),u=n(1548),d=r.structuredClone,f=r.ArrayBuffer,h=r.DataView,A=Math.min,p=f.prototype,g=h.prototype,m=i(p.slice),v=o(p,"resizable","get"),y=o(p,"maxByteLength","get"),b=i(g.getInt8),E=i(g.setInt8);e.exports=(u||c)&&function(e,t,n){var r,i=l(e),o=void 0===t?i:s(t),p=!v||!v(e);if(a(e),u&&(e=d(e,{transfer:[e]}),i===o&&(n||p)))return e;if(i>=o&&(!n||p))r=m(e,0,o);else{var g=n&&!p&&y?{maxByteLength:y(e)}:void 0;r=new f(o,g);for(var C=new h(e),w=new h(r),S=A(o,i),T=0;T<S;T++)E(w,T,b(C,T))}return u||c(e),r}},94644:function(e,t,n){"use strict";var r,i,o,s=n(77811),a=n(43724),l=n(44576),c=n(94901),u=n(20034),d=n(39297),f=n(36955),h=n(16823),A=n(66699),p=n(36840),g=n(62106),m=n(1625),v=n(42787),y=n(52967),b=n(78227),E=n(33392),C=n(91181),w=C.enforce,S=C.get,T=l.Int8Array,k=T&&T.prototype,x=l.Uint8ClampedArray,L=x&&x.prototype,I=T&&v(T),R=k&&v(k),D=Object.prototype,B=l.TypeError,P=b("toStringTag"),O=E("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",_=s&&!!y&&"Opera"!==f(l.opera),F=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},Q=function(e){var t=v(e);if(u(t)){var n=S(t);return n&&d(n,M)?n[M]:Q(t)}},G=function(e){if(!u(e))return!1;var t=f(e);return d(N,t)||d(U,t)};for(r in N)(o=(i=l[r])&&i.prototype)?w(o)[M]=i:_=!1;for(r in U)(o=(i=l[r])&&i.prototype)&&(w(o)[M]=i);if((!_||!c(I)||I===Function.prototype)&&(I=function(){throw new B("Incorrect invocation")},_))for(r in N)l[r]&&y(l[r],I);if((!_||!R||R===D)&&(R=I.prototype,_))for(r in N)l[r]&&y(l[r].prototype,R);if(_&&v(L)!==R&&y(L,R),a&&!d(R,P))for(r in F=!0,g(R,P,{configurable:!0,get:function(){return u(this)?this[O]:void 0}}),N)l[r]&&A(l[r],O,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:_,TYPED_ARRAY_TAG:F&&O,aTypedArray:function(e){if(G(e))return e;throw new B("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!y||m(I,e)))return e;throw new B(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(a){if(n)for(var i in N){var o=l[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}R[e]&&!n||p(R,e,n?t:_&&k[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(y){if(n)for(r in N)if((i=l[r])&&d(i,e))try{delete i[e]}catch(e){}if(I[e]&&!n)return;try{return p(I,e,n?t:_&&I[e]||t)}catch(e){}}for(r in N)!(i=l[r])||i[e]&&!n||p(i,e,t)}},getTypedArrayConstructor:Q,isView:function(e){if(!u(e))return!1;var t=f(e);return"DataView"===t||d(N,t)||d(U,t)},isTypedArray:G,TypedArray:I,TypedArrayPrototype:R}},66346:function(e,t,n){"use strict";var r=n(44576),i=n(79504),o=n(43724),s=n(77811),a=n(10350),l=n(66699),c=n(62106),u=n(56279),d=n(79039),f=n(90679),h=n(91291),A=n(18014),p=n(57696),g=n(15617),m=n(88490),v=n(42787),y=n(52967),b=n(84373),E=n(67680),C=n(23167),w=n(77740),S=n(10687),T=n(91181),k=a.PROPER,x=a.CONFIGURABLE,L="ArrayBuffer",I="DataView",R="prototype",D="Wrong index",B=T.getterFor(L),P=T.getterFor(I),O=T.set,M=r[L],_=M,F=_&&_[R],N=r[I],U=N&&N[R],Q=Object.prototype,G=r.Array,j=r.RangeError,W=i(b),z=i([].reverse),H=m.pack,Y=m.unpack,V=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},X=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Z=function(e){return H(g(e),23,4)},J=function(e){return H(e,52,8)},$=function(e,t,n){c(e[R],t,{configurable:!0,get:function(){return n(this)[t]}})},ee=function(e,t,n,r){var i=P(e),o=p(n),s=!!r;if(o+t>i.byteLength)throw new j(D);var a=i.bytes,l=o+i.byteOffset,c=E(a,l,l+t);return s?c:z(c)},te=function(e,t,n,r,i,o){var s=P(e),a=p(n),l=r(+i),c=!!o;if(a+t>s.byteLength)throw new j(D);for(var u=s.bytes,d=a+s.byteOffset,f=0;f<t;f++)u[d+f]=l[c?f:t-f-1]};if(s){var ne=k&&M.name!==L;d((function(){M(1)}))&&d((function(){new M(-1)}))&&!d((function(){return new M,new M(1.5),new M(NaN),1!==M.length||ne&&!x}))?ne&&x&&l(M,"name",L):((_=function(e){return f(this,F),C(new M(p(e)),this,_)})[R]=F,F.constructor=_,w(_,M)),y&&v(U)!==Q&&y(U,Q);var re=new N(new _(2)),ie=i(U.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||u(U,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else F=(_=function(e){f(this,F);var t=p(e);O(this,{type:L,bytes:W(G(t),0),byteLength:t}),o||(this.byteLength=t,this.detached=!1)})[R],U=(N=function(e,t,n){f(this,U),f(e,F);var r=B(e),i=r.byteLength,s=h(t);if(s<0||s>i)throw new j("Wrong offset");if(s+(n=void 0===n?i-s:A(n))>i)throw new j("Wrong length");O(this,{type:I,buffer:e,byteLength:n,byteOffset:s,bytes:r.bytes}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=s)})[R],o&&($(_,"byteLength",B),$(N,"buffer",P),$(N,"byteLength",P),$(N,"byteOffset",P)),u(U,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24},getUint8:function(e){return ee(this,1,e)[0]},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return X(ee(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return X(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return Y(ee(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return Y(ee(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){te(this,1,e,V,t)},setUint8:function(e,t){te(this,1,e,V,t)},setInt16:function(e,t){te(this,2,e,K,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){te(this,2,e,K,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){te(this,4,e,q,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){te(this,4,e,q,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){te(this,4,e,Z,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){te(this,8,e,J,t,arguments.length>2&&arguments[2])}});S(_,L),S(N,I),e.exports={ArrayBuffer:_,DataView:N}},57029:function(e,t,n){"use strict";var r=n(48981),i=n(35610),o=n(26198),s=n(84606),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),l=o(n),c=i(e,l),u=i(t,l),d=arguments.length>2?arguments[2]:void 0,f=a((void 0===d?l:i(d,l))-u,l-c),h=1;for(u<c&&c<u+f&&(h=-1,u+=f-1,c+=f-1);f-- >0;)u in n?n[c]=n[u]:s(n,c),c+=h,u+=h;return n}},84373:function(e,t,n){"use strict";var r=n(48981),i=n(35610),o=n(26198);e.exports=function(e){for(var t=r(this),n=o(t),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>a;)t[a++]=e;return t}},90235:function(e,t,n){"use strict";var r=n(59213).forEach,i=n(34598)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},35370:function(e,t,n){"use strict";var r=n(26198);e.exports=function(e,t,n){for(var i=0,o=arguments.length>2?n:r(t),s=new e(o);o>i;)s[i]=t[i++];return s}},97916:function(e,t,n){"use strict";var r=n(76080),i=n(69565),o=n(48981),s=n(96319),a=n(44209),l=n(33517),c=n(26198),u=n(97040),d=n(70081),f=n(50851),h=Array;e.exports=function(e){var t=o(e),n=l(this),A=arguments.length,p=A>1?arguments[1]:void 0,g=void 0!==p;g&&(p=r(p,A>2?arguments[2]:void 0));var m,v,y,b,E,C,w=f(t),S=0;if(!w||this===h&&a(w))for(m=c(t),v=n?new this(m):h(m);m>S;S++)C=g?p(t[S],S):t[S],u(v,S,C);else for(v=n?new this:[],E=(b=d(t,w)).next;!(y=i(E,b)).done;S++)C=g?s(b,p,[y.value,S],!0):y.value,u(v,S,C);return v.length=S,v}},19617:function(e,t,n){"use strict";var r=n(25397),i=n(35610),o=n(26198),s=function(e){return function(t,n,s){var a=r(t),l=o(a);if(0===l)return!e&&-1;var c,u=i(s,l);if(e&&n!=n){for(;l>u;)if((c=a[u++])!=c)return!0}else for(;l>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},43839:function(e,t,n){"use strict";var r=n(76080),i=n(47055),o=n(48981),s=n(26198),a=function(e){var t=1===e;return function(n,a,l){for(var c,u=o(n),d=i(u),f=s(d),h=r(a,l);f-- >0;)if(h(c=d[f],f,u))switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},59213:function(e,t,n){"use strict";var r=n(76080),i=n(79504),o=n(47055),s=n(48981),a=n(26198),l=n(1469),c=i([].push),u=function(e){var t=1===e,n=2===e,i=3===e,u=4===e,d=6===e,f=7===e,h=5===e||d;return function(A,p,g,m){for(var v,y,b=s(A),E=o(b),C=a(E),w=r(p,g),S=0,T=m||l,k=t?T(A,C):n||f?T(A,0):void 0;C>S;S++)if((h||S in E)&&(y=w(v=E[S],S,b),e))if(t)k[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:c(k,v)}else switch(e){case 4:return!1;case 7:c(k,v)}return d?-1:i||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},8379:function(e,t,n){"use strict";var r=n(18745),i=n(25397),o=n(91291),s=n(26198),a=n(34598),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),f=u||!d;e.exports=f?function(e){if(u)return r(c,this,arguments)||0;var t=i(this),n=s(t);if(0===n)return-1;var a=n-1;for(arguments.length>1&&(a=l(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},70597:function(e,t,n){"use strict";var r=n(79039),i=n(78227),o=n(39519),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34598:function(e,t,n){"use strict";var r=n(79039);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},80926:function(e,t,n){"use strict";var r=n(79306),i=n(48981),o=n(47055),s=n(26198),a=TypeError,l="Reduce of empty array with no initial value",c=function(e){return function(t,n,c,u){var d=i(t),f=o(d),h=s(d);if(r(n),0===h&&c<2)throw new a(l);var A=e?h-1:0,p=e?-1:1;if(c<2)for(;;){if(A in f){u=f[A],A+=p;break}if(A+=p,e?A<0:h<=A)throw new a(l)}for(;e?A>=0:h>A;A+=p)A in f&&(u=n(u,f[A],A,d));return u}};e.exports={left:c(!1),right:c(!0)}},34527:function(e,t,n){"use strict";var r=n(43724),i=n(34376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},67680:function(e,t,n){"use strict";var r=n(79504);e.exports=r([].slice)},74488:function(e,t,n){"use strict";var r=n(67680),i=Math.floor,o=function(e,t){var n=e.length;if(n<8)for(var s,a,l=1;l<n;){for(a=l,s=e[l];a&&t(e[a-1],s)>0;)e[a]=e[--a];a!==l++&&(e[a]=s)}else for(var c=i(n/2),u=o(r(e,0,c),t),d=o(r(e,c),t),f=u.length,h=d.length,A=0,p=0;A<f||p<h;)e[A+p]=A<f&&p<h?t(u[A],d[p])<=0?u[A++]:d[p++]:A<f?u[A++]:d[p++];return e};e.exports=o},87433:function(e,t,n){"use strict";var r=n(34376),i=n(33517),o=n(20034),s=n(78227)("species"),a=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===a||r(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},1469:function(e,t,n){"use strict";var r=n(87433);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},37628:function(e,t,n){"use strict";var r=n(26198);e.exports=function(e,t){for(var n=r(e),i=new t(n),o=0;o<n;o++)i[o]=e[n-o-1];return i}},39928:function(e,t,n){"use strict";var r=n(26198),i=n(91291),o=RangeError;e.exports=function(e,t,n,s){var a=r(e),l=i(n),c=l<0?a+l:l;if(c>=a||c<0)throw new o("Incorrect index");for(var u=new t(a),d=0;d<a;d++)u[d]=d===c?s:e[d];return u}},92804:function(e){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",r=t+"-_",i=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:i(n),i2cUrl:r,c2iUrl:i(r)}},96319:function(e,t,n){"use strict";var r=n(28551),i=n(9539);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},84428:function(e,t,n){"use strict";var r=n(78227)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},22195:function(e,t,n){"use strict";var r=n(79504),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},36955:function(e,t,n){"use strict";var r=n(92140),i=n(94901),o=n(22195),s=n(78227)("toStringTag"),a=Object,l="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:l?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},86938:function(e,t,n){"use strict";var r=n(2360),i=n(62106),o=n(56279),s=n(76080),a=n(90679),l=n(64117),c=n(72652),u=n(51088),d=n(62529),f=n(87633),h=n(43724),A=n(3451).fastKey,p=n(91181),g=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,u){var d=e((function(e,i){a(e,f),g(e,{type:t,index:r(null),first:null,last:null,size:0}),h||(e.size=0),l(i)||c(i,e[u],{that:e,AS_ENTRIES:n})})),f=d.prototype,p=m(t),v=function(e,t,n){var r,i,o=p(e),s=y(e,t);return s?s.value=n:(o.last=s={index:i=A(t,!0),key:t,value:n,previous:r=o.last,next:null,removed:!1},o.first||(o.first=s),r&&(r.next=s),h?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},y=function(e,t){var n,r=p(e),i=A(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return o(f,{clear:function(){for(var e=p(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=r(null),h?e.size=0:this.size=0},delete:function(e){var t=this,n=p(t),r=y(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),h?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=p(this),r=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(f,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&i(f,"size",{configurable:!0,get:function(){return p(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);u(e,t,(function(e,t){g(this,{type:r,target:e,state:i(e),kind:t,last:null})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=null,d(void 0,!0))}),n?"entries":"values",!n,!0),f(t)}}},91625:function(e,t,n){"use strict";var r=n(79504),i=n(56279),o=n(3451).getWeakData,s=n(90679),a=n(28551),l=n(64117),c=n(20034),u=n(72652),d=n(59213),f=n(39297),h=n(91181),A=h.set,p=h.getterFor,g=d.find,m=d.findIndex,v=r([].splice),y=0,b=function(e){return e.frozen||(e.frozen=new E)},E=function(){this.entries=[]},C=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};E.prototype={get:function(e){var t=C(this,e);if(t)return t[1]},has:function(e){return!!C(this,e)},set:function(e,t){var n=C(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){s(e,h),A(e,{type:t,id:y++,frozen:null}),l(i)||u(i,e[r],{that:e,AS_ENTRIES:n})})),h=d.prototype,g=p(t),m=function(e,t,n){var r=g(e),i=o(a(t),!0);return!0===i?b(r).set(t,n):i[r.id]=n,e};return i(h,{delete:function(e){var t=g(this);if(!c(e))return!1;var n=o(e);return!0===n?b(t).delete(e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=g(this);if(!c(e))return!1;var n=o(e);return!0===n?b(t).has(e):n&&f(n,t.id)}}),i(h,n?{get:function(e){var t=g(this);if(c(e)){var n=o(e);if(!0===n)return b(t).get(e);if(n)return n[t.id]}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),d}}},16468:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(79504),s=n(92796),a=n(36840),l=n(3451),c=n(72652),u=n(90679),d=n(94901),f=n(64117),h=n(20034),A=n(79039),p=n(84428),g=n(10687),m=n(23167);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=v?"set":"add",E=i[e],C=E&&E.prototype,w=E,S={},T=function(e){var t=o(C[e]);a(C,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(y&&!h(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return y&&!h(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(y&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(s(e,!d(E)||!(y||C.forEach&&!A((function(){(new E).entries().next()})))))w=n.getConstructor(t,e,v,b),l.enable();else if(s(e,!0)){var k=new w,x=k[b](y?{}:-0,1)!==k,L=A((function(){k.has(1)})),I=p((function(e){new E(e)})),R=!y&&A((function(){for(var e=new E,t=5;t--;)e[b](t,t);return!e.has(-0)}));I||((w=t((function(e,t){u(e,C);var n=m(new E,e,w);return f(t)||c(t,n[b],{that:n,AS_ENTRIES:v}),n}))).prototype=C,C.constructor=w),(L||R)&&(T("delete"),T("has"),v&&T("get")),(R||x)&&T(b),y&&C.clear&&delete C.clear}return S[e]=w,r({global:!0,constructor:!0,forced:w!==E},S),g(w,e),y||n.setStrong(w,e,v),w}},77740:function(e,t,n){"use strict";var r=n(39297),i=n(35031),o=n(77347),s=n(24913);e.exports=function(e,t,n){for(var a=i(t),l=s.f,c=o.f,u=0;u<a.length;u++){var d=a[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},41436:function(e,t,n){"use strict";var r=n(78227)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},12211:function(e,t,n){"use strict";var r=n(79039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},77240:function(e,t,n){"use strict";var r=n(79504),i=n(67750),o=n(655),s=/"/g,a=r("".replace);e.exports=function(e,t,n,r){var l=o(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+a(o(r),s,"&quot;")+'"'),c+">"+l+"</"+t+">"}},62529:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},66699:function(e,t,n){"use strict";var r=n(43724),i=n(24913),o=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},97040:function(e,t,n){"use strict";var r=n(43724),i=n(24913),o=n(6980);e.exports=function(e,t,n){r?i.f(e,t,o(0,n)):e[t]=n}},70380:function(e,t,n){"use strict";var r=n(79504),i=n(79039),o=n(60533).start,s=RangeError,a=isFinite,l=Math.abs,c=Date.prototype,u=c.toISOString,d=r(c.getTime),f=r(c.getUTCDate),h=r(c.getUTCFullYear),A=r(c.getUTCHours),p=r(c.getUTCMilliseconds),g=r(c.getUTCMinutes),m=r(c.getUTCMonth),v=r(c.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!a(d(this)))throw new s("Invalid time value");var e=this,t=h(e),n=p(e),r=t<0?"-":t>9999?"+":"";return r+o(l(t),r?6:4,0)+"-"+o(m(e)+1,2,0)+"-"+o(f(e),2,0)+"T"+o(A(e),2,0)+":"+o(g(e),2,0)+":"+o(v(e),2,0)+"."+o(n,3,0)+"Z"}:u},53640:function(e,t,n){"use strict";var r=n(28551),i=n(84270),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return i(this,e)}},62106:function(e,t,n){"use strict";var r=n(50283),i=n(24913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},36840:function(e,t,n){"use strict";var r=n(94901),i=n(24913),o=n(50283),s=n(39433);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&o(n,c,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},56279:function(e,t,n){"use strict";var r=n(36840);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},39433:function(e,t,n){"use strict";var r=n(44576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},84606:function(e,t,n){"use strict";var r=n(16823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},43724:function(e,t,n){"use strict";var r=n(79039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},94483:function(e,t,n){"use strict";var r,i,o,s,a=n(44576),l=n(89429),c=n(1548),u=a.structuredClone,d=a.ArrayBuffer,f=a.MessageChannel,h=!1;if(c)h=function(e){u(e,{transfer:[e]})};else if(d)try{f||(r=l("worker_threads"))&&(f=r.MessageChannel),f&&(i=new f,o=new d(2),s=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(s(o),0===o.byteLength&&(h=s)))}catch(e){}e.exports=h},4055:function(e,t,n){"use strict";var r=n(44576),i=n(20034),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},96837:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},55002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},67400:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},79296:function(e,t,n){"use strict";var r=n(4055)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},88727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},13709:function(e,t,n){"use strict";var r=n(82839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},13763:function(e,t,n){"use strict";var r=n(82839);e.exports=/MSIE|Trident/.test(r)},44265:function(e,t,n){"use strict";var r=n(82839);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},89544:function(e,t,n){"use strict";var r=n(82839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},38574:function(e,t,n){"use strict";var r=n(84215);e.exports="NODE"===r},7860:function(e,t,n){"use strict";var r=n(82839);e.exports=/web0s(?!.*chrome)/i.test(r)},82839:function(e,t,n){"use strict";var r=n(44576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},39519:function(e,t,n){"use strict";var r,i,o=n(44576),s=n(82839),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},3607:function(e,t,n){"use strict";var r=n(82839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},84215:function(e,t,n){"use strict";var r=n(44576),i=n(82839),o=n(22195),s=function(e){return i.slice(0,e.length)===e};e.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},16193:function(e,t,n){"use strict";var r=n(79504),i=Error,o=r("".replace),s=String(new i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,a,"");return e}},80747:function(e,t,n){"use strict";var r=n(66699),i=n(16193),o=n(24659),s=Error.captureStackTrace;e.exports=function(e,t,n,a){o&&(s?s(e,t):r(e,"stack",i(n,a)))}},24659:function(e,t,n){"use strict";var r=n(79039),i=n(6980);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},77536:function(e,t,n){"use strict";var r=n(43724),i=n(79039),o=n(28551),s=n(32603),a=Error.prototype.toString,l=i((function(){if(r){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==a.call(e))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));e.exports=l?function(){var e=o(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:a},46518:function(e,t,n){"use strict";var r=n(44576),i=n(77347).f,o=n(66699),s=n(36840),a=n(39433),l=n(77740),c=n(92796);e.exports=function(e,t){var n,u,d,f,h,A=e.target,p=e.global,g=e.stat;if(n=p?r:g?r[A]||a(A,{}):r[A]&&r[A].prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(h=i(n,u))&&h.value:n[u],!c(p?u:A+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(n,u,f,e)}}},79039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},89228:function(e,t,n){"use strict";n(27495);var r=n(69565),i=n(36840),o=n(57323),s=n(79039),a=n(78227),l=n(66699),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var f=a(e),h=!s((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),A=h&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!A||n){var p=/./[f],g=t(f,""[e],(function(e,t,n,i,s){var a=t.exec;return a===o||a===u.exec?h&&!s?{done:!0,value:r(p,t,n,i)}:{done:!0,value:r(e,n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(u,f,g[1])}d&&l(u[f],"sham",!0)}},70259:function(e,t,n){"use strict";var r=n(34376),i=n(26198),o=n(96837),s=n(76080),a=function(e,t,n,l,c,u,d,f){for(var h,A,p=c,g=0,m=!!d&&s(d,f);g<l;)g in n&&(h=m?m(n[g],g,t):n[g],u>0&&r(h)?(A=i(h),p=a(e,t,h,A,p,u-1)-1):(o(p+1),e[p]=h),p++),g++;return p};e.exports=a},92744:function(e,t,n){"use strict";var r=n(79039);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},18745:function(e,t,n){"use strict";var r=n(40616),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},76080:function(e,t,n){"use strict";var r=n(27476),i=n(79306),o=n(40616),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},40616:function(e,t,n){"use strict";var r=n(79039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},30566:function(e,t,n){"use strict";var r=n(79504),i=n(79306),o=n(20034),s=n(39297),a=n(67680),l=n(40616),c=Function,u=r([].concat),d=r([].join),f={};e.exports=l?c.bind:function(e){var t=i(this),n=t.prototype,r=a(arguments,1),l=function(){var n=u(r,a(arguments));return this instanceof l?function(e,t,n){if(!s(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=c("C,a","return new C("+d(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return o(n)&&(l.prototype=n),l}},69565:function(e,t,n){"use strict";var r=n(40616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},10350:function(e,t,n){"use strict";var r=n(43724),i=n(39297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},46706:function(e,t,n){"use strict";var r=n(79504),i=n(79306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},27476:function(e,t,n){"use strict";var r=n(22195),i=n(79504);e.exports=function(e){if("Function"===r(e))return i(e)}},79504:function(e,t,n){"use strict";var r=n(40616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},89429:function(e,t,n){"use strict";var r=n(44576),i=n(38574);e.exports=function(e){if(i){try{return r.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},44124:function(e,t,n){"use strict";var r=n(44576);e.exports=function(e,t){var n=r[e],i=n&&n.prototype;return i&&i[t]}},97751:function(e,t,n){"use strict";var r=n(44576),i=n(94901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},1767:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},48646:function(e,t,n){"use strict";var r=n(69565),i=n(28551),o=n(1767),s=n(50851);e.exports=function(e,t){t&&"string"==typeof e||i(e);var n=s(e);return o(i(void 0!==n?r(n,e):e))}},50851:function(e,t,n){"use strict";var r=n(36955),i=n(55966),o=n(64117),s=n(26269),a=n(78227)("iterator");e.exports=function(e){if(!o(e))return i(e,a)||i(e,"@@iterator")||s[r(e)]}},70081:function(e,t,n){"use strict";var r=n(69565),i=n(79306),o=n(28551),s=n(16823),a=n(50851),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw new l(s(e)+" is not iterable")}},66933:function(e,t,n){"use strict";var r=n(79504),i=n(34376),o=n(94901),s=n(22195),a=n(655),l=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?l(n,c):"number"!=typeof c&&"Number"!==s(c)&&"String"!==s(c)||l(n,a(c))}var u=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<u;r++)if(n[r]===e)return t}}}},55966:function(e,t,n){"use strict";var r=n(79306),i=n(64117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},83789:function(e,t,n){"use strict";var r=n(79306),i=n(28551),o=n(69565),s=n(91291),a=n(1767),l="Invalid size",c=RangeError,u=TypeError,d=Math.max,f=function(e,t){this.set=e,this.size=d(t,0),this.has=r(e.has),this.keys=r(e.keys)};f.prototype={getIterator:function(){return a(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new u(l);var n=s(t);if(n<0)throw new c(l);return new f(e,n)}},2478:function(e,t,n){"use strict";var r=n(79504),i=n(48981),o=Math.floor,s=r("".charAt),a=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var h=n+e.length,A=r.length,p=u;return void 0!==d&&(d=i(d),p=c),a(f,p,(function(i,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,h);case"<":c=d[l(a,1,-1)];break;default:var u=+a;if(0===u)return i;if(u>A){var f=o(u/10);return 0===f?i:f<=A?void 0===r[f-1]?s(a,1):r[f-1]+s(a,1):i}c=r[u-1]}return void 0===c?"":c}))}},44576:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:function(e,t,n){"use strict";var r=n(79504),i=n(48981),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},30421:function(e){"use strict";e.exports={}},90757:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},20397:function(e,t,n){"use strict";var r=n(97751);e.exports=r("document","documentElement")},35917:function(e,t,n){"use strict";var r=n(43724),i=n(79039),o=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},88490:function(e){"use strict";var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,s=Math.LN2;e.exports={pack:function(e,a,l){var c,u,d,f=t(l),h=8*l-a-1,A=(1<<h)-1,p=A>>1,g=23===a?r(2,-24)-r(2,-77):0,m=e<0||0===e&&1/e<0?1:0,v=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,c=A):(c=i(o(e)/s),e*(d=r(2,-c))<1&&(c--,d*=2),(e+=c+p>=1?g/d:g*r(2,1-p))*d>=2&&(c++,d/=2),c+p>=A?(u=0,c=A):c+p>=1?(u=(e*d-1)*r(2,a),c+=p):(u=e*r(2,p-1)*r(2,a),c=0));a>=8;)f[v++]=255&u,u/=256,a-=8;for(c=c<<a|u,h+=a;h>0;)f[v++]=255&c,c/=256,h-=8;return f[v-1]|=128*m,f},unpack:function(e,t){var n,i=e.length,o=8*i-t-1,s=(1<<o)-1,a=s>>1,l=o-7,c=i-1,u=e[c--],d=127&u;for(u>>=7;l>0;)d=256*d+e[c--],l-=8;for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)n=256*n+e[c--],l-=8;if(0===d)d=1-a;else{if(d===s)return n?NaN:u?-1/0:1/0;n+=r(2,t),d-=a}return(u?-1:1)*n*r(2,d-t)}}},47055:function(e,t,n){"use strict";var r=n(79504),i=n(79039),o=n(22195),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},23167:function(e,t,n){"use strict";var r=n(94901),i=n(20034),o=n(52967);e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},33706:function(e,t,n){"use strict";var r=n(79504),i=n(94901),o=n(77629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},77584:function(e,t,n){"use strict";var r=n(20034),i=n(66699);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},3451:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(30421),s=n(20034),a=n(39297),l=n(24913).f,c=n(38480),u=n(10298),d=n(34124),f=n(33392),h=n(92744),A=!1,p=f("meta"),g=0,m=function(e){l(e,p,{value:{objectID:"O"+g++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},A=!0;var e=c.f,t=i([].splice),n={};n[p]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===p){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,p)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[p].objectID},getWeakData:function(e,t){if(!a(e,p)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[p].weakData},onFreeze:function(e){return h&&A&&d(e)&&!a(e,p)&&m(e),e}};o[p]=!0},91181:function(e,t,n){"use strict";var r,i,o,s=n(58622),a=n(44576),l=n(20034),c=n(66699),u=n(39297),d=n(77629),f=n(66119),h=n(30421),A="Object already initialized",p=a.TypeError,g=a.WeakMap;if(s||d.state){var m=d.state||(d.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(e,t){if(m.has(e))throw new p(A);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},o=function(e){return m.has(e)}}else{var v=f("state");h[v]=!0,r=function(e,t){if(u(e,v))throw new p(A);return t.facade=e,c(e,v,t),t},i=function(e){return u(e,v)?e[v]:{}},o=function(e){return u(e,v)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}},44209:function(e,t,n){"use strict";var r=n(78227),i=n(26269),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},34376:function(e,t,n){"use strict";var r=n(22195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},18727:function(e,t,n){"use strict";var r=n(36955);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},94901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},33517:function(e,t,n){"use strict";var r=n(79504),i=n(79039),o=n(94901),s=n(36955),a=n(97751),l=n(33706),c=function(){},u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),h=!d.test(c),A=function(e){if(!o(e))return!1;try{return u(c,[],e),!0}catch(e){return!1}},p=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(d,l(e))}catch(e){return!0}};p.sham=!0,e.exports=!u||i((function(){var e;return A(A.call)||!A(Object)||!A((function(){e=!0}))||e}))?p:A},16575:function(e,t,n){"use strict";var r=n(39297);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},92796:function(e,t,n){"use strict";var r=n(79039),i=n(94901),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n===u||n!==c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},2087:function(e,t,n){"use strict";var r=n(20034),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},64117:function(e){"use strict";e.exports=function(e){return null==e}},20034:function(e,t,n){"use strict";var r=n(94901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},13925:function(e,t,n){"use strict";var r=n(20034);e.exports=function(e){return r(e)||null===e}},96395:function(e){"use strict";e.exports=!1},60788:function(e,t,n){"use strict";var r=n(20034),i=n(22195),o=n(78227)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},10757:function(e,t,n){"use strict";var r=n(97751),i=n(94901),o=n(1625),s=n(7040),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},40507:function(e,t,n){"use strict";var r=n(69565);e.exports=function(e,t,n){for(var i,o,s=n?e:e.iterator,a=e.next;!(i=r(a,s)).done;)if(void 0!==(o=t(i.value)))return o}},72652:function(e,t,n){"use strict";var r=n(76080),i=n(69565),o=n(28551),s=n(16823),a=n(44209),l=n(26198),c=n(1625),u=n(70081),d=n(50851),f=n(9539),h=TypeError,A=function(e,t){this.stopped=e,this.result=t},p=A.prototype;e.exports=function(e,t,n){var g,m,v,y,b,E,C,w=n&&n.that,S=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),L=r(t,w),I=function(e){return g&&f(g,"normal",e),new A(!0,e)},R=function(e){return S?(o(e),x?L(e[0],e[1],I):L(e[0],e[1])):x?L(e,I):L(e)};if(T)g=e.iterator;else if(k)g=e;else{if(!(m=d(e)))throw new h(s(e)+" is not iterable");if(a(m)){for(v=0,y=l(e);y>v;v++)if((b=R(e[v]))&&c(p,b))return b;return new A(!1)}g=u(e,m)}for(E=T?e.next:g.next;!(C=i(E,g)).done;){try{b=R(C.value)}catch(e){f(g,"throw",e)}if("object"==typeof b&&b&&c(p,b))return b}return new A(!1)}},9539:function(e,t,n){"use strict";var r=n(69565),i=n(28551),o=n(55966);e.exports=function(e,t,n){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=r(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return i(s),n}},33994:function(e,t,n){"use strict";var r=n(57657).IteratorPrototype,i=n(2360),o=n(6980),s=n(10687),a=n(26269),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!c,n)}),s(e,u,!1,!0),a[u]=l,e}},19462:function(e,t,n){"use strict";var r=n(69565),i=n(2360),o=n(66699),s=n(56279),a=n(78227),l=n(91181),c=n(55966),u=n(57657).IteratorPrototype,d=n(62529),f=n(9539),h=a("toStringTag"),A="IteratorHelper",p="WrapForValidIterator",g=l.set,m=function(e){var t=l.getterFor(e?p:A);return s(i(u),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return d(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:d(r,n.done)}catch(e){throw n.done=!0,e}},return:function(){var n=t(this),i=n.iterator;if(n.done=!0,e){var o=c(i,"return");return o?r(o,i):d(void 0,!0)}if(n.inner)try{f(n.inner.iterator,"normal")}catch(e){return f(i,"throw",e)}return i&&f(i,"normal"),d(void 0,!0)}})},v=m(!0),y=m(!1);o(y,h,"Iterator Helper"),e.exports=function(e,t,n){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=t?p:A,i.returnHandlerResult=!!n,i.nextHandler=e,i.counter=0,i.done=!1,g(this,i)};return r.prototype=t?v:y,r}},51088:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(96395),s=n(10350),a=n(94901),l=n(33994),c=n(42787),u=n(52967),d=n(10687),f=n(66699),h=n(36840),A=n(78227),p=n(26269),g=n(57657),m=s.PROPER,v=s.CONFIGURABLE,y=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,E=A("iterator"),C="keys",w="values",S="entries",T=function(){return this};e.exports=function(e,t,n,s,A,g,k){l(n,t,s);var x,L,I,R=function(e){if(e===A&&M)return M;if(!b&&e&&e in P)return P[e];switch(e){case C:case w:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",B=!1,P=e.prototype,O=P[E]||P["@@iterator"]||A&&P[A],M=!b&&O||R(A),_="Array"===t&&P.entries||O;if(_&&(x=c(_.call(new e)))!==Object.prototype&&x.next&&(o||c(x)===y||(u?u(x,y):a(x[E])||h(x,E,T)),d(x,D,!0,!0),o&&(p[D]=T)),m&&A===w&&O&&O.name!==w&&(!o&&v?f(P,"name",w):(B=!0,M=function(){return i(O,this)})),A)if(L={values:R(w),keys:g?M:R(C),entries:R(S)},k)for(I in L)(b||B||!(I in P))&&h(P,I,L[I]);else r({target:t,proto:!0,forced:b||B},L);return o&&!k||P[E]===M||h(P,E,M,{name:A}),p[t]=M,L}},20713:function(e,t,n){"use strict";var r=n(69565),i=n(79306),o=n(28551),s=n(1767),a=n(19462),l=n(96319),c=a((function(){var e=this.iterator,t=o(r(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return o(this),i(e),new c(s(this),{mapper:e})}},57657:function(e,t,n){"use strict";var r,i,o,s=n(79039),a=n(94901),l=n(20034),c=n(2360),u=n(42787),d=n(36840),f=n(78227),h=n(96395),A=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),!l(r)||s((function(){var e={};return r[A].call(e)!==e}))?r={}:h&&(r=c(r)),a(r[A])||d(r,A,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},26269:function(e){"use strict";e.exports={}},26198:function(e,t,n){"use strict";var r=n(18014);e.exports=function(e){return r(e.length)}},50283:function(e,t,n){"use strict";var r=n(79504),i=n(79039),o=n(94901),s=n(39297),a=n(43724),l=n(10350).CONFIGURABLE,c=n(33706),u=n(91181),d=u.enforce,f=u.get,h=String,A=Object.defineProperty,p=r("".slice),g=r("".replace),m=r([].join),v=a&&!i((function(){return 8!==A((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===p(h(t),0,7)&&(t="["+g(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?A(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&s(n,"arity")&&e.length!==n.arity&&A(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&A(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return s(r,"source")||(r.source=m(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return o(this)&&f(this).source||c(this)}),"toString")},72248:function(e,t,n){"use strict";var r=n(79504),i=Map.prototype;e.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},53250:function(e){"use strict";var t=Math.expm1,n=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!==t(-2e-17)?function(e){var t=+e;return 0===t?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:t},33164:function(e,t,n){"use strict";var r=n(77782),i=n(53602),o=Math.abs;e.exports=function(e,t,n,s){var a=+e,l=o(a),c=r(a);if(l<s)return c*i(l/s/t)*s*t;var u=(1+t/2220446049250313e-31)*l,d=u-(u-l);return d>n||d!=d?c*(1/0):c*d}},15617:function(e,t,n){"use strict";var r=n(33164);e.exports=Math.fround||function(e){return r(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},49340:function(e){"use strict";var t=Math.log,n=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*n}},7740:function(e){"use strict";var t=Math.log;e.exports=Math.log1p||function(e){var n=+e;return n>-1e-8&&n<1e-8?n-n*n/2:t(1+n)}},67787:function(e){"use strict";var t=Math.log,n=Math.LN2;e.exports=Math.log2||function(e){return t(e)/n}},53602:function(e){"use strict";var t=4503599627370496;e.exports=function(e){return e+t-t}},77782:function(e){"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},80741:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},91955:function(e,t,n){"use strict";var r,i,o,s,a,l=n(44576),c=n(93389),u=n(76080),d=n(59225).set,f=n(18265),h=n(89544),A=n(44265),p=n(7860),g=n(38574),m=l.MutationObserver||l.WebKitMutationObserver,v=l.document,y=l.process,b=l.Promise,E=c("queueMicrotask");if(!E){var C=new f,w=function(){var e,t;for(g&&(e=y.domain)&&e.exit();t=C.get();)try{t()}catch(e){throw C.head&&r(),e}e&&e.enter()};h||g||p||!m||!v?!A&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,a=u(s.then,s),r=function(){a(w)}):g?r=function(){y.nextTick(w)}:(d=u(d,l),r=function(){d(w)}):(i=!0,o=v.createTextNode(""),new m(w).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),E=function(e){C.head||r(),C.add(e)}}e.exports=E},36043:function(e,t,n){"use strict";var r=n(79306),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},32603:function(e,t,n){"use strict";var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},24149:function(e){"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},60511:function(e,t,n){"use strict";var r=n(60788),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},50360:function(e,t,n){"use strict";var r=n(44576).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},33904:function(e,t,n){"use strict";var r=n(44576),i=n(79039),o=n(79504),s=n(655),a=n(43802).trim,l=n(47452),c=o("".charAt),u=r.parseFloat,d=r.Symbol,f=d&&d.iterator,h=1/u(l+"-0")!=-1/0||f&&!i((function(){u(Object(f))}));e.exports=h?function(e){var t=a(s(e)),n=u(t);return 0===n&&"-"===c(t,0)?-0:n}:u},52703:function(e,t,n){"use strict";var r=n(44576),i=n(79039),o=n(79504),s=n(655),a=n(43802).trim,l=n(47452),c=r.parseInt,u=r.Symbol,d=u&&u.iterator,f=/^[+-]?0x/i,h=o(f.exec),A=8!==c(l+"08")||22!==c(l+"0x16")||d&&!i((function(){c(Object(d))}));e.exports=A?function(e,t){var n=a(s(e));return c(n,t>>>0||(h(f,n)?16:10))}:c},44213:function(e,t,n){"use strict";var r=n(43724),i=n(79504),o=n(69565),s=n(79039),a=n(71072),l=n(33717),c=n(48773),u=n(48981),d=n(47055),f=Object.assign,h=Object.defineProperty,A=i([].concat);e.exports=!f||s((function(){if(r&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||a(f({},t)).join("")!==i}))?function(e,t){for(var n=u(e),i=arguments.length,s=1,f=l.f,h=c.f;i>s;)for(var p,g=d(arguments[s++]),m=f?A(a(g),f(g)):a(g),v=m.length,y=0;v>y;)p=m[y++],r&&!o(h,g,p)||(n[p]=g[p]);return n}:f},2360:function(e,t,n){"use strict";var r,i=n(28551),o=n(96801),s=n(88727),a=n(30421),l=n(20397),c=n(4055),u=n(66119),d="prototype",f="script",h=u("IE_PROTO"),A=function(){},p=function(e){return"<"+f+">"+e+"</"+f+">"},g=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;m="undefined"!=typeof document?document.domain&&r?g(r):(t=c("iframe"),n="java"+f+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):g(r);for(var i=s.length;i--;)delete m[d][s[i]];return m()};a[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(A[d]=i(e),n=new A,A[d]=null,n[h]=e):n=m(),void 0===t?n:o.f(n,t)}},96801:function(e,t,n){"use strict";var r=n(43724),i=n(48686),o=n(24913),s=n(28551),a=n(25397),l=n(71072);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);for(var n,r=a(t),i=l(t),c=i.length,u=0;c>u;)o.f(e,n=i[u++],r[n]);return e}},24913:function(e,t,n){"use strict";var r=n(43724),i=n(35917),o=n(48686),s=n(28551),a=n(56969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=u(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},77347:function(e,t,n){"use strict";var r=n(43724),i=n(69565),o=n(48773),s=n(6980),a=n(25397),l=n(56969),c=n(39297),u=n(35917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return s(!i(o.f,e,t),e[t])}},10298:function(e,t,n){"use strict";var r=n(22195),i=n(25397),o=n(38480).f,s=n(67680),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"===r(e)?function(e){try{return o(e)}catch(e){return s(a)}}(e):o(i(e))}},38480:function(e,t,n){"use strict";var r=n(61828),i=n(88727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},33717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},42787:function(e,t,n){"use strict";var r=n(39297),i=n(94901),o=n(48981),s=n(66119),a=n(12211),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},34124:function(e,t,n){"use strict";var r=n(79039),i=n(20034),o=n(22195),s=n(15652),a=Object.isExtensible,l=r((function(){a(1)}));e.exports=l||s?function(e){return!!i(e)&&(!s||"ArrayBuffer"!==o(e))&&(!a||a(e))}:a},1625:function(e,t,n){"use strict";var r=n(79504);e.exports=r({}.isPrototypeOf)},61828:function(e,t,n){"use strict";var r=n(79504),i=n(39297),o=n(25397),s=n(19617).indexOf,a=n(30421),l=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&l(u,n);for(;t.length>c;)i(r,n=t[c++])&&(~s(u,n)||l(u,n));return u}},71072:function(e,t,n){"use strict";var r=n(61828),i=n(88727);e.exports=Object.keys||function(e){return r(e,i)}},48773:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},42551:function(e,t,n){"use strict";var r=n(96395),i=n(44576),o=n(79039),s=n(3607);e.exports=r||!o((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},52967:function(e,t,n){"use strict";var r=n(46706),i=n(20034),o=n(67750),s=n(73506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),s(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},32357:function(e,t,n){"use strict";var r=n(43724),i=n(79039),o=n(79504),s=n(42787),a=n(71072),l=n(25397),c=o(n(48773).f),u=o([].push),d=r&&i((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),f=function(e){return function(t){for(var n,i=l(t),o=a(i),f=d&&null===s(i),h=o.length,A=0,p=[];h>A;)n=o[A++],r&&!(f?n in i:c(i,n))||u(p,e?[n,i[n]]:i[n]);return p}};e.exports={entries:f(!0),values:f(!1)}},53179:function(e,t,n){"use strict";var r=n(92140),i=n(36955);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},84270:function(e,t,n){"use strict";var r=n(69565),i=n(94901),o=n(20034),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},35031:function(e,t,n){"use strict";var r=n(97751),i=n(79504),o=n(38480),s=n(33717),a=n(28551),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},19167:function(e,t,n){"use strict";var r=n(44576);e.exports=r},1103:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},10916:function(e,t,n){"use strict";var r=n(44576),i=n(80550),o=n(94901),s=n(92796),a=n(33706),l=n(78227),c=n(84215),u=n(96395),d=n(39519),f=i&&i.prototype,h=l("species"),A=!1,p=o(r.PromiseRejectionEvent),g=s("Promise",(function(){var e=a(i),t=e!==String(i);if(!t&&66===d)return!0;if(u&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(A=n.then((function(){}))instanceof r))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||p)}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:p,SUBCLASSING:A}},80550:function(e,t,n){"use strict";var r=n(44576);e.exports=r.Promise},93438:function(e,t,n){"use strict";var r=n(28551),i=n(20034),o=n(36043);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},90537:function(e,t,n){"use strict";var r=n(80550),i=n(84428),o=n(10916).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},11056:function(e,t,n){"use strict";var r=n(24913).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},18265:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},56682:function(e,t,n){"use strict";var r=n(69565),i=n(28551),o=n(94901),s=n(22195),a=n(57323),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===s(e))return r(a,e,t);throw new l("RegExp#exec called on incompatible receiver")}},57323:function(e,t,n){"use strict";var r,i,o=n(69565),s=n(79504),a=n(655),l=n(67979),c=n(58429),u=n(25745),d=n(2360),f=n(91181).get,h=n(83635),A=n(18814),p=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,v=s("".charAt),y=s("".indexOf),b=s("".replace),E=s("".slice),C=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),w=c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(C||S||w||h||A)&&(m=function(e){var t,n,r,i,s,c,u,h=this,A=f(h),T=a(e),k=A.raw;if(k)return k.lastIndex=h.lastIndex,t=o(m,k,T),h.lastIndex=k.lastIndex,t;var x=A.groups,L=w&&h.sticky,I=o(l,h),R=h.source,D=0,B=T;if(L&&(I=b(I,"y",""),-1===y(I,"g")&&(I+="g"),B=E(T,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==v(T,h.lastIndex-1))&&(R="(?: "+R+")",B=" "+B,D++),n=new RegExp("^(?:"+R+")",I)),S&&(n=new RegExp("^"+R+"$(?!\\s)",I)),C&&(r=h.lastIndex),i=o(g,L?n:h,B),L?i?(i.input=E(i.input,D),i[0]=E(i[0],D),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:C&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),S&&i&&i.length>1&&o(p,i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&x)for(i.groups=c=d(null),s=0;s<x.length;s++)c[(u=x[s])[0]]=i[u[1]];return i}),e.exports=m},67979:function(e,t,n){"use strict";var r=n(28551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},61034:function(e,t,n){"use strict";var r=n(69565),i=n(39297),o=n(1625),s=n(67979),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:r(s,e)}},58429:function(e,t,n){"use strict";var r=n(79039),i=n(44576).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=o||r((function(){return!i("a","y").sticky})),a=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},83635:function(e,t,n){"use strict";var r=n(79039),i=n(44576).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},18814:function(e,t,n){"use strict";var r=n(79039),i=n(44576).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},67750:function(e,t,n){"use strict";var r=n(64117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},93389:function(e,t,n){"use strict";var r=n(44576),i=n(43724),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=o(r,e);return t&&t.value}},3470:function(e){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},79472:function(e,t,n){"use strict";var r,i=n(44576),o=n(18745),s=n(94901),a=n(84215),l=n(82839),c=n(67680),u=n(22812),d=i.Function,f=/MSIE .\./.test(l)||"BUN"===a&&((r=i.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return f?function(r,i){var a=u(arguments.length,1)>n,l=s(r)?r:d(r),f=a?c(arguments,n):[],h=a?function(){o(l,this,f)}:l;return t?e(h,i):e(h)}:e}},89286:function(e,t,n){"use strict";var r=n(94402),i=n(38469),o=r.Set,s=r.add;e.exports=function(e){var t=new o;return i(e,(function(e){s(t,e)})),t}},83440:function(e,t,n){"use strict";var r=n(97080),i=n(94402),o=n(89286),s=n(25170),a=n(83789),l=n(38469),c=n(40507),u=i.has,d=i.remove;e.exports=function(e){var t=r(this),n=a(e),i=o(t);return s(t)<=n.size?l(t,(function(e){n.includes(e)&&d(i,e)})):c(n.getIterator(),(function(e){u(t,e)&&d(i,e)})),i}},94402:function(e,t,n){"use strict";var r=n(79504),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},68750:function(e,t,n){"use strict";var r=n(97080),i=n(94402),o=n(25170),s=n(83789),a=n(38469),l=n(40507),c=i.Set,u=i.add,d=i.has;e.exports=function(e){var t=r(this),n=s(e),i=new c;return o(t)>n.size?l(n.getIterator(),(function(e){d(t,e)&&u(i,e)})):a(t,(function(e){n.includes(e)&&u(i,e)})),i}},64449:function(e,t,n){"use strict";var r=n(97080),i=n(94402).has,o=n(25170),s=n(83789),a=n(38469),l=n(40507),c=n(9539);e.exports=function(e){var t=r(this),n=s(e);if(o(t)<=n.size)return!1!==a(t,(function(e){if(n.includes(e))return!1}),!0);var u=n.getIterator();return!1!==l(u,(function(e){if(i(t,e))return c(u,"normal",!1)}))}},53838:function(e,t,n){"use strict";var r=n(97080),i=n(25170),o=n(38469),s=n(83789);e.exports=function(e){var t=r(this),n=s(e);return!(i(t)>n.size)&&!1!==o(t,(function(e){if(!n.includes(e))return!1}),!0)}},28527:function(e,t,n){"use strict";var r=n(97080),i=n(94402).has,o=n(25170),s=n(83789),a=n(40507),l=n(9539);e.exports=function(e){var t=r(this),n=s(e);if(o(t)<n.size)return!1;var c=n.getIterator();return!1!==a(c,(function(e){if(!i(t,e))return l(c,"normal",!1)}))}},38469:function(e,t,n){"use strict";var r=n(79504),i=n(40507),o=n(94402),s=o.Set,a=o.proto,l=r(a.forEach),c=r(a.keys),u=c(new s).next;e.exports=function(e,t,n){return n?i({iterator:c(e),next:u},t):l(e,t)}},84916:function(e,t,n){"use strict";var r=n(97751),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},o=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var n=r("Set");try{(new n)[e](i(0));try{return(new n)[e](i(-1)),!1}catch(r){if(!t)return!0;try{return(new n)[e](o(-1/0)),!1}catch(r){var s=new n;return s.add(1),s.add(2),t(s[e](o(1/0)))}}}catch(e){return!1}}},25170:function(e,t,n){"use strict";var r=n(46706),i=n(94402);e.exports=r(i.proto,"size","get")||function(e){return e.size}},87633:function(e,t,n){"use strict";var r=n(97751),i=n(62106),o=n(78227),s=n(43724),a=o("species");e.exports=function(e){var t=r(e);s&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},83650:function(e,t,n){"use strict";var r=n(97080),i=n(94402),o=n(89286),s=n(83789),a=n(40507),l=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=r(this),n=s(e).getIterator(),i=o(t);return a(n,(function(e){c(t,e)?u(i,e):l(i,e)})),i}},10687:function(e,t,n){"use strict";var r=n(24913).f,i=n(39297),o=n(78227)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},44204:function(e,t,n){"use strict";var r=n(97080),i=n(94402).add,o=n(89286),s=n(83789),a=n(40507);e.exports=function(e){var t=r(this),n=s(e).getIterator(),l=o(t);return a(n,(function(e){i(l,e)})),l}},66119:function(e,t,n){"use strict";var r=n(25745),i=n(33392),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},77629:function(e,t,n){"use strict";var r=n(96395),i=n(44576),o=n(39433),s="__core-js_shared__",a=e.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.40.0",mode:r?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:function(e,t,n){"use strict";var r=n(77629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},2293:function(e,t,n){"use strict";var r=n(28551),i=n(35548),o=n(64117),s=n(78227)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||o(n=r(a)[s])?t:i(n)}},23061:function(e,t,n){"use strict";var r=n(79039);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},68183:function(e,t,n){"use strict";var r=n(79504),i=n(91291),o=n(655),s=n(67750),a=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(e){return function(t,n){var r,u,d=o(s(t)),f=i(n),h=d.length;return f<0||f>=h?e?"":void 0:(r=l(d,f))<55296||r>56319||f+1===h||(u=l(d,f+1))<56320||u>57343?e?a(d,f):r:e?c(d,f,f+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},83063:function(e,t,n){"use strict";var r=n(82839);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},60533:function(e,t,n){"use strict";var r=n(79504),i=n(18014),o=n(655),s=n(72333),a=n(67750),l=r(s),c=r("".slice),u=Math.ceil,d=function(e){return function(t,n,r){var s,d,f=o(a(t)),h=i(n),A=f.length,p=void 0===r?" ":o(r);return h<=A||""===p?f:((d=l(p,u((s=h-A)/p.length))).length>s&&(d=c(d,0,s)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},3717:function(e,t,n){"use strict";var r=n(79504),i=2147483647,o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",l=RangeError,c=r(s.exec),u=Math.floor,d=String.fromCharCode,f=r("".charCodeAt),h=r([].join),A=r([].push),p=r("".replace),g=r("".split),m=r("".toLowerCase),v=function(e){return e+22+75*(e<26)},y=function(e,t,n){var r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<r){var o=f(e,n++);56320==(64512&o)?A(t,((1023&i)<<10)+(1023&o)+65536):(A(t,i),n--)}else A(t,i)}return t}(e);var n,r,o=e.length,s=128,c=0,p=72;for(n=0;n<e.length;n++)(r=e[n])<128&&A(t,d(r));var g=t.length,m=g;for(g&&A(t,"-");m<o;){var b=i;for(n=0;n<e.length;n++)(r=e[n])>=s&&r<b&&(b=r);var E=m+1;if(b-s>u((i-c)/E))throw new l(a);for(c+=(b-s)*E,s=b,n=0;n<e.length;n++){if((r=e[n])<s&&++c>i)throw new l(a);if(r===s){for(var C=c,w=36;;){var S=w<=p?1:w>=p+26?26:w-p;if(C<S)break;var T=C-S,k=36-S;A(t,d(v(S+T%k))),C=u(T/k),w+=36}A(t,d(v(C))),p=y(c,E,m===g),c=0,m++}}c++,s++}return h(t,"")};e.exports=function(e){var t,n,r=[],i=g(p(m(e),s,"."),".");for(t=0;t<i.length;t++)n=i[t],A(r,c(o,n)?"xn--"+b(n):n);return h(r,".")}},72333:function(e,t,n){"use strict";var r=n(91291),i=n(655),o=n(67750),s=RangeError;e.exports=function(e){var t=i(o(this)),n="",a=r(e);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},18866:function(e,t,n){"use strict";var r=n(43802).end,i=n(60706);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},60706:function(e,t,n){"use strict";var r=n(10350).PROPER,i=n(79039),o=n(47452);e.exports=function(e){return i((function(){return!!o[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&o[e].name!==e}))}},53487:function(e,t,n){"use strict";var r=n(43802).start,i=n(60706);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},43802:function(e,t,n){"use strict";var r=n(79504),i=n(67750),o=n(655),s=n(47452),a=r("".replace),l=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,l,"")),2&e&&(n=a(n,c,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},1548:function(e,t,n){"use strict";var r=n(44576),i=n(79039),o=n(39519),s=n(84215),a=r.structuredClone;e.exports=!!a&&!i((function(){if("DENO"===s&&o>92||"NODE"===s&&o>94||"BROWSER"===s&&o>97)return!1;var e=new ArrayBuffer(8),t=a(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,n){"use strict";var r=n(39519),i=n(79039),o=n(44576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},58242:function(e,t,n){"use strict";var r=n(69565),i=n(97751),o=n(78227),s=n(36840);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},91296:function(e,t,n){"use strict";var r=n(4495);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},59225:function(e,t,n){"use strict";var r,i,o,s,a=n(44576),l=n(18745),c=n(76080),u=n(94901),d=n(39297),f=n(79039),h=n(20397),A=n(67680),p=n(4055),g=n(22812),m=n(89544),v=n(38574),y=a.setImmediate,b=a.clearImmediate,E=a.process,C=a.Dispatch,w=a.Function,S=a.MessageChannel,T=a.String,k=0,x={},L="onreadystatechange";f((function(){r=a.location}));var I=function(e){if(d(x,e)){var t=x[e];delete x[e],t()}},R=function(e){return function(){I(e)}},D=function(e){I(e.data)},B=function(e){a.postMessage(T(e),r.protocol+"//"+r.host)};y&&b||(y=function(e){g(arguments.length,1);var t=u(e)?e:w(e),n=A(arguments,1);return x[++k]=function(){l(t,void 0,n)},i(k),k},b=function(e){delete x[e]},v?i=function(e){E.nextTick(R(e))}:C&&C.now?i=function(e){C.now(R(e))}:S&&!m?(s=(o=new S).port2,o.port1.onmessage=D,i=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(B)?(i=B,a.addEventListener("message",D,!1)):i=L in p("script")?function(e){h.appendChild(p("script"))[L]=function(){h.removeChild(this),I(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:y,clear:b}},31240:function(e,t,n){"use strict";var r=n(79504);e.exports=r(1..valueOf)},35610:function(e,t,n){"use strict";var r=n(91291),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},75854:function(e,t,n){"use strict";var r=n(72777),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},57696:function(e,t,n){"use strict";var r=n(91291),i=n(18014),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new o("Wrong length or index");return n}},25397:function(e,t,n){"use strict";var r=n(47055),i=n(67750);e.exports=function(e){return r(i(e))}},91291:function(e,t,n){"use strict";var r=n(80741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},18014:function(e,t,n){"use strict";var r=n(91291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},48981:function(e,t,n){"use strict";var r=n(67750),i=Object;e.exports=function(e){return i(r(e))}},58229:function(e,t,n){"use strict";var r=n(99590),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},99590:function(e,t,n){"use strict";var r=n(91291),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},72777:function(e,t,n){"use strict";var r=n(69565),i=n(20034),o=n(10757),s=n(55966),a=n(84270),l=n(78227),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},56969:function(e,t,n){"use strict";var r=n(72777),i=n(10757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},92140:function(e,t,n){"use strict";var r={};r[n(78227)("toStringTag")]="z",e.exports="[object z]"===String(r)},655:function(e,t,n){"use strict";var r=n(36955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},58319:function(e){"use strict";var t=Math.round;e.exports=function(e){var n=t(e);return n<0?0:n>255?255:255&n}},16823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},15823:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(69565),s=n(43724),a=n(72805),l=n(94644),c=n(66346),u=n(90679),d=n(6980),f=n(66699),h=n(2087),A=n(18014),p=n(57696),g=n(58229),m=n(58319),v=n(56969),y=n(39297),b=n(36955),E=n(20034),C=n(10757),w=n(2360),S=n(1625),T=n(52967),k=n(38480).f,x=n(43251),L=n(59213).forEach,I=n(87633),R=n(62106),D=n(24913),B=n(77347),P=n(35370),O=n(91181),M=n(23167),_=O.get,F=O.set,N=O.enforce,U=D.f,Q=B.f,G=i.RangeError,j=c.ArrayBuffer,W=j.prototype,z=c.DataView,H=l.NATIVE_ARRAY_BUFFER_VIEWS,Y=l.TYPED_ARRAY_TAG,V=l.TypedArray,K=l.TypedArrayPrototype,q=l.isTypedArray,X="BYTES_PER_ELEMENT",Z="Wrong length",J=function(e,t){R(e,t,{configurable:!0,get:function(){return _(this)[t]}})},$=function(e){var t;return S(W,e)||"ArrayBuffer"===(t=b(e))||"SharedArrayBuffer"===t},ee=function(e,t){return q(e)&&!C(t)&&t in e&&h(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?d(2,e[t]):Q(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&E(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};s?(H||(B.f=te,D.f=ne,J(K,"buffer"),J(K,"byteOffset"),J(K,"byteLength"),J(K,"length")),r({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var s=e.match(/\d+/)[0]/8,l=e+(n?"Clamped":"")+"Array",c="get"+e,d="set"+e,h=i[l],v=h,y=v&&v.prototype,b={},C=function(e,t){U(e,t,{get:function(){return function(e,t){var n=_(e);return n.view[c](t*s+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=_(e);i.view[d](t*s+i.byteOffset,n?m(r):r,!0)}(this,t,e)},enumerable:!0})};H?a&&(v=t((function(e,t,n,r){return u(e,y),M(E(t)?$(t)?void 0!==r?new h(t,g(n,s),r):void 0!==n?new h(t,g(n,s)):new h(t):q(t)?P(v,t):o(x,v,t):new h(p(t)),e,v)})),T&&T(v,V),L(k(h),(function(e){e in v||f(v,e,h[e])})),v.prototype=y):(v=t((function(e,t,n,r){u(e,y);var i,a,l,c=0,d=0;if(E(t)){if(!$(t))return q(t)?P(v,t):o(x,v,t);i=t,d=g(n,s);var f=t.byteLength;if(void 0===r){if(f%s)throw new G(Z);if((a=f-d)<0)throw new G(Z)}else if((a=A(r)*s)+d>f)throw new G(Z);l=a/s}else l=p(t),i=new j(a=l*s);for(F(e,{buffer:i,byteOffset:d,byteLength:a,length:l,view:new z(i)});c<l;)C(e,c++)})),T&&T(v,V),y=v.prototype=w(K)),y.constructor!==v&&f(y,"constructor",v),N(y).TypedArrayConstructor=v,Y&&f(y,Y,l);var S=v!==h;b[l]=v,r({global:!0,constructor:!0,forced:S,sham:!H},b),X in v||f(v,X,s),X in y||f(y,X,s),I(l)}):e.exports=function(){}},72805:function(e,t,n){"use strict";var r=n(44576),i=n(79039),o=n(84428),s=n(94644).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,l=r.Int8Array;e.exports=!s||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new a(2),1,void 0).length}))},29948:function(e,t,n){"use strict";var r=n(35370),i=n(94644).getTypedArrayConstructor;e.exports=function(e,t){return r(i(e),t)}},43251:function(e,t,n){"use strict";var r=n(76080),i=n(69565),o=n(35548),s=n(48981),a=n(26198),l=n(70081),c=n(50851),u=n(44209),d=n(18727),f=n(94644).aTypedArrayConstructor,h=n(75854);e.exports=function(e){var t,n,A,p,g,m,v,y,b=o(this),E=s(e),C=arguments.length,w=C>1?arguments[1]:void 0,S=void 0!==w,T=c(E);if(T&&!u(T))for(y=(v=l(E,T)).next,E=[];!(m=i(y,v)).done;)E.push(m.value);for(S&&C>2&&(w=r(w,arguments[2])),n=a(E),A=new(f(b))(n),p=d(A),t=0;n>t;t++)g=S?w(E[t],t):E[t],A[t]=p?h(g):+g;return A}},33392:function(e,t,n){"use strict";var r=n(79504),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},67416:function(e,t,n){"use strict";var r=n(79039),i=n(78227),o=n(43724),s=n(96395),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),s&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(s||!o)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("https://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}))},7040:function(e,t,n){"use strict";var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:function(e,t,n){"use strict";var r=n(43724),i=n(79039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},22812:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},58622:function(e,t,n){"use strict";var r=n(44576),i=n(94901),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},70511:function(e,t,n){"use strict";var r=n(19167),i=n(39297),o=n(1951),s=n(24913).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},1951:function(e,t,n){"use strict";var r=n(78227);t.f=r},78227:function(e,t,n){"use strict";var r=n(44576),i=n(25745),o=n(39297),s=n(33392),a=n(4495),l=n(7040),c=r.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:d("Symbol."+e)),u[e]}},47452:function(e){"use strict";e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},14601:function(e,t,n){"use strict";var r=n(97751),i=n(39297),o=n(66699),s=n(1625),a=n(52967),l=n(77740),c=n(11056),u=n(23167),d=n(32603),f=n(77584),h=n(80747),A=n(43724),p=n(96395);e.exports=function(e,t,n,g){var m="stackTraceLimit",v=g?2:1,y=e.split("."),b=y[y.length-1],E=r.apply(null,y);if(E){var C=E.prototype;if(!p&&i(C,"cause")&&delete C.cause,!n)return E;var w=r("Error"),S=t((function(e,t){var n=d(g?t:e,void 0),r=g?new E(e):new E;return void 0!==n&&o(r,"message",n),h(r,S,r.stack,2),this&&s(C,this)&&u(r,this,S),arguments.length>v&&f(r,arguments[v]),r}));if(S.prototype=C,"Error"!==b?a?a(S,w):l(S,w,{name:!0}):A&&m in E&&(c(S,E,m),c(S,E,"prepareStackTrace")),l(S,E),!p)try{C.name!==b&&o(C,"name",b),C.constructor=S}catch(e){}return S}}},4294:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(18745),s=n(79039),a=n(14601),l="AggregateError",c=i(l),u=!s((function(){return 1!==c([1]).errors[0]}))&&s((function(){return 7!==c([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:a(l,(function(e){return function(t,n){return o(e,this,arguments)}}),u,!0)})},17145:function(e,t,n){"use strict";var r=n(46518),i=n(1625),o=n(42787),s=n(52967),a=n(77740),l=n(2360),c=n(66699),u=n(6980),d=n(77584),f=n(80747),h=n(72652),A=n(32603),p=n(78227)("toStringTag"),g=Error,m=[].push,v=function(e,t){var n,r=i(y,this);s?n=s(new g,r?o(this):y):(n=r?this:l(y),c(n,p,"Error")),void 0!==t&&c(n,"message",A(t)),f(n,v,n.stack,1),arguments.length>2&&d(n,arguments[2]);var a=[];return h(e,m,{that:a}),c(n,"errors",a),n};s?s(v,g):a(v,g,{name:!0});var y=v.prototype=l(g.prototype,{constructor:u(1,v),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:v})},30067:function(e,t,n){"use strict";n(17145)},54743:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(66346),s=n(87633),a="ArrayBuffer",l=o[a];r({global:!0,constructor:!0,forced:i[a]!==l},{ArrayBuffer:l}),s(a)},16573:function(e,t,n){"use strict";var r=n(43724),i=n(62106),o=n(3238),s=ArrayBuffer.prototype;r&&!("detached"in s)&&i(s,"detached",{configurable:!0,get:function(){return o(this)}})},46761:function(e,t,n){"use strict";var r=n(46518),i=n(94644);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},11745:function(e,t,n){"use strict";var r=n(46518),i=n(27476),o=n(79039),s=n(66346),a=n(28551),l=n(35610),c=n(18014),u=s.ArrayBuffer,d=s.DataView,f=d.prototype,h=i(u.prototype.slice),A=i(f.getUint8),p=i(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(a(this),e);for(var n=a(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),o=new u(c(i-r)),s=new d(this),f=new d(o),g=0;r<i;)p(f,g++,A(s,r++));return o}})},77936:function(e,t,n){"use strict";var r=n(46518),i=n(95636);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},78100:function(e,t,n){"use strict";var r=n(46518),i=n(95636);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},18107:function(e,t,n){"use strict";var r=n(46518),i=n(48981),o=n(26198),s=n(91291),a=n(6469);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=o(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}}),a("at")},28706:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(34376),s=n(20034),a=n(48981),l=n(26198),c=n(96837),u=n(97040),d=n(1469),f=n(70597),h=n(78227),A=n(39519),p=h("isConcatSpreadable"),g=A>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),m=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!f("concat")},{concat:function(e){var t,n,r,i,o,s=a(this),f=d(s,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(m(o=-1===t?s:arguments[t]))for(i=l(o),c(h+i),n=0;n<i;n++,h++)n in o&&u(f,h,o[n]);else c(h+1),u(f,h++,o);return f.length=h,f}})},26835:function(e,t,n){"use strict";var r=n(46518),i=n(57029),o=n(6469);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},88431:function(e,t,n){"use strict";var r=n(46518),i=n(59213).every;r({target:"Array",proto:!0,forced:!n(34598)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},33771:function(e,t,n){"use strict";var r=n(46518),i=n(84373),o=n(6469);r({target:"Array",proto:!0},{fill:i}),o("fill")},2008:function(e,t,n){"use strict";var r=n(46518),i=n(59213).filter;r({target:"Array",proto:!0,forced:!n(70597)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},48980:function(e,t,n){"use strict";var r=n(46518),i=n(59213).findIndex,o=n(6469),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},13451:function(e,t,n){"use strict";var r=n(46518),i=n(43839).findLastIndex,o=n(6469);r({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},10838:function(e,t,n){"use strict";var r=n(46518),i=n(43839).findLast,o=n(6469);r({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLast")},50113:function(e,t,n){"use strict";var r=n(46518),i=n(59213).find,o=n(6469),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},78350:function(e,t,n){"use strict";var r=n(46518),i=n(70259),o=n(79306),s=n(48981),a=n(26198),l=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=s(this),r=a(n);return o(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},46449:function(e,t,n){"use strict";var r=n(46518),i=n(70259),o=n(48981),s=n(26198),a=n(91291),l=n(1469);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=s(t),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:a(e)),r}})},51629:function(e,t,n){"use strict";var r=n(46518),i=n(90235);r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},23418:function(e,t,n){"use strict";var r=n(46518),i=n(97916);r({target:"Array",stat:!0,forced:!n(84428)((function(e){Array.from(e)}))},{from:i})},74423:function(e,t,n){"use strict";var r=n(46518),i=n(19617).includes,o=n(79039),s=n(6469);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},25276:function(e,t,n){"use strict";var r=n(46518),i=n(27476),o=n(19617).indexOf,s=n(34598),a=i([].indexOf),l=!!a&&1/a([1],1,-0)<0;r({target:"Array",proto:!0,forced:l||!s("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?a(this,e,t)||0:o(this,e,t)}})},64346:function(e,t,n){"use strict";n(46518)({target:"Array",stat:!0},{isArray:n(34376)})},23792:function(e,t,n){"use strict";var r=n(25397),i=n(6469),o=n(26269),s=n(91181),a=n(24913).f,l=n(51088),c=n(62529),u=n(96395),d=n(43724),f="Array Iterator",h=s.set,A=s.getterFor(f);e.exports=l(Array,"Array",(function(e,t){h(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=A(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,c(void 0,!0);switch(e.kind){case"keys":return c(n,!1);case"values":return c(t[n],!1)}return c([n,t[n]],!1)}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(e){}},48598:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(47055),s=n(25397),a=n(34598),l=i([].join);r({target:"Array",proto:!0,forced:o!==Object||!a("join",",")},{join:function(e){return l(s(this),void 0===e?",":e)}})},8921:function(e,t,n){"use strict";var r=n(46518),i=n(8379);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},62062:function(e,t,n){"use strict";var r=n(46518),i=n(59213).map;r({target:"Array",proto:!0,forced:!n(70597)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},31051:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(33517),s=n(97040),a=Array;r({target:"Array",stat:!0,forced:i((function(){function e(){}return!(a.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new(o(this)?this:a)(t);t>e;)s(n,e,arguments[e++]);return n.length=t,n}})},44114:function(e,t,n){"use strict";var r=n(46518),i=n(48981),o=n(26198),s=n(34527),a=n(96837);r({target:"Array",proto:!0,arity:1,forced:n(79039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return s(t,n),n}})},18863:function(e,t,n){"use strict";var r=n(46518),i=n(80926).right,o=n(34598),s=n(39519);r({target:"Array",proto:!0,forced:!n(38574)&&s>79&&s<83||!o("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},72712:function(e,t,n){"use strict";var r=n(46518),i=n(80926).left,o=n(34598),s=n(39519);r({target:"Array",proto:!0,forced:!n(38574)&&s>79&&s<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},94490:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(34376),s=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},34782:function(e,t,n){"use strict";var r=n(46518),i=n(34376),o=n(33517),s=n(20034),a=n(35610),l=n(26198),c=n(25397),u=n(97040),d=n(78227),f=n(70597),h=n(67680),A=f("slice"),p=d("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!A},{slice:function(e,t){var n,r,d,f=c(this),A=l(f),v=a(e,A),y=a(void 0===t?A:t,A);if(i(f)&&(n=f.constructor,(o(n)&&(n===g||i(n.prototype))||s(n)&&null===(n=n[p]))&&(n=void 0),n===g||void 0===n))return h(f,v,y);for(r=new(void 0===n?g:n)(m(y-v,0)),d=0;v<y;v++,d++)v in f&&u(r,d,f[v]);return r.length=d,r}})},15086:function(e,t,n){"use strict";var r=n(46518),i=n(59213).some;r({target:"Array",proto:!0,forced:!n(34598)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},26910:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(79306),s=n(48981),a=n(26198),l=n(84606),c=n(655),u=n(79039),d=n(74488),f=n(34598),h=n(13709),A=n(13763),p=n(39519),g=n(3607),m=[],v=i(m.sort),y=i(m.push),b=u((function(){m.sort(void 0)})),E=u((function(){m.sort(null)})),C=f("sort"),w=!u((function(){if(p)return p<70;if(!(h&&h>3)){if(A)return!0;if(g)return g<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:t+r,v:n})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!E||!C||!w},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(w)return void 0===e?v(t):v(t,e);var n,r,i=[],u=a(t);for(r=0;r<u;r++)r in t&&y(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=a(i),r=0;r<n;)t[r]=i[r++];for(;r<u;)l(t,r++);return t}})},87478:function(e,t,n){"use strict";n(87633)("Array")},54554:function(e,t,n){"use strict";var r=n(46518),i=n(48981),o=n(35610),s=n(91291),a=n(26198),l=n(34527),c=n(96837),u=n(1469),d=n(97040),f=n(84606),h=n(70597)("splice"),A=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,h,g,m,v,y=i(this),b=a(y),E=o(e,b),C=arguments.length;for(0===C?n=r=0:1===C?(n=0,r=b-E):(n=C-2,r=p(A(s(t),0),b-E)),c(b+n-r),h=u(y,r),g=0;g<r;g++)(m=E+g)in y&&d(h,g,y[m]);if(h.length=r,n<r){for(g=E;g<b-r;g++)v=g+n,(m=g+r)in y?y[v]=y[m]:f(y,v);for(g=b;g>b-r+n;g--)f(y,g-1)}else if(n>r)for(g=b-r;g>E;g--)v=g+n-1,(m=g+r-1)in y?y[v]=y[m]:f(y,v);for(g=0;g<n;g++)y[g+E]=arguments[g+2];return l(y,b-r+n),h}})},9678:function(e,t,n){"use strict";var r=n(46518),i=n(37628),o=n(25397),s=n(6469),a=Array;r({target:"Array",proto:!0},{toReversed:function(){return i(o(this),a)}}),s("toReversed")},57145:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(79306),s=n(25397),a=n(35370),l=n(44124),c=n(6469),u=Array,d=i(l("Array","sort"));r({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&o(e);var t=s(this),n=a(u,t);return d(n,e)}}),c("toSorted")},71658:function(e,t,n){"use strict";var r=n(46518),i=n(6469),o=n(96837),s=n(26198),a=n(35610),l=n(25397),c=n(91291),u=Array,d=Math.max,f=Math.min;r({target:"Array",proto:!0},{toSpliced:function(e,t){var n,r,i,h,A=l(this),p=s(A),g=a(e,p),m=arguments.length,v=0;for(0===m?n=r=0:1===m?(n=0,r=p-g):(n=m-2,r=f(d(c(t),0),p-g)),i=o(p+n-r),h=u(i);v<g;v++)h[v]=A[v];for(;v<g+n;v++)h[v]=arguments[v-g+2];for(;v<i;v++)h[v]=A[v+r-n];return h}}),i("toSpliced")},30237:function(e,t,n){"use strict";n(6469)("flatMap")},93514:function(e,t,n){"use strict";n(6469)("flat")},13609:function(e,t,n){"use strict";var r=n(46518),i=n(48981),o=n(26198),s=n(34527),a=n(84606),l=n(96837);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){l(n+r);for(var c=n;c--;){var u=c+r;c in t?t[u]=t[c]:a(t,u)}for(var d=0;d<r;d++)t[d]=arguments[d]}return s(t,n+r)}})},11558:function(e,t,n){"use strict";var r=n(46518),i=n(39928),o=n(25397),s=Array;r({target:"Array",proto:!0},{with:function(e,t){return i(o(this),s,e,t)}})},24359:function(e,t,n){"use strict";var r=n(46518),i=n(66346);r({global:!0,constructor:!0,forced:!n(77811)},{DataView:i.DataView})},38309:function(e,t,n){"use strict";n(24359)},61699:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(79039)((function(){return 120!==new Date(16e11).getYear()})),s=i(Date.prototype.getFullYear);r({target:"Date",proto:!0,forced:o},{getYear:function(){return s(this)-1900}})},59089:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=Date,s=i(o.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return s(new o)}})},91191:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(91291),s=Date.prototype,a=i(s.getTime),l=i(s.setFullYear);r({target:"Date",proto:!0},{setYear:function(e){a(this);var t=o(e);return l(this,t>=0&&t<=99?t+1900:t)}})},93515:function(e,t,n){"use strict";n(46518)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},1688:function(e,t,n){"use strict";var r=n(46518),i=n(70380);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},60739:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(48981),s=n(72777);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=o(this),n=s(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},89572:function(e,t,n){"use strict";var r=n(39297),i=n(36840),o=n(53640),s=n(78227)("toPrimitive"),a=Date.prototype;r(a,s)||i(a,s,o)},23288:function(e,t,n){"use strict";var r=n(79504),i=n(36840),o=Date.prototype,s="Invalid Date",a="toString",l=r(o[a]),c=r(o.getTime);String(new Date(NaN))!==s&&i(o,a,(function(){var e=c(this);return e==e?l(this):s}))},16280:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(18745),s=n(14601),a="WebAssembly",l=i[a],c=7!==new Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=s(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=s(a+"."+e,t,c),r({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},76918:function(e,t,n){"use strict";var r=n(36840),i=n(77536),o=Error.prototype;o.toString!==i&&r(o,"toString",i)},36456:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(655),s=i("".charAt),a=i("".charCodeAt),l=i(/./.exec),c=i(1..toString),u=i("".toUpperCase),d=/[\w*+\-./@]/,f=function(e,t){for(var n=c(e,16);n.length<t;)n="0"+n;return n};r({global:!0},{escape:function(e){for(var t,n,r=o(e),i="",c=r.length,h=0;h<c;)t=s(r,h++),l(d,t)?i+=t:i+=(n=a(t,0))<256?"%"+f(n,2):"%u"+u(f(n,4));return i}})},94170:function(e,t,n){"use strict";var r=n(46518),i=n(30566);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},48957:function(e,t,n){"use strict";var r=n(94901),i=n(20034),o=n(24913),s=n(1625),a=n(78227),l=n(50283),c=a("hasInstance"),u=Function.prototype;c in u||o.f(u,c,{value:l((function(e){if(!r(this)||!i(e))return!1;var t=this.prototype;return i(t)?s(t,e):e instanceof this}),c)})},62010:function(e,t,n){"use strict";var r=n(43724),i=n(10350).EXISTS,o=n(79504),s=n(62106),a=Function.prototype,l=o(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(c.exec);r&&!i&&s(a,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},55081:function(e,t,n){"use strict";var r=n(46518),i=n(44576);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},18111:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(90679),s=n(28551),a=n(94901),l=n(42787),c=n(62106),u=n(97040),d=n(79039),f=n(39297),h=n(78227),A=n(57657).IteratorPrototype,p=n(43724),g=n(96395),m="constructor",v="Iterator",y=h("toStringTag"),b=TypeError,E=i[v],C=g||!a(E)||E.prototype!==A||!d((function(){E({})})),w=function(){if(o(this,A),l(this)===A)throw new b("Abstract class Iterator not directly constructable")},S=function(e,t){p?c(A,e,{configurable:!0,get:function(){return t},set:function(t){if(s(this),this===A)throw new b("You can't redefine this property");f(this,e)?this[e]=t:u(this,e,t)}}):A[e]=t};f(A,y)||S(y,v),!C&&f(A,m)&&A[m]!==Object||S(m,w),w.prototype=A,r({global:!0,constructor:!0,forced:C},{Iterator:w})},29314:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(28551),s=n(1767),a=n(24149),l=n(99590),c=n(19462),u=n(96395),d=c((function(){for(var e,t=this.iterator,n=this.next;this.remaining;)if(this.remaining--,e=o(i(n,t)),this.done=!!e.done)return;if(e=o(i(n,t)),!(this.done=!!e.done))return e.value}));r({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){o(this);var t=l(a(+e));return new d(s(this),{remaining:t})}})},81148:function(e,t,n){"use strict";var r=n(46518),i=n(72652),o=n(79306),s=n(28551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{every:function(e){s(this),o(e);var t=a(this),n=0;return!i(t,(function(t,r){if(!e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},22489:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79306),s=n(28551),a=n(1767),l=n(19462),c=n(96319),u=n(96395),d=l((function(){for(var e,t,n=this.iterator,r=this.predicate,o=this.next;;){if(e=s(i(o,n)),this.done=!!e.done)return;if(t=e.value,c(n,r,[t,this.counter++],!0))return t}}));r({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return s(this),o(e),new d(a(this),{predicate:e})}})},20116:function(e,t,n){"use strict";var r=n(46518),i=n(72652),o=n(79306),s=n(28551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{find:function(e){s(this),o(e);var t=a(this),n=0;return i(t,(function(t,r){if(e(t,n++))return r(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},30531:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79306),s=n(28551),a=n(1767),l=n(48646),c=n(19462),u=n(9539),d=n(96395),f=c((function(){for(var e,t,n=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=s(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(n,"throw",e)}if(e=s(i(this.next,n)),this.done=!!e.done)return;try{this.inner=l(r(e.value,this.counter++),!1)}catch(e){u(n,"throw",e)}}}));r({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return s(this),o(e),new f(a(this),{mapper:e,inner:null})}})},7588:function(e,t,n){"use strict";var r=n(46518),i=n(72652),o=n(79306),s=n(28551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{forEach:function(e){s(this),o(e);var t=a(this),n=0;i(t,(function(t){e(t,n++)}),{IS_RECORD:!0})}})},49603:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(48981),s=n(1625),a=n(57657).IteratorPrototype,l=n(19462),c=n(48646),u=n(96395),d=l((function(){return i(this.next,this.iterator)}),!0);r({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=c("string"==typeof e?o(e):e,!0);return s(a,t.iterator)?t.iterator:new d(t)}})},61701:function(e,t,n){"use strict";var r=n(46518),i=n(20713);r({target:"Iterator",proto:!0,real:!0,forced:n(96395)},{map:i})},18237:function(e,t,n){"use strict";var r=n(46518),i=n(72652),o=n(79306),s=n(28551),a=n(1767),l=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(e){s(this),o(e);var t=a(this),n=arguments.length<2,r=n?void 0:arguments[1],c=0;if(i(t,(function(t){n?(n=!1,r=t):r=e(r,t,c),c++}),{IS_RECORD:!0}),n)throw new l("Reduce of empty iterator with no initial value");return r}})},13579:function(e,t,n){"use strict";var r=n(46518),i=n(72652),o=n(79306),s=n(28551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{some:function(e){s(this),o(e);var t=a(this),n=0;return i(t,(function(t,r){if(e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},54972:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(28551),s=n(1767),a=n(24149),l=n(99590),c=n(19462),u=n(9539),d=n(96395),f=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=o(i(this.next,e));return(this.done=!!t.done)?void 0:t.value}));r({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){o(this);var t=l(a(+e));return new f(s(this),{remaining:t})}})},61806:function(e,t,n){"use strict";var r=n(46518),i=n(28551),o=n(72652),s=n(1767),a=[].push;r({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return o(s(i(this)),a,{that:e,IS_RECORD:!0}),e}})},33110:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(18745),s=n(69565),a=n(79504),l=n(79039),c=n(94901),u=n(10757),d=n(67680),f=n(66933),h=n(4495),A=String,p=i("JSON","stringify"),g=a(/./.exec),m=a("".charAt),v=a("".charCodeAt),y=a("".replace),b=a(1..toString),E=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,S=!h||l((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),T=l((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),k=function(e,t){var n=d(arguments),r=f(t);if(c(r)||void 0!==e&&!u(e))return n[1]=function(e,t){if(c(r)&&(t=s(r,this,A(e),t)),!u(t))return t},o(p,null,n)},x=function(e,t,n){var r=m(n,t-1),i=m(n,t+1);return g(C,e)&&!g(w,i)||g(w,e)&&!g(C,r)?"\\u"+b(v(e,0),16):e};p&&r({target:"JSON",stat:!0,arity:3,forced:S||T},{stringify:function(e,t,n){var r=d(arguments),i=o(S?k:p,null,r);return T&&"string"==typeof i?y(i,E,x):i}})},4731:function(e,t,n){"use strict";var r=n(44576);n(10687)(r.JSON,"JSON",!0)},48523:function(e,t,n){"use strict";n(16468)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(86938))},47072:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(79306),s=n(67750),a=n(72652),l=n(72248),c=n(96395),u=n(79039),d=l.Map,f=l.has,h=l.get,A=l.set,p=i([].push),g=c||u((function(){return 1!==d.groupBy("ab",(function(e){return e})).get("a").length}));r({target:"Map",stat:!0,forced:c||g},{groupBy:function(e,t){s(e),o(t);var n=new d,r=0;return a(e,(function(e){var i=t(e,r++);f(n,i)?p(h(n,i),e):A(n,i,[e])})),n}})},36033:function(e,t,n){"use strict";n(48523)},93153:function(e,t,n){"use strict";var r=n(46518),i=n(7740),o=Math.acosh,s=Math.log,a=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!==Math.floor(o(Number.MAX_VALUE))||o(1/0)!==1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?s(t)+l:i(t-1+a(t-1)*a(t+1))}})},82326:function(e,t,n){"use strict";var r=n(46518),i=Math.asinh,o=Math.log,s=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var n=+t;return isFinite(n)&&0!==n?n<0?-e(-n):o(n+s(n*n+1)):n}})},36389:function(e,t,n){"use strict";var r=n(46518),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0===t?t:o((1+t)/(1-t))/2}})},64444:function(e,t,n){"use strict";var r=n(46518),i=n(77782),o=Math.abs,s=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*s(o(t),1/3)}})},8085:function(e,t,n){"use strict";var r=n(46518),i=Math.floor,o=Math.log,s=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(o(t+.5)*s):32}})},77762:function(e,t,n){"use strict";var r=n(46518),i=n(53250),o=Math.cosh,s=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(e){var t=i(s(e)-1)+1;return(t+1/(t*a*a))*(a/2)}})},65070:function(e,t,n){"use strict";var r=n(46518),i=n(53250);r({target:"Math",stat:!0,forced:i!==Math.expm1},{expm1:i})},60605:function(e,t,n){"use strict";n(46518)({target:"Math",stat:!0},{fround:n(15617)})},39469:function(e,t,n){"use strict";var r=n(46518),i=Math.hypot,o=Math.abs,s=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,a=0,l=arguments.length,c=0;a<l;)c<(n=o(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*s(i)}})},72152:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!==o(4294967295,5)||2!==o.length}))},{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},75376:function(e,t,n){"use strict";n(46518)({target:"Math",stat:!0},{log10:n(49340)})},56624:function(e,t,n){"use strict";n(46518)({target:"Math",stat:!0},{log1p:n(7740)})},11367:function(e,t,n){"use strict";n(46518)({target:"Math",stat:!0},{log2:n(67787)})},5914:function(e,t,n){"use strict";n(46518)({target:"Math",stat:!0},{sign:n(77782)})},78553:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(53250),s=Math.abs,a=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!==Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return s(t)<1?(o(t)-o(-t))/2:(a(t-1)-a(-t-1))*(l/2)}})},98690:function(e,t,n){"use strict";var r=n(46518),i=n(53250),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=+e,n=i(t),r=i(-t);return n===1/0?1:r===1/0?-1:(n-r)/(o(t)+o(-t))}})},60479:function(e,t,n){"use strict";n(10687)(Math,"Math",!0)},70761:function(e,t,n){"use strict";n(46518)({target:"Math",stat:!0},{trunc:n(80741)})},2892:function(e,t,n){"use strict";var r=n(46518),i=n(96395),o=n(43724),s=n(44576),a=n(19167),l=n(79504),c=n(92796),u=n(39297),d=n(23167),f=n(1625),h=n(10757),A=n(72777),p=n(79039),g=n(38480).f,m=n(77347).f,v=n(24913).f,y=n(31240),b=n(43802).trim,E="Number",C=s[E],w=a[E],S=C.prototype,T=s.TypeError,k=l("".slice),x=l("".charCodeAt),L=c(E,!C(" 0o1")||!C("0b1")||C("+0x1")),I=function(e){var t,n=arguments.length<1?0:C(function(e){var t=A(e,"number");return"bigint"==typeof t?t:function(e){var t,n,r,i,o,s,a,l,c=A(e,"number");if(h(c))throw new T("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(t=x(c,0))||45===t){if(88===(n=x(c,2))||120===n)return NaN}else if(48===t){switch(x(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(s=(o=k(c,2)).length,a=0;a<s;a++)if((l=x(o,a))<48||l>i)return NaN;return parseInt(o,r)}return+c}(t)}(e));return f(S,t=this)&&p((function(){y(t)}))?d(Object(n),this,I):n};I.prototype=S,L&&!i&&(S.constructor=I),r({global:!0,constructor:!0,wrap:!0,forced:L},{Number:I});var R=function(e,t){for(var n,r=o?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)u(t,n=r[i])&&!u(e,n)&&v(e,n,m(t,n))};i&&w&&R(a[E],w),(L||i)&&R(a[E],C)},45374:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},25428:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0},{isFinite:n(50360)})},32637:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0},{isInteger:n(2087)})},40150:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},59149:function(e,t,n){"use strict";var r=n(46518),i=n(2087),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},64601:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},44435:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},87220:function(e,t,n){"use strict";var r=n(46518),i=n(33904);r({target:"Number",stat:!0,forced:Number.parseFloat!==i},{parseFloat:i})},25843:function(e,t,n){"use strict";var r=n(46518),i=n(52703);r({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},62337:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(91291),s=n(31240),a=n(72333),l=n(49340),c=n(79039),u=RangeError,d=String,f=isFinite,h=Math.abs,A=Math.floor,p=Math.pow,g=Math.round,m=i(1..toExponential),v=i(a),y=i("".slice),b="-6.9000e-11"===m(-69e-12,4)&&"1.25e+0"===m(1.255,2)&&"1.235e+4"===m(12345,3)&&"3e+1"===m(25,0);r({target:"Number",proto:!0,forced:!b||!(c((function(){m(1,1/0)}))&&c((function(){m(1,-1/0)})))||!!c((function(){m(1/0,1/0),m(NaN,1/0)}))},{toExponential:function(e){var t=s(this);if(void 0===e)return m(t);var n=o(e);if(!f(t))return String(t);if(n<0||n>20)throw new u("Incorrect fraction digits");if(b)return m(t,n);var r,i,a,c,E="";if(t<0&&(E="-",t=-t),0===t)i=0,r=v("0",n+1);else{var C=l(t);i=A(C);var w=p(10,i-n),S=g(t/w);2*t>=(2*S+1)*w&&(S+=1),S>=p(10,n+1)&&(S/=10,i+=1),r=d(S)}return 0!==n&&(r=y(r,0,1)+"."+y(r,1)),0===i?(a="+",c="0"):(a=i>0?"+":"-",c=d(h(i))),E+(r+"e")+a+c}})},9868:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(91291),s=n(31240),a=n(72333),l=n(79039),c=RangeError,u=String,d=Math.floor,f=i(a),h=i("".slice),A=i(1..toFixed),p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)},g=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},m=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=d(r/t),r=r%t*1e7},v=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=u(e[t]);n=""===n?r:n+f("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:l((function(){return"0.000"!==A(8e-5,3)||"1"!==A(.9,0)||"1.25"!==A(1.255,2)||"1000000000000000128"!==A(0xde0b6b3a7640080,0)}))||!l((function(){A({})}))},{toFixed:function(e){var t,n,r,i,a=s(this),l=o(e),d=[0,0,0,0,0,0],A="",y="0";if(l<0||l>20)throw new c("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return u(a);if(a<0&&(A="-",a=-a),a>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(a*p(2,69,1))-69)<0?a*p(2,-t,1):a/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(d,0,n),r=l;r>=7;)g(d,1e7,0),r-=7;for(g(d,p(10,r,1),0),r=t-1;r>=23;)m(d,1<<23),r-=23;m(d,1<<r),g(d,1,1),m(d,2),y=v(d)}else g(d,0,n),g(d,1<<-t,0),y=v(d)+f("0",l);return l>0?A+((i=y.length)<=l?"0."+f("0",l-i)+y:h(y,0,i-l)+"."+h(y,i-l)):A+y}})},80630:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(79039),s=n(31240),a=i(1..toPrecision);r({target:"Number",proto:!0,forced:o((function(){return"1"!==a(1,void 0)}))||!o((function(){a({})}))},{toPrecision:function(e){return void 0===e?a(s(this)):a(s(this),e)}})},69085:function(e,t,n){"use strict";var r=n(46518),i=n(44213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},59904:function(e,t,n){"use strict";n(46518)({target:"Object",stat:!0,sham:!n(43724)},{create:n(2360)})},17427:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(42551),s=n(79306),a=n(48981),l=n(24913);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},67945:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(96801).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},84185:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(24913).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},87607:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(42551),s=n(79306),a=n(48981),l=n(24913);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){l.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},5506:function(e,t,n){"use strict";var r=n(46518),i=n(32357).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},52811:function(e,t,n){"use strict";var r=n(46518),i=n(92744),o=n(79039),s=n(20034),a=n(3451).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!i},{freeze:function(e){return l&&s(e)?l(a(e)):e}})},53921:function(e,t,n){"use strict";var r=n(46518),i=n(72652),o=n(97040);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},83851:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(25397),s=n(77347).f,a=n(43724);r({target:"Object",stat:!0,forced:!a||i((function(){s(1)})),sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},81278:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(35031),s=n(25397),a=n(77347),l=n(97040);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=s(e),i=a.f,c=o(r),u={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&l(u,t,n);return u}})},1480:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(10298).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},49773:function(e,t,n){"use strict";var r=n(46518),i=n(4495),o=n(79039),s=n(33717),a=n(48981);r({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},40875:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(48981),s=n(42787),a=n(12211);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},77691:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(79504),s=n(79306),a=n(67750),l=n(56969),c=n(72652),u=n(79039),d=Object.groupBy,f=i("Object","create"),h=o([].push);r({target:"Object",stat:!0,forced:!d||u((function(){return 1!==d("ab",(function(e){return e})).a.length}))},{groupBy:function(e,t){a(e),s(t);var n=f(null),r=0;return c(e,(function(e){var i=l(t(e,r++));i in n?h(n[i],e):n[i]=[e]})),n}})},78347:function(e,t,n){"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},94052:function(e,t,n){"use strict";var r=n(46518),i=n(34124);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},94003:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(20034),s=n(22195),a=n(15652),l=Object.isFrozen;r({target:"Object",stat:!0,forced:a||i((function(){l(1)}))},{isFrozen:function(e){return!o(e)||!(!a||"ArrayBuffer"!==s(e))||!!l&&l(e)}})},221:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(20034),s=n(22195),a=n(15652),l=Object.isSealed;r({target:"Object",stat:!0,forced:a||i((function(){l(1)}))},{isSealed:function(e){return!o(e)||!(!a||"ArrayBuffer"!==s(e))||!!l&&l(e)}})},29908:function(e,t,n){"use strict";n(46518)({target:"Object",stat:!0},{is:n(3470)})},79432:function(e,t,n){"use strict";var r=n(46518),i=n(48981),o=n(71072);r({target:"Object",stat:!0,forced:n(79039)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},9220:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(42551),s=n(48981),a=n(56969),l=n(42787),c=n(77347).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=s(this),r=a(e);do{if(t=c(n,r))return t.get}while(n=l(n))}})},7904:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(42551),s=n(48981),a=n(56969),l=n(42787),c=n(77347).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=s(this),r=a(e);do{if(t=c(n,r))return t.set}while(n=l(n))}})},93967:function(e,t,n){"use strict";var r=n(46518),i=n(20034),o=n(3451).onFreeze,s=n(92744),a=n(79039),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!s},{preventExtensions:function(e){return l&&i(e)?l(o(e)):e}})},63548:function(e,t,n){"use strict";var r=n(43724),i=n(62106),o=n(20034),s=n(13925),a=n(48981),l=n(67750),c=Object.getPrototypeOf,u=Object.setPrototypeOf,d=Object.prototype,f="__proto__";if(r&&c&&u&&!(f in d))try{i(d,f,{configurable:!0,get:function(){return c(a(this))},set:function(e){var t=l(this);s(e)&&o(t)&&u(t,e)}})}catch(e){}},93941:function(e,t,n){"use strict";var r=n(46518),i=n(20034),o=n(3451).onFreeze,s=n(92744),a=n(79039),l=Object.seal;r({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!s},{seal:function(e){return l&&i(e)?l(o(e)):e}})},10287:function(e,t,n){"use strict";n(46518)({target:"Object",stat:!0},{setPrototypeOf:n(52967)})},26099:function(e,t,n){"use strict";var r=n(92140),i=n(36840),o=n(53179);r||i(Object.prototype,"toString",o,{unsafe:!0})},16034:function(e,t,n){"use strict";var r=n(46518),i=n(32357).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},78459:function(e,t,n){"use strict";var r=n(46518),i=n(33904);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},58940:function(e,t,n){"use strict";var r=n(46518),i=n(52703);r({global:!0,forced:parseInt!==i},{parseInt:i})},96167:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79306),s=n(36043),a=n(1103),l=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{allSettled:function(e){var t=this,n=s.f(t),r=n.resolve,c=n.reject,u=a((function(){var n=o(t.resolve),s=[],a=0,c=1;l(e,(function(e){var o=a++,l=!1;c++,i(n,t,e).then((function(e){l||(l=!0,s[o]={status:"fulfilled",value:e},--c||r(s))}),(function(e){l||(l=!0,s[o]={status:"rejected",reason:e},--c||r(s))}))})),--c||r(s)}));return u.error&&c(u.value),n.promise}})},16499:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79306),s=n(36043),a=n(1103),l=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{all:function(e){var t=this,n=s.f(t),r=n.resolve,c=n.reject,u=a((function(){var n=o(t.resolve),s=[],a=0,u=1;l(e,(function(e){var o=a++,l=!1;u++,i(n,t,e).then((function(e){l||(l=!0,s[o]=e,--u||r(s))}),c)})),--u||r(s)}));return u.error&&c(u.value),n.promise}})},93518:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79306),s=n(97751),a=n(36043),l=n(1103),c=n(72652),u=n(90537),d="No one promise resolved";r({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,n=s("AggregateError"),r=a.f(t),u=r.resolve,f=r.reject,h=l((function(){var r=o(t.resolve),s=[],a=0,l=1,h=!1;c(e,(function(e){var o=a++,c=!1;l++,i(r,t,e).then((function(e){c||h||(h=!0,u(e))}),(function(e){c||h||(c=!0,s[o]=e,--l||f(new n(s,d)))}))})),--l||f(new n(s,d))}));return h.error&&f(h.value),r.promise}})},82003:function(e,t,n){"use strict";var r=n(46518),i=n(96395),o=n(10916).CONSTRUCTOR,s=n(80550),a=n(97751),l=n(94901),c=n(36840),u=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(s)){var d=a("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},10436:function(e,t,n){"use strict";var r,i,o,s=n(46518),a=n(96395),l=n(38574),c=n(44576),u=n(69565),d=n(36840),f=n(52967),h=n(10687),A=n(87633),p=n(79306),g=n(94901),m=n(20034),v=n(90679),y=n(2293),b=n(59225).set,E=n(91955),C=n(90757),w=n(1103),S=n(18265),T=n(91181),k=n(80550),x=n(10916),L=n(36043),I="Promise",R=x.CONSTRUCTOR,D=x.REJECTION_EVENT,B=x.SUBCLASSING,P=T.getterFor(I),O=T.set,M=k&&k.prototype,_=k,F=M,N=c.TypeError,U=c.document,Q=c.process,G=L.f,j=G,W=!!(U&&U.createEvent&&c.dispatchEvent),z="unhandledrejection",H=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},Y=function(e,t){var n,r,i,o=t.value,s=1===t.state,a=s?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{a?(s||(2===t.rejection&&Z(t),t.rejection=1),!0===a?n=o:(d&&d.enter(),n=a(o),d&&(d.exit(),i=!0)),n===e.promise?c(new N("Promise-chain cycle")):(r=H(n))?u(r,n,l,c):l(n)):c(o)}catch(e){d&&!i&&d.exit(),c(e)}},V=function(e,t){e.notified||(e.notified=!0,E((function(){for(var n,r=e.reactions;n=r.get();)Y(n,e);e.notified=!1,t&&!e.rejection&&q(e)})))},K=function(e,t,n){var r,i;W?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!D&&(i=c["on"+e])?i(r):e===z&&C("Unhandled promise rejection",n)},q=function(e){u(b,c,(function(){var t,n=e.facade,r=e.value;if(X(e)&&(t=w((function(){l?Q.emit("unhandledRejection",r,n):K(z,n,r)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){u(b,c,(function(){var t=e.facade;l?Q.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,V(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new N("Promise can't be resolved itself");var r=H(t);r?E((function(){var n={done:!1};try{u(r,t,J(ee,n,e),J($,n,e))}catch(t){$(n,t,e)}})):(e.value=t,e.state=1,V(e,!1))}catch(t){$({done:!1},t,e)}}};if(R&&(F=(_=function(e){v(this,F),p(e),u(r,this);var t=P(this);try{e(J(ee,t),J($,t))}catch(e){$(t,e)}}).prototype,(r=function(e){O(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=d(F,"then",(function(e,t){var n=P(this),r=G(y(this,_));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=l?Q.domain:void 0,0===n.state?n.reactions.add(r):E((function(){Y(r,n)})),r.promise})),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=J(ee,t),this.reject=J($,t)},L.f=G=function(e){return e===_||void 0===e?new i(e):j(e)},!a&&g(k)&&M!==Object.prototype)){o=M.then,B||d(M,"then",(function(e,t){var n=this;return new _((function(e,t){u(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}f&&f(M,F)}s({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:_}),h(_,I,!1,!0),A(I)},9391:function(e,t,n){"use strict";var r=n(46518),i=n(96395),o=n(80550),s=n(79039),a=n(97751),l=n(94901),c=n(2293),u=n(93438),d=n(36840),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,a("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&l(o)){var h=a("Promise").prototype.finally;f.finally!==h&&d(f,"finally",h,{unsafe:!0})}},3362:function(e,t,n){"use strict";n(10436),n(16499),n(82003),n(7743),n(51481),n(40280)},7743:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79306),s=n(36043),a=n(1103),l=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{race:function(e){var t=this,n=s.f(t),r=n.reject,c=a((function(){var s=o(t.resolve);l(e,(function(e){i(s,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},51481:function(e,t,n){"use strict";var r=n(46518),i=n(36043);r({target:"Promise",stat:!0,forced:n(10916).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},40280:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(96395),s=n(80550),a=n(10916).CONSTRUCTOR,l=n(93438),c=i("Promise"),u=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(e){return l(u&&this===c?s:this,e)}})},31689:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(18745),s=n(67680),a=n(36043),l=n(79306),c=n(1103),u=i.Promise,d=!1;r({target:"Promise",stat:!0,forced:!u||!u.try||c((function(){u.try((function(e){d=8===e}),8)})).error||!d},{try:function(e){var t=arguments.length>1?s(arguments,1):[],n=a.f(this),r=c((function(){return o(l(e),void 0,t)}));return(r.error?n.reject:n.resolve)(r.value),n.promise}})},14628:function(e,t,n){"use strict";var r=n(46518),i=n(36043);r({target:"Promise",stat:!0},{withResolvers:function(){var e=i.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},39796:function(e,t,n){"use strict";var r=n(46518),i=n(18745),o=n(79306),s=n(28551);r({target:"Reflect",stat:!0,forced:!n(79039)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,n){return i(o(e),t,s(n))}})},60825:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(18745),s=n(30566),a=n(35548),l=n(28551),c=n(20034),u=n(2360),d=n(79039),f=i("Reflect","construct"),h=Object.prototype,A=[].push,p=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),g=!d((function(){f((function(){}))})),m=p||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){a(e),l(t);var n=arguments.length<3?e:a(arguments[2]);if(g&&!p)return f(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(A,r,t),new(o(s,e,r))}var i=n.prototype,d=u(c(i)?i:h),m=o(e,d,t);return c(m)?m:d}})},87411:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(28551),s=n(56969),a=n(24913);r({target:"Reflect",stat:!0,forced:n(79039)((function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,n){o(e);var r=s(t);o(n);try{return a.f(e,r,n),!0}catch(e){return!1}}})},21211:function(e,t,n){"use strict";var r=n(46518),i=n(28551),o=n(77347).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},9065:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(28551),s=n(77347);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s.f(o(e),t)}})},86565:function(e,t,n){"use strict";var r=n(46518),i=n(28551),o=n(42787);r({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(e){return o(i(e))}})},40888:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(20034),s=n(28551),a=n(16575),l=n(77347),c=n(42787);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,u,d=arguments.length<3?t:arguments[2];return s(t)===d?t[n]:(r=l.f(t,n))?a(r)?r.value:void 0===r.get?void 0:i(r.get,d):o(u=c(t))?e(u,n,d):void 0}})},32812:function(e,t,n){"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},84634:function(e,t,n){"use strict";var r=n(46518),i=n(28551),o=n(34124);r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),o(e)}})},71137:function(e,t,n){"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(28551);r({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(e){o(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},34873:function(e,t,n){"use strict";var r=n(46518),i=n(28551),o=n(73506),s=n(52967);s&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),o(t);try{return s(e,t),!0}catch(e){return!1}}})},34268:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(28551),s=n(20034),a=n(16575),l=n(79039),c=n(24913),u=n(77347),d=n(42787),f=n(6980);r({target:"Reflect",stat:!0,forced:l((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,n,r){var l,h,A,p=arguments.length<4?t:arguments[3],g=u.f(o(t),n);if(!g){if(s(h=d(t)))return e(h,n,r,p);g=f(0)}if(a(g)){if(!1===g.writable||!s(p))return!1;if(l=u.f(p,n)){if(l.get||l.set||!1===l.writable)return!1;l.value=r,c.f(p,n,l)}else c.f(p,n,f(0,r))}else{if(void 0===(A=g.set))return!1;i(A,p,r)}return!0}})},15472:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(10687);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},84864:function(e,t,n){"use strict";var r=n(43724),i=n(44576),o=n(79504),s=n(92796),a=n(23167),l=n(66699),c=n(2360),u=n(38480).f,d=n(1625),f=n(60788),h=n(655),A=n(61034),p=n(58429),g=n(11056),m=n(36840),v=n(79039),y=n(39297),b=n(91181).enforce,E=n(87633),C=n(78227),w=n(83635),S=n(18814),T=C("match"),k=i.RegExp,x=k.prototype,L=i.SyntaxError,I=o(x.exec),R=o("".charAt),D=o("".replace),B=o("".indexOf),P=o("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,_=/a/g,F=new k(M)!==M,N=p.MISSED_STICKY,U=p.UNSUPPORTED_Y;if(s("RegExp",r&&(!F||N||w||S||v((function(){return _[T]=!1,k(M)!==M||k(_)===_||"/a/i"!==String(k(M,"i"))}))))){for(var Q=function(e,t){var n,r,i,o,s,u,p=d(x,this),g=f(e),m=void 0===t,v=[],E=e;if(!p&&g&&m&&e.constructor===Q)return e;if((g||d(x,e))&&(e=e.source,m&&(t=A(E))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),E=e,w&&"dotAll"in M&&(r=!!t&&B(t,"s")>-1)&&(t=D(t,/s/g,"")),n=t,N&&"sticky"in M&&(i=!!t&&B(t,"y")>-1)&&U&&(t=D(t,/y/g,"")),S&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],s=c(null),a=!1,l=!1,u=0,d="";r<=n;r++){if("\\"===(t=R(e,r)))t+=R(e,++r);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:if(i+=t,"?:"===P(e,r+1,r+3))continue;I(O,P(e,r+1))&&(r+=2,l=!0),u++;continue;case">"===t&&l:if(""===d||y(s,d))throw new L("Invalid capture group name");s[d]=!0,o[o.length]=[d,u],l=!1,d="";continue}l?d+=t:i+=t}return[i,o]}(e),e=o[0],v=o[1]),s=a(k(e,t),p?this:x,Q),(r||i||v.length)&&(u=b(s),r&&(u.dotAll=!0,u.raw=Q(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=R(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+R(e,++r);return i}(e),n)),i&&(u.sticky=!0),v.length&&(u.groups=v)),e!==E)try{l(s,"source",""===E?"(?:)":E)}catch(e){}return s},G=u(k),j=0;G.length>j;)g(Q,k,G[j++]);x.constructor=Q,Q.prototype=x,m(i,"RegExp",Q,{constructor:!0})}E("RegExp")},57465:function(e,t,n){"use strict";var r=n(43724),i=n(83635),o=n(22195),s=n(62106),a=n(91181).get,l=RegExp.prototype,c=TypeError;r&&i&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!a(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},27495:function(e,t,n){"use strict";var r=n(46518),i=n(57323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},69479:function(e,t,n){"use strict";var r=n(44576),i=n(43724),o=n(62106),s=n(67979),a=n(79039),l=r.RegExp,c=l.prototype;i&&a((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(o.hasIndices="d"),o)i(s,o[s]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r}))&&o(c,"flags",{configurable:!0,get:s})},87745:function(e,t,n){"use strict";var r=n(43724),i=n(58429).MISSED_STICKY,o=n(22195),s=n(62106),a=n(91181).get,l=RegExp.prototype,c=TypeError;r&&i&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!a(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},90906:function(e,t,n){"use strict";n(27495);var r,i,o=n(46518),s=n(69565),a=n(94901),l=n(28551),c=n(655),u=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),d=/./.test;o({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=l(this),n=c(e),r=t.exec;if(!a(r))return s(d,t,n);var i=s(r,t,n);return null!==i&&(l(i),!0)}})},38781:function(e,t,n){"use strict";var r=n(10350).PROPER,i=n(36840),o=n(28551),s=n(655),a=n(79039),l=n(61034),c="toString",u=RegExp.prototype,d=u[c],f=a((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),h=r&&d.name!==c;(f||h)&&i(u,c,(function(){var e=o(this);return"/"+s(e.source)+"/"+s(l(e))}),{unsafe:!0})},92405:function(e,t,n){"use strict";n(16468)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(86938))},17642:function(e,t,n){"use strict";var r=n(46518),i=n(83440);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("difference",(function(e){return 0===e.size}))},{difference:i})},58004:function(e,t,n){"use strict";var r=n(46518),i=n(79039),o=n(68750);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:o})},33853:function(e,t,n){"use strict";var r=n(46518),i=n(64449);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("isDisjointFrom",(function(e){return!e}))},{isDisjointFrom:i})},45876:function(e,t,n){"use strict";var r=n(46518),i=n(53838);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("isSubsetOf",(function(e){return e}))},{isSubsetOf:i})},32475:function(e,t,n){"use strict";var r=n(46518),i=n(28527);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("isSupersetOf",(function(e){return!e}))},{isSupersetOf:i})},31415:function(e,t,n){"use strict";n(92405)},15024:function(e,t,n){"use strict";var r=n(46518),i=n(83650);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("symmetricDifference")},{symmetricDifference:i})},31698:function(e,t,n){"use strict";var r=n(46518),i=n(44204);r({target:"Set",proto:!0,real:!0,forced:!n(84916)("union")},{union:i})},89907:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},67357:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(67750),s=n(91291),a=n(655),l=n(79039),c=i("".charAt);r({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="\ud842\udfb7".at(-2)}))},{at:function(e){var t=a(o(this)),n=t.length,r=s(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},11898:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("big")},{big:function(){return i(this,"big","","")}})},35490:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("blink")},{blink:function(){return i(this,"blink","","")}})},5745:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("bold")},{bold:function(){return i(this,"b","","")}})},23860:function(e,t,n){"use strict";var r=n(46518),i=n(68183).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},99449:function(e,t,n){"use strict";var r,i=n(46518),o=n(27476),s=n(77347).f,a=n(18014),l=n(655),c=n(60511),u=n(67750),d=n(41436),f=n(96395),h=o("".slice),A=Math.min,p=d("endsWith");i({target:"String",proto:!0,forced:!(!f&&!p&&(r=s(String.prototype,"endsWith"),r&&!r.writable)||p)},{endsWith:function(e){var t=l(u(this));c(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:A(a(n),r),o=l(e);return h(t,i-o.length,i)===o}})},94298:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("fixed")},{fixed:function(){return i(this,"tt","","")}})},60268:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},69546:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},27337:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(35610),s=RangeError,a=String.fromCharCode,l=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!l&&1!==l.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],o(t,1114111)!==t)throw new s(t+" is not a valid code point");n[i]=t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320)}return c(n,"")}})},21699:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(60511),s=n(67750),a=n(655),l=n(41436),c=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},42043:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(67750),s=n(655),a=i("".charCodeAt);r({target:"String",proto:!0},{isWellFormed:function(){for(var e=s(o(this)),t=e.length,n=0;n<t;n++){var r=a(e,n);if(55296==(63488&r)&&(r>=56320||++n>=t||56320!=(64512&a(e,n))))return!1}return!0}})},20781:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("italics")},{italics:function(){return i(this,"i","","")}})},47764:function(e,t,n){"use strict";var r=n(68183).charAt,i=n(655),o=n(91181),s=n(51088),a=n(62529),l="String Iterator",c=o.set,u=o.getterFor(l);s(String,"String",(function(e){c(this,{type:l,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?a(void 0,!0):(e=r(n,i),t.index+=e.length,a(e,!1))}))},50778:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("link")},{link:function(e){return i(this,"a","href",e)}})},28543:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(27476),s=n(33994),a=n(62529),l=n(67750),c=n(18014),u=n(655),d=n(28551),f=n(64117),h=n(22195),A=n(60788),p=n(61034),g=n(55966),m=n(36840),v=n(79039),y=n(78227),b=n(2293),E=n(57829),C=n(56682),w=n(91181),S=n(96395),T=y("matchAll"),k="RegExp String",x=k+" Iterator",L=w.set,I=w.getterFor(x),R=RegExp.prototype,D=TypeError,B=o("".indexOf),P=o("".matchAll),O=!!P&&!v((function(){P("a",/./)})),M=s((function(e,t,n,r){L(this,{type:x,regexp:e,string:t,global:n,unicode:r,done:!1})}),k,(function(){var e=I(this);if(e.done)return a(void 0,!0);var t=e.regexp,n=e.string,r=C(t,n);return null===r?(e.done=!0,a(void 0,!0)):e.global?(""===u(r[0])&&(t.lastIndex=E(n,c(t.lastIndex),e.unicode)),a(r,!1)):(e.done=!0,a(r,!1))})),_=function(e){var t,n,r,i=d(this),o=u(e),s=b(i,RegExp),a=u(p(i));return t=new s(s===RegExp?i.source:i,a),n=!!~B(a,"g"),r=!!~B(a,"u"),t.lastIndex=c(i.lastIndex),new M(t,o,n,r)};r({target:"String",proto:!0,forced:O},{matchAll:function(e){var t,n,r,o,s=l(this);if(f(e)){if(O)return P(s,e)}else{if(A(e)&&(t=u(l(p(e))),!~B(t,"g")))throw new D("`.matchAll` does not allow non-global regexes");if(O)return P(s,e);if(void 0===(r=g(e,T))&&S&&"RegExp"===h(e)&&(r=_),r)return i(r,e,s)}return n=u(s),o=new RegExp(e,"g"),S?i(_,o,n):o[T](n)}}),S||T in R||m(R,T,_)},71761:function(e,t,n){"use strict";var r=n(69565),i=n(89228),o=n(28551),s=n(64117),a=n(18014),l=n(655),c=n(67750),u=n(55966),d=n(57829),f=n(56682);i("match",(function(e,t,n){return[function(t){var n=c(this),i=s(t)?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](l(n))},function(e){var r=o(this),i=l(e),s=n(t,r,i);if(s.done)return s.value;if(!r.global)return f(r,i);var c=r.unicode;r.lastIndex=0;for(var u,h=[],A=0;null!==(u=f(r,i));){var p=l(u[0]);h[A]=p,""===p&&(r.lastIndex=d(i,a(r.lastIndex),c)),A++}return 0===A?null:h}]}))},35701:function(e,t,n){"use strict";var r=n(46518),i=n(60533).end;r({target:"String",proto:!0,forced:n(83063)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},68156:function(e,t,n){"use strict";var r=n(46518),i=n(60533).start;r({target:"String",proto:!0,forced:n(83063)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},85906:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(25397),s=n(48981),a=n(655),l=n(26198),c=i([].push),u=i([].join);r({target:"String",stat:!0},{raw:function(e){var t=o(s(e).raw),n=l(t);if(!n)return"";for(var r=arguments.length,i=[],d=0;;){if(c(i,a(t[d++])),d===n)return u(i,"");d<r&&c(i,a(arguments[d]))}}})},42781:function(e,t,n){"use strict";n(46518)({target:"String",proto:!0},{repeat:n(72333)})},79978:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79504),s=n(67750),a=n(94901),l=n(64117),c=n(60788),u=n(655),d=n(55966),f=n(61034),h=n(2478),A=n(78227),p=n(96395),g=A("replace"),m=TypeError,v=o("".indexOf),y=o("".replace),b=o("".slice),E=Math.max;r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,A,C,w,S,T,k,x,L=s(this),I=0,R="";if(!l(e)){if((n=c(e))&&(r=u(s(f(e))),!~v(r,"g")))throw new m("`.replaceAll` does not allow non-global regexes");if(o=d(e,g))return i(o,e,L,t);if(p&&n)return y(u(L),e,t)}for(A=u(L),C=u(e),(w=a(t))||(t=u(t)),S=C.length,T=E(1,S),k=v(A,C);-1!==k;)x=w?u(t(C,k,A)):h(C,A,k,[],void 0,t),R+=b(A,I,k)+x,I=k+S,k=k+T>A.length?-1:v(A,C,k+T);return I<A.length&&(R+=b(A,I)),R}})},25440:function(e,t,n){"use strict";var r=n(18745),i=n(69565),o=n(79504),s=n(89228),a=n(79039),l=n(28551),c=n(94901),u=n(64117),d=n(91291),f=n(18014),h=n(655),A=n(67750),p=n(57829),g=n(55966),m=n(2478),v=n(56682),y=n(78227)("replace"),b=Math.max,E=Math.min,C=o([].concat),w=o([].push),S=o("".indexOf),T=o("".slice),k="$0"==="a".replace(/./,"$0"),x=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,n){var o=x?"$":"$0";return[function(e,n){var r=A(this),o=u(e)?void 0:g(e,y);return o?i(o,e,r,n):i(t,h(r),e,n)},function(e,i){var s=l(this),a=h(e);if("string"==typeof i&&-1===S(i,o)&&-1===S(i,"$<")){var u=n(t,s,a,i);if(u.done)return u.value}var A=c(i);A||(i=h(i));var g,y=s.global;y&&(g=s.unicode,s.lastIndex=0);for(var k,x=[];null!==(k=v(s,a))&&(w(x,k),y);)""===h(k[0])&&(s.lastIndex=p(a,f(s.lastIndex),g));for(var L,I="",R=0,D=0;D<x.length;D++){for(var B,P=h((k=x[D])[0]),O=b(E(d(k.index),a.length),0),M=[],_=1;_<k.length;_++)w(M,void 0===(L=k[_])?L:String(L));var F=k.groups;if(A){var N=C([P],M,O,a);void 0!==F&&w(N,F),B=h(r(i,void 0,N))}else B=m(P,a,O,M,F,i);O>=R&&(I+=T(a,R,O)+B,R=O+P.length)}return I+T(a,R)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||x)},5746:function(e,t,n){"use strict";var r=n(69565),i=n(89228),o=n(28551),s=n(64117),a=n(67750),l=n(3470),c=n(655),u=n(55966),d=n(56682);i("search",(function(e,t,n){return[function(t){var n=a(this),i=s(t)?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=o(this),i=c(e),s=n(t,r,i);if(s.done)return s.value;var a=r.lastIndex;l(a,0)||(r.lastIndex=0);var u=d(r,i);return l(r.lastIndex,a)||(r.lastIndex=a),null===u?-1:u.index}]}))},89195:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("small")},{small:function(){return i(this,"small","","")}})},90744:function(e,t,n){"use strict";var r=n(69565),i=n(79504),o=n(89228),s=n(28551),a=n(64117),l=n(67750),c=n(2293),u=n(57829),d=n(18014),f=n(655),h=n(55966),A=n(56682),p=n(58429),g=n(79039),m=p.UNSUPPORTED_Y,v=Math.min,y=i([].push),b=i("".slice),E=!g((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),C="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(e,t,n){var i="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t;return[function(t,n){var o=l(this),s=a(t)?void 0:h(t,e);return s?r(s,t,o,n):r(i,f(o),t,n)},function(e,r){var o=s(this),a=f(e);if(!C){var l=n(i,o,a,r,i!==t);if(l.done)return l.value}var h=c(o,RegExp),p=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),E=new h(m?"^(?:"+o.source+")":o,g),w=void 0===r?4294967295:r>>>0;if(0===w)return[];if(0===a.length)return null===A(E,a)?[a]:[];for(var S=0,T=0,k=[];T<a.length;){E.lastIndex=m?0:T;var x,L=A(E,m?b(a,T):a);if(null===L||(x=v(d(E.lastIndex+(m?T:0)),a.length))===S)T=u(a,T,p);else{if(y(k,b(a,S,T)),k.length===w)return k;for(var I=1;I<=L.length-1;I++)if(y(k,L[I]),k.length===w)return k;T=S=x}}return y(k,b(a,S)),k}]}),C||!E,m)},11392:function(e,t,n){"use strict";var r,i=n(46518),o=n(27476),s=n(77347).f,a=n(18014),l=n(655),c=n(60511),u=n(67750),d=n(41436),f=n(96395),h=o("".slice),A=Math.min,p=d("startsWith");i({target:"String",proto:!0,forced:!(!f&&!p&&(r=s(String.prototype,"startsWith"),r&&!r.writable)||p)},{startsWith:function(e){var t=l(u(this));c(e);var n=a(A(arguments.length>1?arguments[1]:void 0,t.length)),r=l(e);return h(t,n,n+r.length)===r}})},46276:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("strike")},{strike:function(){return i(this,"strike","","")}})},48718:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("sub")},{sub:function(){return i(this,"sub","","")}})},50375:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(67750),s=n(91291),a=n(655),l=i("".slice),c=Math.max,u=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var n,r,i=a(o(this)),d=i.length,f=s(e);return f===1/0&&(f=0),f<0&&(f=c(d+f,0)),(n=void 0===t?d:s(t))<=0||n===1/0||f>=(r=u(f+n,d))?"":l(i,f,r)}})},16308:function(e,t,n){"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("sup")},{sup:function(){return i(this,"sup","","")}})},67438:function(e,t,n){"use strict";var r=n(46518),i=n(69565),o=n(79504),s=n(67750),a=n(655),l=n(79039),c=Array,u=o("".charAt),d=o("".charCodeAt),f=o([].join),h="".toWellFormed,A=h&&l((function(){return"1"!==i(h,1)}));r({target:"String",proto:!0,forced:A},{toWellFormed:function(){var e=a(s(this));if(A)return i(h,e);for(var t=e.length,n=c(t),r=0;r<t;r++){var o=d(e,r);55296!=(63488&o)?n[r]=u(e,r):o>=56320||r+1>=t||56320!=(64512&d(e,r+1))?n[r]="\ufffd":(n[r]=u(e,r),n[++r]=u(e,r))}return f(n,"")}})},39202:function(e,t,n){"use strict";n(33313);var r=n(46518),i=n(18866);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},58934:function(e,t,n){"use strict";var r=n(46518),i=n(53487);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},33313:function(e,t,n){"use strict";var r=n(46518),i=n(18866);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},43359:function(e,t,n){"use strict";n(58934);var r=n(46518),i=n(53487);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},42762:function(e,t,n){"use strict";var r=n(46518),i=n(43802).trim;r({target:"String",proto:!0,forced:n(60706)("trim")},{trim:function(){return i(this)}})},66412:function(e,t,n){"use strict";n(70511)("asyncIterator")},6761:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(69565),s=n(79504),a=n(96395),l=n(43724),c=n(4495),u=n(79039),d=n(39297),f=n(1625),h=n(28551),A=n(25397),p=n(56969),g=n(655),m=n(6980),v=n(2360),y=n(71072),b=n(38480),E=n(10298),C=n(33717),w=n(77347),S=n(24913),T=n(96801),k=n(48773),x=n(36840),L=n(62106),I=n(25745),R=n(66119),D=n(30421),B=n(33392),P=n(78227),O=n(1951),M=n(70511),_=n(58242),F=n(10687),N=n(91181),U=n(59213).forEach,Q=R("hidden"),G="Symbol",j="prototype",W=N.set,z=N.getterFor(G),H=Object[j],Y=i.Symbol,V=Y&&Y[j],K=i.RangeError,q=i.TypeError,X=i.QObject,Z=w.f,J=S.f,$=E.f,ee=k.f,te=s([].push),ne=I("symbols"),re=I("op-symbols"),ie=I("wks"),oe=!X||!X[j]||!X[j].findChild,se=function(e,t,n){var r=Z(H,t);r&&delete H[t],J(e,t,n),r&&e!==H&&J(H,t,r)},ae=l&&u((function(){return 7!==v(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?se:J,le=function(e,t){var n=ne[e]=v(V);return W(n,{type:G,tag:e,description:t}),l||(n.description=t),n},ce=function(e,t,n){e===H&&ce(re,t,n),h(e);var r=p(t);return h(n),d(ne,r)?(n.enumerable?(d(e,Q)&&e[Q][r]&&(e[Q][r]=!1),n=v(n,{enumerable:m(0,!1)})):(d(e,Q)||J(e,Q,m(1,v(null))),e[Q][r]=!0),ae(e,r,n)):J(e,r,n)},ue=function(e,t){h(e);var n=A(t),r=y(n).concat(Ae(n));return U(r,(function(t){l&&!o(de,n,t)||ce(e,t,n[t])})),e},de=function(e){var t=p(e),n=o(ee,this,t);return!(this===H&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,Q)&&this[Q][t])||n)},fe=function(e,t){var n=A(e),r=p(t);if(n!==H||!d(ne,r)||d(re,r)){var i=Z(n,r);return!i||!d(ne,r)||d(n,Q)&&n[Q][r]||(i.enumerable=!0),i}},he=function(e){var t=$(A(e)),n=[];return U(t,(function(e){d(ne,e)||d(D,e)||te(n,e)})),n},Ae=function(e){var t=e===H,n=$(t?re:A(e)),r=[];return U(n,(function(e){!d(ne,e)||t&&!d(H,e)||te(r,ne[e])})),r};c||(Y=function(){if(f(V,this))throw new q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=B(e),n=function(e){var r=void 0===this?i:this;r===H&&o(n,re,e),d(r,Q)&&d(r[Q],t)&&(r[Q][t]=!1);var s=m(1,e);try{ae(r,t,s)}catch(e){if(!(e instanceof K))throw e;se(r,t,s)}};return l&&oe&&ae(H,t,{configurable:!0,set:n}),le(t,e)},x(V=Y[j],"toString",(function(){return z(this).tag})),x(Y,"withoutSetter",(function(e){return le(B(e),e)})),k.f=de,S.f=ce,T.f=ue,w.f=fe,b.f=E.f=he,C.f=Ae,O.f=function(e){return le(P(e),e)},l&&(L(V,"description",{configurable:!0,get:function(){return z(this).description}}),a||x(H,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),U(y(ie),(function(e){M(e)})),r({target:G,stat:!0,forced:!c},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(e,t){return void 0===t?v(e):ue(v(e),t)},defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he}),_(),F(Y,G),D[Q]=!0},89463:function(e,t,n){"use strict";var r=n(46518),i=n(43724),o=n(44576),s=n(79504),a=n(39297),l=n(94901),c=n(1625),u=n(655),d=n(62106),f=n(77740),h=o.Symbol,A=h&&h.prototype;if(i&&l(h)&&(!("description"in A)||void 0!==h().description)){var p={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(A,this)?new h(e):void 0===e?h():h(e);return""===e&&(p[t]=!0),t};f(g,h),g.prototype=A,A.constructor=g;var m="Symbol(description detection)"===String(h("description detection")),v=s(A.valueOf),y=s(A.toString),b=/^Symbol\((.*)\)[^)]+$/,E=s("".replace),C=s("".slice);d(A,"description",{configurable:!0,get:function(){var e=v(this);if(a(p,e))return"";var t=y(e),n=m?C(t,7,-1):E(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},81510:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(39297),s=n(655),a=n(25745),l=n(91296),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(o(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,u[n]=t,n}})},60193:function(e,t,n){"use strict";n(70511)("hasInstance")},92168:function(e,t,n){"use strict";n(70511)("isConcatSpreadable")},2259:function(e,t,n){"use strict";n(70511)("iterator")},52675:function(e,t,n){"use strict";n(6761),n(81510),n(97812),n(33110),n(49773)},97812:function(e,t,n){"use strict";var r=n(46518),i=n(39297),o=n(10757),s=n(16823),a=n(25745),l=n(91296),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw new TypeError(s(e)+" is not a symbol");if(i(c,e))return c[e]}})},83142:function(e,t,n){"use strict";n(70511)("matchAll")},86964:function(e,t,n){"use strict";n(70511)("match")},83237:function(e,t,n){"use strict";n(70511)("replace")},61833:function(e,t,n){"use strict";n(70511)("search")},67947:function(e,t,n){"use strict";n(70511)("species")},31073:function(e,t,n){"use strict";n(70511)("split")},45700:function(e,t,n){"use strict";var r=n(70511),i=n(58242);r("toPrimitive"),i()},78125:function(e,t,n){"use strict";var r=n(97751),i=n(70511),o=n(10687);i("toStringTag"),o(r("Symbol"),"Symbol")},20326:function(e,t,n){"use strict";n(70511)("unscopables")},48140:function(e,t,n){"use strict";var r=n(94644),i=n(26198),o=n(91291),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=s(this),n=i(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},81630:function(e,t,n){"use strict";var r=n(79504),i=n(94644),o=r(n(57029)),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return o(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},72170:function(e,t,n){"use strict";var r=n(94644),i=n(59213).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},75044:function(e,t,n){"use strict";var r=n(94644),i=n(84373),o=n(75854),s=n(36955),a=n(69565),l=n(79504),c=n(79039),u=r.aTypedArray,d=r.exportTypedArrayMethod,f=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var n="Big"===f(s(this),0,3)?o(e):+e;return a(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},69539:function(e,t,n){"use strict";var r=n(94644),i=n(59213).filter,o=n(29948),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(s(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)}))},89955:function(e,t,n){"use strict";var r=n(94644),i=n(59213).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},91134:function(e,t,n){"use strict";var r=n(94644),i=n(43839).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},21903:function(e,t,n){"use strict";var r=n(94644),i=n(43839).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},31694:function(e,t,n){"use strict";var r=n(94644),i=n(59213).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},34594:function(e,t,n){"use strict";n(15823)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},29833:function(e,t,n){"use strict";n(15823)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},33206:function(e,t,n){"use strict";var r=n(94644),i=n(59213).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},48345:function(e,t,n){"use strict";var r=n(72805);(0,n(94644).exportTypedArrayStaticMethod)("from",n(43251),r)},44496:function(e,t,n){"use strict";var r=n(94644),i=n(19617).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},66651:function(e,t,n){"use strict";var r=n(94644),i=n(19617).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},72107:function(e,t,n){"use strict";n(15823)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},95477:function(e,t,n){"use strict";n(15823)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},46594:function(e,t,n){"use strict";n(15823)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},12887:function(e,t,n){"use strict";var r=n(44576),i=n(79039),o=n(79504),s=n(94644),a=n(23792),l=n(78227)("iterator"),c=r.Uint8Array,u=o(a.values),d=o(a.keys),f=o(a.entries),h=s.aTypedArray,A=s.exportTypedArrayMethod,p=c&&c.prototype,g=!i((function(){p[l].call([1])})),m=!!p&&p.values&&p[l]===p.values&&"values"===p.values.name,v=function(){return u(h(this))};A("entries",(function(){return f(h(this))}),g),A("keys",(function(){return d(h(this))}),g),A("values",v,g||!m,{name:"values"}),A(l,v,g||!m,{name:"values"})},19369:function(e,t,n){"use strict";var r=n(94644),i=n(79504),o=r.aTypedArray,s=r.exportTypedArrayMethod,a=i([].join);s("join",(function(e){return a(o(this),e)}))},66812:function(e,t,n){"use strict";var r=n(94644),i=n(18745),o=n(8379),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(o,s(this),t>1?[e,arguments[1]]:[e])}))},8995:function(e,t,n){"use strict";var r=n(94644),i=n(59213).map,o=r.aTypedArray,s=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(e))(t)}))}))},52568:function(e,t,n){"use strict";var r=n(94644),i=n(72805),o=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(o(this))(t);t>e;)n[e]=arguments[e++];return n}),i)},36072:function(e,t,n){"use strict";var r=n(94644),i=n(80926).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)}))},31575:function(e,t,n){"use strict";var r=n(94644),i=n(80926).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)}))},88747:function(e,t,n){"use strict";var r=n(94644),i=r.aTypedArray,o=r.exportTypedArrayMethod,s=Math.floor;o("reverse",(function(){for(var e,t=this,n=i(t).length,r=s(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},28845:function(e,t,n){"use strict";var r=n(44576),i=n(69565),o=n(94644),s=n(26198),a=n(58229),l=n(48981),c=n(79039),u=r.RangeError,d=r.Int8Array,f=d&&d.prototype,h=f&&f.set,A=o.aTypedArray,p=o.exportTypedArrayMethod,g=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){A(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(g)return i(h,this,n,t);var r=this.length,o=s(n),c=0;if(o+t>r)throw new u("Wrong length");for(;c<o;)this[t+c]=n[c++]}),!g||m)},29423:function(e,t,n){"use strict";var r=n(94644),i=n(79039),o=n(67680),s=r.aTypedArray,a=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(s(this),e,t),r=a(this),i=0,l=n.length,c=new r(l);l>i;)c[i]=n[i++];return c}),i((function(){new Int8Array(1).slice()})))},57301:function(e,t,n){"use strict";var r=n(94644),i=n(59213).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},373:function(e,t,n){"use strict";var r=n(44576),i=n(27476),o=n(79039),s=n(79306),a=n(74488),l=n(94644),c=n(13709),u=n(13763),d=n(39519),f=n(3607),h=l.aTypedArray,A=l.exportTypedArrayMethod,p=r.Uint16Array,g=p&&i(p.prototype.sort),m=!(!g||o((function(){g(new p(2),null)}))&&o((function(){g(new p(2),{})}))),v=!!g&&!o((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(f)return f<602;var e,t,n=new p(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));A("sort",(function(e){return void 0!==e&&s(e),v?g(this,e):a(h(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!v||m)},86614:function(e,t,n){"use strict";var r=n(94644),i=n(18014),o=n(35610),s=r.aTypedArray,a=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,l=o(e,r);return new(a(n))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?r:o(t,r))-l))}))},41405:function(e,t,n){"use strict";var r=n(44576),i=n(18745),o=n(94644),s=n(79039),a=n(67680),l=r.Int8Array,c=o.aTypedArray,u=o.exportTypedArrayMethod,d=[].toLocaleString,f=!!l&&s((function(){d.call(new l(1))}));u("toLocaleString",(function(){return i(d,f?a(c(this)):c(this),a(arguments))}),s((function(){return[1,2].toLocaleString()!==new l([1,2]).toLocaleString()}))||!s((function(){l.prototype.toLocaleString.call([1,2])})))},37467:function(e,t,n){"use strict";var r=n(37628),i=n(94644),o=i.aTypedArray,s=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;s("toReversed",(function(){return r(o(this),a(this))}))},44732:function(e,t,n){"use strict";var r=n(94644),i=n(79504),o=n(79306),s=n(35370),a=r.aTypedArray,l=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,u=i(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&o(e);var t=a(this),n=s(l(t),t);return u(n,e)}))},33684:function(e,t,n){"use strict";var r=n(94644).exportTypedArrayMethod,i=n(79039),o=n(44576),s=n(79504),a=o.Uint8Array,l=a&&a.prototype||{},c=[].toString,u=s([].join);i((function(){c.call({})}))&&(c=function(){return u(this)});var d=l.toString!==c;r("toString",c,d)},3690:function(e,t,n){"use strict";n(15823)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},61740:function(e,t,n){"use strict";n(15823)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},21489:function(e,t,n){"use strict";n(15823)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},22134:function(e,t,n){"use strict";n(15823)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},79577:function(e,t,n){"use strict";var r=n(39928),i=n(94644),o=n(18727),s=n(91291),a=n(75854),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var n=l(this),i=s(e),u=o(n)?a(t):+t;return r(n,c(n),i,u)}}.with,!d)},88267:function(e,t,n){"use strict";var r=n(46518),i=n(79504),o=n(655),s=String.fromCharCode,a=i("".charAt),l=i(/./.exec),c=i("".slice),u=/^[\da-f]{2}$/i,d=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(e){for(var t,n,r=o(e),i="",f=r.length,h=0;h<f;){if("%"===(t=a(r,h++)))if("u"===a(r,h)){if(n=c(r,h+1,h+5),l(d,n)){i+=s(parseInt(n,16)),h+=5;continue}}else if(n=c(r,h,h+2),l(u,n)){i+=s(parseInt(n,16)),h+=2;continue}i+=t}return i}})},65746:function(e,t,n){"use strict";var r,i=n(92744),o=n(44576),s=n(79504),a=n(56279),l=n(3451),c=n(16468),u=n(91625),d=n(20034),f=n(91181).enforce,h=n(79039),A=n(58622),p=Object,g=Array.isArray,m=p.isExtensible,v=p.isFrozen,y=p.isSealed,b=p.freeze,E=p.seal,C=!o.ActiveXObject&&"ActiveXObject"in o,w=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},S=c("WeakMap",w,u),T=S.prototype,k=s(T.set);if(A)if(C){r=u.getConstructor(w,"WeakMap",!0),l.enable();var x=s(T.delete),L=s(T.has),I=s(T.get);a(T,{delete:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new r),x(this,e)||t.frozen.delete(e)}return x(this,e)},has:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new r),L(this,e)||t.frozen.has(e)}return L(this,e)},get:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new r),L(this,e)?I(this,e):t.frozen.get(e)}return I(this,e)},set:function(e,t){if(d(e)&&!m(e)){var n=f(this);n.frozen||(n.frozen=new r),L(this,e)?k(this,e,t):n.frozen.set(e,t)}else k(this,e,t);return this}})}else i&&h((function(){var e=b([]);return k(new S,e,1),!v(e)}))&&a(T,{set:function(e,t){var n;return g(e)&&(v(e)?n=b:y(e)&&(n=E)),k(this,e,t),n&&n(e),this}})},73772:function(e,t,n){"use strict";n(65746)},5240:function(e,t,n){"use strict";n(16468)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(91625))},30958:function(e,t,n){"use strict";n(5240)},2945:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(97751),s=n(79504),a=n(69565),l=n(79039),c=n(655),u=n(22812),d=n(92804).c2i,f=/[^\d+/a-z]/i,h=/[\t\n\f\r ]+/g,A=/[=]{1,2}$/,p=o("atob"),g=String.fromCharCode,m=s("".charAt),v=s("".replace),y=s(f.exec),b=!!p&&!l((function(){return"hi"!==p("aGk=")})),E=b&&l((function(){return""!==p(" ")})),C=b&&!l((function(){p("a")})),w=b&&!l((function(){p()})),S=b&&1!==p.length;r({global:!0,bind:!0,enumerable:!0,forced:!b||E||C||w||S},{atob:function(e){if(u(arguments.length,1),b&&!E&&!C)return a(p,i,e);var t,n,r,s=v(c(e),h,""),l="",w=0,S=0;if(s.length%4==0&&(s=v(s,A,"")),(t=s.length)%4==1||y(f,s))throw new(o("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;w<t;)n=m(s,w++),r=S%4?64*r+d[n]:d[n],S++%4&&(l+=g(255&r>>(-2*S&6)));return l}})},42207:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(97751),s=n(79504),a=n(69565),l=n(79039),c=n(655),u=n(22812),d=n(92804).i2c,f=o("btoa"),h=s("".charAt),A=s("".charCodeAt),p=!!f&&!l((function(){return"aGk="!==f("hi")})),g=p&&!l((function(){f()})),m=p&&l((function(){return"bnVsbA=="!==f(null)})),v=p&&1!==f.length;r({global:!0,bind:!0,enumerable:!0,forced:!p||g||m||v},{btoa:function(e){if(u(arguments.length,1),p)return a(f,i,c(e));for(var t,n,r=c(e),s="",l=0,g=d;h(r,l)||(g="=",l%1);){if((n=A(r,l+=3/4))>255)throw new(o("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");s+=h(g,63&(t=t<<8|n)>>8-l%1*8)}return s}})},86368:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(59225).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},23500:function(e,t,n){"use strict";var r=n(44576),i=n(67400),o=n(79296),s=n(90235),a=n(66699),l=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in i)i[c]&&l(r[c]&&r[c].prototype);l(o)},62953:function(e,t,n){"use strict";var r=n(44576),i=n(67400),o=n(79296),s=n(23792),a=n(66699),l=n(10687),c=n(78227)("iterator"),u=s.values,d=function(e,t){if(e){if(e[c]!==u)try{a(e,c,u)}catch(t){e[c]=u}if(l(e,t,!0),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(o,"DOMTokenList")},55815:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(89429),s=n(79039),a=n(2360),l=n(6980),c=n(24913).f,u=n(36840),d=n(62106),f=n(39297),h=n(90679),A=n(28551),p=n(77536),g=n(32603),m=n(55002),v=n(16193),y=n(91181),b=n(43724),E=n(96395),C="DOMException",w="DATA_CLONE_ERR",S=i("Error"),T=i(C)||function(){try{(new(i("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name===w&&25===e.code)return e.constructor}}(),k=T&&T.prototype,x=S.prototype,L=y.set,I=y.getterFor(C),R="stack"in new S(C),D=function(e){return f(m,e)&&m[e].m?m[e].c:0},B=function(){h(this,P);var e=arguments.length,t=g(e<1?void 0:arguments[0]),n=g(e<2?void 0:arguments[1],"Error"),r=D(n);if(L(this,{type:C,name:n,message:t,code:r}),b||(this.name=n,this.message=t,this.code=r),R){var i=new S(t);i.name=C,c(this,"stack",l(1,v(i.stack,1)))}},P=B.prototype=a(x),O=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return O((function(){return I(this)[e]}))};b&&(d(P,"code",M("code")),d(P,"message",M("message")),d(P,"name",M("name"))),c(P,"constructor",l(1,B));var _=s((function(){return!(new T instanceof S)})),F=_||s((function(){return x.toString!==p||"2: 1"!==String(new T(1,2))})),N=_||s((function(){return 25!==new T(1,"DataCloneError").code})),U=_||25!==T[w]||25!==k[w],Q=E?F||N||U:_;r({global:!0,constructor:!0,forced:Q},{DOMException:Q?B:T});var G=i(C),j=G.prototype;for(var W in F&&(E||T===G)&&u(j,"toString",p),N&&b&&T===G&&d(j,"code",O((function(){return D(A(this).name)}))),m)if(f(m,W)){var z=m[W],H=z.s,Y=l(6,z.c);f(G,H)||c(G,H,Y),f(j,H)||c(j,H,Y)}},64979:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(97751),s=n(6980),a=n(24913).f,l=n(39297),c=n(90679),u=n(23167),d=n(32603),f=n(55002),h=n(16193),A=n(43724),p=n(96395),g="DOMException",m=o("Error"),v=o(g),y=function(){c(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new v(t,n),i=new m(t);return i.name=g,a(r,"stack",s(1,h(i.stack,1))),u(r,this,y),r},b=y.prototype=v.prototype,E="stack"in new m(g),C="stack"in new v(1,2),w=v&&A&&Object.getOwnPropertyDescriptor(i,g),S=!(!w||w.writable&&w.configurable),T=E&&!S&&!C;r({global:!0,constructor:!0,forced:p||T},{DOMException:T?y:v});var k=o(g),x=k.prototype;if(x.constructor!==k)for(var L in p||a(x,"constructor",s(1,k)),f)if(l(f,L)){var I=f[L],R=I.s;l(k,R)||a(k,R,s(6,I.c))}},79739:function(e,t,n){"use strict";var r=n(97751),i="DOMException";n(10687)(r(i),i)},59848:function(e,t,n){"use strict";n(86368),n(29309)},122:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(91955),s=n(79306),a=n(22812),l=n(79039),c=n(43724);r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:l((function(){return c&&1!==Object.getOwnPropertyDescriptor(i,"queueMicrotask").value.length}))},{queueMicrotask:function(e){a(arguments.length,1),o(s(e))}})},13611:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(62106),s=n(43724),a=TypeError,l=Object.defineProperty,c=i.self!==i;try{if(s){var u=Object.getOwnPropertyDescriptor(i,"self");!c&&u&&u.get&&u.enumerable||o(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new a("Illegal invocation");l(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:c},{self:i})}catch(e){}},29309:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(59225).set,s=n(79472),a=i.setImmediate?s(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},15575:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(79472)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},24599:function(e,t,n){"use strict";var r=n(46518),i=n(44576),o=n(79472)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},71678:function(e,t,n){"use strict";var r,i=n(96395),o=n(46518),s=n(44576),a=n(97751),l=n(79504),c=n(79039),u=n(33392),d=n(94901),f=n(33517),h=n(64117),A=n(20034),p=n(10757),g=n(72652),m=n(28551),v=n(36955),y=n(39297),b=n(97040),E=n(66699),C=n(26198),w=n(22812),S=n(61034),T=n(72248),k=n(94402),x=n(38469),L=n(94483),I=n(24659),R=n(1548),D=s.Object,B=s.Array,P=s.Date,O=s.Error,M=s.TypeError,_=s.PerformanceMark,F=a("DOMException"),N=T.Map,U=T.has,Q=T.get,G=T.set,j=k.Set,W=k.add,z=k.has,H=a("Object","keys"),Y=l([].push),V=l((!0).valueOf),K=l(1..valueOf),q=l("".valueOf),X=l(P.prototype.getTime),Z=u("structuredClone"),J="DataCloneError",$="Transferring",ee=function(e){return!c((function(){var t=new s.Set([7]),n=e(t),r=e(D(7));return n===t||!n.has(7)||!A(r)||7!=+r}))&&e},te=function(e,t){return!c((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},ne=s.structuredClone,re=i||!te(ne,O)||!te(ne,F)||(r=ne,!!c((function(){var e=r(new s.AggregateError([1],Z,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==Z||3!==e.cause}))),ie=!ne&&ee((function(e){return new _(Z,{detail:e}).detail})),oe=ee(ne)||ie,se=function(e){throw new F("Uncloneable type: "+e,J)},ae=function(e,t){throw new F((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",J)},le=function(e,t){return oe||ae(t),oe(e)},ce=function(e,t,n){if(U(t,e))return Q(t,e);var r,i,o,a,l,c;if("SharedArrayBuffer"===(n||v(e)))r=oe?oe(e):e;else{var u=s.DataView;u||d(e.slice)||ae("ArrayBuffer");try{if(d(e.slice)&&!e.resizable)r=e.slice(0);else{i=e.byteLength,o="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,r=new ArrayBuffer(i,o),a=new u(e),l=new u(r);for(c=0;c<i;c++)l.setUint8(c,a.getUint8(c))}}catch(e){throw new F("ArrayBuffer is detached",J)}}return G(t,e,r),r},ue=function(e,t){if(p(e)&&se("Symbol"),!A(e))return e;if(t){if(U(t,e))return Q(t,e)}else t=new N;var n,r,i,o,l,c,u,f,h=v(e);switch(h){case"Array":i=B(C(e));break;case"Object":i={};break;case"Map":i=new N;break;case"Set":i=new j;break;case"RegExp":i=new RegExp(e.source,S(e));break;case"Error":switch(r=e.name){case"AggregateError":i=new(a(r))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(a(r));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(a("WebAssembly",r));break;default:i=new O}break;case"DOMException":i=new F(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=ce(e,t,h);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===h?e.byteLength:e.length,i=function(e,t,n,r,i){var o=s[t];return A(o)||ae(t),new o(ce(e.buffer,i),n,r)}(e,h,e.byteOffset,c,t);break;case"DOMQuad":try{i=new DOMQuad(ue(e.p1,t),ue(e.p2,t),ue(e.p3,t),ue(e.p4,t))}catch(t){i=le(e,h)}break;case"File":if(oe)try{i=oe(e),v(i)!==h&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||ae(h);break;case"FileList":if(o=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(l=0,c=C(e);l<c;l++)o.items.add(ue(e[l],t));i=o.files}else i=le(e,h);break;case"ImageData":try{i=new ImageData(ue(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=le(e,h)}break;default:if(oe)i=oe(e);else switch(h){case"BigInt":i=D(e.valueOf());break;case"Boolean":i=D(V(e));break;case"Number":i=D(K(e));break;case"String":i=D(q(e));break;case"Date":i=new P(X(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){ae(h)}break;case"DOMPoint":case"DOMPointReadOnly":n=s[h];try{i=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(e){ae(h)}break;case"DOMRect":case"DOMRectReadOnly":n=s[h];try{i=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(e){ae(h)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=s[h];try{i=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(e){ae(h)}break;case"AudioData":case"VideoFrame":d(e.clone)||ae(h);try{i=e.clone()}catch(e){se(h)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ae(h);default:se(h)}}switch(G(t,e,i),h){case"Array":case"Object":for(u=H(e),l=0,c=C(u);l<c;l++)f=u[l],b(i,f,ue(e[f],t));break;case"Map":e.forEach((function(e,n){G(i,ue(n,t),ue(e,t))}));break;case"Set":e.forEach((function(e){W(i,ue(e,t))}));break;case"Error":E(i,"message",ue(e.message,t)),y(e,"cause")&&E(i,"cause",ue(e.cause,t)),"AggregateError"===r?i.errors=ue(e.errors,t):"SuppressedError"===r&&(i.error=ue(e.error,t),i.suppressed=ue(e.suppressed,t));case"DOMException":I&&E(i,"stack",ue(e.stack,t))}return i};o({global:!0,enumerable:!0,sham:!R,forced:re},{structuredClone:function(e){var t,n,r=w(arguments.length,1)>1&&!h(arguments[1])?m(arguments[1]):void 0,i=r?r.transfer:void 0;void 0!==i&&(n=function(e,t){if(!A(e))throw new M("Transfer option cannot be converted to a sequence");var n=[];g(e,(function(e){Y(n,m(e))}));for(var r,i,o,a,l,c=0,u=C(n),h=new j;c<u;){if(r=n[c++],"ArrayBuffer"===(i=v(r))?z(h,r):U(t,r))throw new F("Duplicate transferable",J);if("ArrayBuffer"!==i){if(R)a=ne(r,{transfer:[r]});else switch(i){case"ImageBitmap":o=s.OffscreenCanvas,f(o)||ae(i,$);try{(l=new o(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),a=l.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":d(r.clone)&&d(r.close)||ae(i,$);try{a=r.clone(),r.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":ae(i,$)}if(void 0===a)throw new F("This object cannot be transferred: "+i,J);G(t,r,a)}else W(h,r)}return h}(i,t=new N));var o=ue(e,t);return n&&function(e){x(e,(function(e){R?oe(e,{transfer:[e]}):d(e.transfer)?e.transfer():L?L(e):ae("ArrayBuffer",$)}))}(n),o}})},76031:function(e,t,n){"use strict";n(15575),n(24599)},98406:function(e,t,n){"use strict";n(23792),n(27337);var r=n(46518),i=n(44576),o=n(93389),s=n(97751),a=n(69565),l=n(79504),c=n(43724),u=n(67416),d=n(36840),f=n(62106),h=n(56279),A=n(10687),p=n(33994),g=n(91181),m=n(90679),v=n(94901),y=n(39297),b=n(76080),E=n(36955),C=n(28551),w=n(20034),S=n(655),T=n(2360),k=n(6980),x=n(70081),L=n(50851),I=n(62529),R=n(22812),D=n(78227),B=n(74488),P=D("iterator"),O="URLSearchParams",M=O+"Iterator",_=g.set,F=g.getterFor(O),N=g.getterFor(M),U=o("fetch"),Q=o("Request"),G=o("Headers"),j=Q&&Q.prototype,W=G&&G.prototype,z=i.TypeError,H=i.encodeURIComponent,Y=String.fromCharCode,V=s("String","fromCodePoint"),K=parseInt,q=l("".charAt),X=l([].join),Z=l([].push),J=l("".replace),$=l([].shift),ee=l([].splice),te=l("".split),ne=l("".slice),re=l(/./.exec),ie=/\+/g,oe=/^[0-9a-f]+$/i,se=function(e,t){var n=ne(e,t,t+2);return re(oe,n)?K(n,16):NaN},ae=function(e){for(var t=0,n=128;n>0&&e&n;n>>=1)t++;return t},le=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},ce=function(e){for(var t=(e=J(e,ie," ")).length,n="",r=0;r<t;){var i=q(e,r);if("%"===i){if("%"===q(e,r+1)||r+3>t){n+="%",r++;continue}var o=se(e,r+1);if(o!=o){n+=i,r++;continue}r+=2;var s=ae(o);if(0===s)i=Y(o);else{if(1===s||s>4){n+="\ufffd",r++;continue}for(var a=[o],l=1;l<s&&!(3+ ++r>t||"%"!==q(e,r));){var c=se(e,r+1);if(c!=c){r+=3;break}if(c>191||c<128)break;Z(a,c),r+=2,l++}if(a.length!==s){n+="\ufffd";continue}var u=le(a);null===u?n+="\ufffd":i=V(u)}}n+=i,r++}return n},ue=/[!'()~]|%20/g,de={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},fe=function(e){return de[e]},he=function(e){return J(H(e),ue,fe)},Ae=p((function(e,t){_(this,{type:M,target:F(e).entries,index:0,kind:t})}),O,(function(){var e=N(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,I(void 0,!0);var r=t[n];switch(e.kind){case"keys":return I(r.key,!1);case"values":return I(r.value,!1)}return I([r.key,r.value],!1)}),!0),pe=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?ne(e,1):e:S(e)))};pe.prototype={type:O,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,l,c=this.entries,u=L(e);if(u)for(n=(t=x(e,u)).next;!(r=a(n,t)).done;){if(o=(i=x(C(r.value))).next,(s=a(o,i)).done||(l=a(o,i)).done||!a(o,i).done)throw new z("Expected sequence with length 2");Z(c,{key:S(s.value),value:S(l.value)})}else for(var d in e)y(e,d)&&Z(c,{key:d,value:S(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=te(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(n=te(t,"="),Z(r,{key:ce($(n)),value:ce(X(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Z(n,he(e.key)+"="+he(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ge=function(){m(this,me);var e=_(this,new pe(arguments.length>0?arguments[0]:void 0));c||(this.size=e.entries.length)},me=ge.prototype;if(h(me,{append:function(e,t){var n=F(this);R(arguments.length,2),Z(n.entries,{key:S(e),value:S(t)}),c||this.length++,n.updateURL()},delete:function(e){for(var t=F(this),n=R(arguments.length,1),r=t.entries,i=S(e),o=n<2?void 0:arguments[1],s=void 0===o?o:S(o),a=0;a<r.length;){var l=r[a];if(l.key!==i||void 0!==s&&l.value!==s)a++;else if(ee(r,a,1),void 0!==s)break}c||(this.size=r.length),t.updateURL()},get:function(e){var t=F(this).entries;R(arguments.length,1);for(var n=S(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=F(this).entries;R(arguments.length,1);for(var n=S(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Z(r,t[i].value);return r},has:function(e){for(var t=F(this).entries,n=R(arguments.length,1),r=S(e),i=n<2?void 0:arguments[1],o=void 0===i?i:S(i),s=0;s<t.length;){var a=t[s++];if(a.key===r&&(void 0===o||a.value===o))return!0}return!1},set:function(e,t){var n=F(this);R(arguments.length,1);for(var r,i=n.entries,o=!1,s=S(e),a=S(t),l=0;l<i.length;l++)(r=i[l]).key===s&&(o?ee(i,l--,1):(o=!0,r.value=a));o||Z(i,{key:s,value:a}),c||(this.size=i.length),n.updateURL()},sort:function(){var e=F(this);B(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=F(this).entries,r=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Ae(this,"keys")},values:function(){return new Ae(this,"values")},entries:function(){return new Ae(this,"entries")}},{enumerable:!0}),d(me,P,me.entries,{name:"entries"}),d(me,"toString",(function(){return F(this).serialize()}),{enumerable:!0}),c&&f(me,"size",{get:function(){return F(this).entries.length},configurable:!0,enumerable:!0}),A(ge,O),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:ge}),!u&&v(G)){var ve=l(W.has),ye=l(W.set),be=function(e){if(w(e)){var t,n=e.body;if(E(n)===O)return t=e.headers?new G(e.headers):new G,ve(t,"content-type")||ye(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(e,{body:k(0,S(n)),headers:k(0,t)})}return e};if(v(U)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?be(arguments[1]):{})}}),v(Q)){var Ee=function(e){return m(this,j),new Q(e,arguments.length>1?be(arguments[1]):{})};j.constructor=Ee,Ee.prototype=j,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Ee})}}e.exports={URLSearchParams:ge,getState:F}},14603:function(e,t,n){"use strict";var r=n(36840),i=n(79504),o=n(655),s=n(22812),a=URLSearchParams,l=a.prototype,c=i(l.append),u=i(l.delete),d=i(l.forEach),f=i([].push),h=new a("a=1&a=2&b=3");h.delete("a",1),h.delete("b",void 0),h+""!="a=2"&&r(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var r=[];d(this,(function(e,t){f(r,{key:t,value:e})})),s(t,1);for(var i,a=o(e),l=o(n),h=0,A=0,p=!1,g=r.length;h<g;)i=r[h++],p||i.key===a?(p=!0,u(this,i.key)):A++;for(;A<g;)(i=r[A++]).key===a&&i.value===l||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},47566:function(e,t,n){"use strict";var r=n(36840),i=n(79504),o=n(655),s=n(22812),a=URLSearchParams,l=a.prototype,c=i(l.getAll),u=i(l.has),d=new a("a=1");!d.has("a",2)&&d.has("a",void 0)||r(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var r=c(this,e);s(t,1);for(var i=o(n),a=0;a<r.length;)if(r[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},48408:function(e,t,n){"use strict";n(98406)},98721:function(e,t,n){"use strict";var r=n(43724),i=n(79504),o=n(62106),s=URLSearchParams.prototype,a=i(s.forEach);r&&!("size"in s)&&o(s,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},2222:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(79039),s=n(22812),a=n(655),l=n(67416),c=i("URL"),u=l&&o((function(){c.canParse()})),d=o((function(){return 1!==c.canParse.length}));r({target:"URL",stat:!0,forced:!u||d},{canParse:function(e){var t=s(arguments.length,1),n=a(e),r=t<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new c(n,r)}catch(e){return!1}}})},45806:function(e,t,n){"use strict";n(47764);var r,i=n(46518),o=n(43724),s=n(67416),a=n(44576),l=n(76080),c=n(79504),u=n(36840),d=n(62106),f=n(90679),h=n(39297),A=n(44213),p=n(97916),g=n(67680),m=n(68183).codeAt,v=n(3717),y=n(655),b=n(10687),E=n(22812),C=n(98406),w=n(91181),S=w.set,T=w.getterFor("URL"),k=C.URLSearchParams,x=C.getState,L=a.URL,I=a.TypeError,R=a.parseInt,D=Math.floor,B=Math.pow,P=c("".charAt),O=c(/./.exec),M=c([].join),_=c(1..toString),F=c([].pop),N=c([].push),U=c("".replace),Q=c([].shift),G=c("".split),j=c("".slice),W=c("".toLowerCase),z=c([].unshift),H="Invalid scheme",Y="Invalid host",V="Invalid port",K=/[a-z]/i,q=/[\d+-.a-z]/i,X=/\d/,Z=/^0x/i,J=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,oe=/[\t\n\r]/g,se=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=D(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n?r:t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=_(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},le=A({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=A({},le,{"#":1,"?":1,"{":1,"}":1}),ue=A({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=m(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var n;return 2===e.length&&O(K,P(e,0))&&(":"===(n=P(e,1))||!t&&"|"===n)},Ae=function(e){var t;return e.length>1&&he(j(e,0,2))&&(2===e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===W(e)},ge={},me={},ve={},ye={},be={},Ee={},Ce={},we={},Se={},Te={},ke={},xe={},Le={},Ie={},Re={},De={},Be={},Pe={},Oe={},Me={},_e={},Fe=function(e,t,n){var r,i,o,s=y(e);if(t){if(i=this.parse(s))throw new I(i);this.searchParams=null}else{if(void 0!==n&&(r=new Fe(n,!0)),i=this.parse(s,null,r))throw new I(i);(o=x(new k)).bindURL(this),this.searchParams=o}};Fe.prototype={type:"URL",parse:function(e,t,n){var i,o,s,a,l,c=this,u=t||ge,d=0,f="",A=!1,m=!1,v=!1;for(e=y(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=U(e,re,""),e=U(e,ie,"$1")),e=U(e,oe,""),i=p(e);d<=i.length;){switch(o=i[d],u){case ge:if(!o||!O(K,o)){if(t)return H;u=ve;continue}f+=W(o),u=me;break;case me:if(o&&(O(q,o)||"+"===o||"-"===o||"."===o))f+=W(o);else{if(":"!==o){if(t)return H;f="",u=ve,d=0;continue}if(t&&(c.isSpecial()!==h(fe,f)||"file"===f&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&fe[c.scheme]===c.port&&(c.port=null));f="","file"===c.scheme?u=Ie:c.isSpecial()&&n&&n.scheme===c.scheme?u=ye:c.isSpecial()?u=we:"/"===i[d+1]?(u=be,d++):(c.cannotBeABaseURL=!0,N(c.path,""),u=Oe)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!==o)return H;if(n.cannotBeABaseURL&&"#"===o){c.scheme=n.scheme,c.path=g(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=_e;break}u="file"===n.scheme?Ie:Ee;continue;case ye:if("/"!==o||"/"!==i[d+1]){u=Ee;continue}u=Se,d++;break;case be:if("/"===o){u=Te;break}u=Pe;continue;case Ee:if(c.scheme=n.scheme,o===r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query;else if("/"===o||"\\"===o&&c.isSpecial())u=Ce;else if("?"===o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query="",u=Me;else{if("#"!==o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.path.length--,u=Pe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query,c.fragment="",u=_e}break;case Ce:if(!c.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Pe;continue}u=Te}else u=Se;break;case we:if(u=Se,"/"!==o||"/"!==P(f,d+1))continue;d++;break;case Se:if("/"!==o&&"\\"!==o){u=Te;continue}break;case Te:if("@"===o){A&&(f="%40"+f),A=!0,s=p(f);for(var b=0;b<s.length;b++){var E=s[b];if(":"!==E||v){var C=de(E,ue);v?c.password+=C:c.username+=C}else v=!0}f=""}else if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(A&&""===f)return"Invalid authority";d-=p(f).length+1,f="",u=ke}else f+=o;break;case ke:case xe:if(t&&"file"===c.scheme){u=De;continue}if(":"!==o||m){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(c.isSpecial()&&""===f)return Y;if(t&&""===f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",u=Be,t)return;continue}"["===o?m=!0:"]"===o&&(m=!1),f+=o}else{if(""===f)return Y;if(a=c.parseHost(f))return a;if(f="",u=Le,t===xe)return}break;case Le:if(!O(X,o)){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()||t){if(""!==f){var w=R(f,10);if(w>65535)return V;c.port=c.isSpecial()&&w===fe[c.scheme]?null:w,f=""}if(t)return;u=Be;continue}return V}f+=o;break;case Ie:if(c.scheme="file","/"===o||"\\"===o)u=Re;else{if(!n||"file"!==n.scheme){u=Pe;continue}switch(o){case r:c.host=n.host,c.path=g(n.path),c.query=n.query;break;case"?":c.host=n.host,c.path=g(n.path),c.query="",u=Me;break;case"#":c.host=n.host,c.path=g(n.path),c.query=n.query,c.fragment="",u=_e;break;default:Ae(M(g(i,d),""))||(c.host=n.host,c.path=g(n.path),c.shortenPath()),u=Pe;continue}}break;case Re:if("/"===o||"\\"===o){u=De;break}n&&"file"===n.scheme&&!Ae(M(g(i,d),""))&&(he(n.path[0],!0)?N(c.path,n.path[0]):c.host=n.host),u=Pe;continue;case De:if(o===r||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&he(f))u=Pe;else if(""===f){if(c.host="",t)return;u=Be}else{if(a=c.parseHost(f))return a;if("localhost"===c.host&&(c.host=""),t)return;f="",u=Be}continue}f+=o;break;case Be:if(c.isSpecial()){if(u=Pe,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==r&&(u=Pe,"/"!==o))continue}else c.fragment="",u=_e;else c.query="",u=Me;break;case Pe:if(o===r||"/"===o||"\\"===o&&c.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(l=W(l=f))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"===o||"\\"===o&&c.isSpecial()||N(c.path,"")):pe(f)?"/"===o||"\\"===o&&c.isSpecial()||N(c.path,""):("file"===c.scheme&&!c.path.length&&he(f)&&(c.host&&(c.host=""),f=P(f,0)+":"),N(c.path,f)),f="","file"===c.scheme&&(o===r||"?"===o||"#"===o))for(;c.path.length>1&&""===c.path[0];)Q(c.path);"?"===o?(c.query="",u=Me):"#"===o&&(c.fragment="",u=_e)}else f+=de(o,ce);break;case Oe:"?"===o?(c.query="",u=Me):"#"===o?(c.fragment="",u=_e):o!==r&&(c.path[0]+=de(o,ae));break;case Me:t||"#"!==o?o!==r&&("'"===o&&c.isSpecial()?c.query+="%27":c.query+="#"===o?"%23":de(o,ae)):(c.fragment="",u=_e);break;case _e:o!==r&&(c.fragment+=de(o,le))}d++}},parseHost:function(e){var t,n,r;if("["===P(e,0)){if("]"!==P(e,e.length-1))return Y;if(t=function(e){var t,n,r,i,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,f=function(){return P(e,d)};if(":"===f()){if(":"!==P(e,1))return;d+=2,u=++c}for(;f();){if(8===c)return;if(":"!==f()){for(t=n=0;n<4&&O(ee,f());)t=16*t+R(f(),16),d++,n++;if("."===f()){if(0===n)return;if(d-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."===f()&&r<4))return;d++}if(!O(X,f()))return;for(;O(X,f());){if(o=R(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++r&&4!==r||c++}if(4!==r)return;break}if(":"===f()){if(d++,!f())return}else if(f())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(s=c-u,c=7;0!==c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!==c)return;return l}(j(e,1,-1)),!t)return Y;this.host=t}else if(this.isSpecial()){if(e=v(e),O(te,e))return Y;if(t=function(e){var t,n,r,i,o,s,a,l=G(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=l[r]))return e;if(o=10,i.length>1&&"0"===P(i,0)&&(o=O(Z,i)?16:8,i=j(i,8===o?1:2)),""===i)s=0;else{if(!O(10===o?$:8===o?J:ee,i))return e;s=R(i,o)}N(n,s)}for(r=0;r<t;r++)if(s=n[r],r===t-1){if(s>=B(256,5-t))return null}else if(s>255)return null;for(a=F(n),r=0;r<n.length;r++)a+=n[r]*B(256,3-r);return a}(e),null===t)return Y;this.host=t}else{if(O(ne,e))return Y;for(t="",n=p(e),r=0;r<n.length;r++)t+=de(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return h(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=se(i),null!==o&&(c+=":"+o)):"file"===t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+M(s,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw new I(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Ne(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=p(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,xe)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=y(e))?this.port=null:this.parse(e,Le))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Be))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=y(e))?this.query=null:("?"===P(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=y(e))?("#"===P(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,_e)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ne=function(e){var t=f(this,Ue),n=E(arguments.length,1)>1?arguments[1]:void 0,r=S(t,new Fe(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ue=Ne.prototype,Qe=function(e,t){return{get:function(){return T(this)[e]()},set:t&&function(e){return T(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(Ue,"href",Qe("serialize","setHref")),d(Ue,"origin",Qe("getOrigin")),d(Ue,"protocol",Qe("getProtocol","setProtocol")),d(Ue,"username",Qe("getUsername","setUsername")),d(Ue,"password",Qe("getPassword","setPassword")),d(Ue,"host",Qe("getHost","setHost")),d(Ue,"hostname",Qe("getHostname","setHostname")),d(Ue,"port",Qe("getPort","setPort")),d(Ue,"pathname",Qe("getPathname","setPathname")),d(Ue,"search",Qe("getSearch","setSearch")),d(Ue,"searchParams",Qe("getSearchParams")),d(Ue,"hash",Qe("getHash","setHash"))),u(Ue,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),L){var Ge=L.createObjectURL,je=L.revokeObjectURL;Ge&&u(Ne,"createObjectURL",l(Ge,L)),je&&u(Ne,"revokeObjectURL",l(je,L))}b(Ne,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!o},{URL:Ne})},3296:function(e,t,n){"use strict";n(45806)},45781:function(e,t,n){"use strict";var r=n(46518),i=n(97751),o=n(22812),s=n(655),a=n(67416),l=i("URL");r({target:"URL",stat:!0,forced:!a},{parse:function(e){var t=o(arguments.length,1),n=s(e),r=t<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return new l(n,r)}catch(e){return null}}})},27208:function(e,t,n){"use strict";var r=n(46518),i=n(69565);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},84315:function(e,t,n){"use strict";n(52675),n(89463),n(66412),n(60193),n(92168),n(2259),n(86964),n(83142),n(83237),n(61833),n(67947),n(31073),n(45700),n(78125),n(20326),n(16280),n(76918),n(30067),n(4294),n(18107),n(28706),n(26835),n(88431),n(33771),n(2008),n(50113),n(48980),n(10838),n(13451),n(46449),n(78350),n(51629),n(23418),n(74423),n(25276),n(64346),n(23792),n(48598),n(8921),n(62062),n(31051),n(44114),n(72712),n(18863),n(94490),n(34782),n(15086),n(26910),n(87478),n(54554),n(9678),n(57145),n(71658),n(93514),n(30237),n(13609),n(11558),n(54743),n(46761),n(11745),n(38309),n(16573),n(78100),n(77936),n(61699),n(59089),n(91191),n(93515),n(1688),n(60739),n(89572),n(23288),n(36456),n(94170),n(48957),n(62010),n(55081),n(18111),n(29314),n(81148),n(22489),n(20116),n(30531),n(7588),n(49603),n(61701),n(18237),n(13579),n(54972),n(61806),n(33110),n(4731),n(36033),n(47072),n(93153),n(82326),n(36389),n(64444),n(8085),n(77762),n(65070),n(60605),n(39469),n(72152),n(75376),n(56624),n(11367),n(5914),n(78553),n(98690),n(60479),n(70761),n(2892),n(45374),n(25428),n(32637),n(40150),n(59149),n(64601),n(44435),n(87220),n(25843),n(62337),n(9868),n(80630),n(69085),n(59904),n(17427),n(67945),n(84185),n(87607),n(5506),n(52811),n(53921),n(83851),n(81278),n(1480),n(40875),n(77691),n(78347),n(29908),n(94052),n(94003),n(221),n(79432),n(9220),n(7904),n(93967),n(63548),n(93941),n(10287),n(26099),n(16034),n(78459),n(58940),n(3362),n(96167),n(93518),n(9391),n(31689),n(14628),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472),n(84864),n(57465),n(27495),n(69479),n(87745),n(90906),n(38781),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(67357),n(23860),n(99449),n(27337),n(21699),n(42043),n(47764),n(71761),n(28543),n(35701),n(68156),n(85906),n(42781),n(25440),n(79978),n(5746),n(90744),n(11392),n(50375),n(67438),n(42762),n(39202),n(43359),n(89907),n(11898),n(35490),n(5745),n(94298),n(60268),n(69546),n(20781),n(50778),n(89195),n(46276),n(48718),n(16308),n(34594),n(29833),n(46594),n(72107),n(95477),n(21489),n(22134),n(3690),n(61740),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(48345),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(52568),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(37467),n(44732),n(33684),n(79577),n(88267),n(73772),n(30958),n(2945),n(42207),n(23500),n(62953),n(55815),n(64979),n(79739),n(59848),n(122),n(13611),n(71678),n(76031),n(3296),n(2222),n(45781),n(27208),n(48408),n(14603),n(47566),n(98721),n(19167)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(84315),n(78624),n(4500).default}()},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},A={};function p(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(A,e)||!d.call(h,e)&&(f.test(e)?A[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var _,F=Object.assign;function N(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var U=!1;function Q(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function G(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1);case 11:return e=Q(e.type.render,!1);case 1:return e=Q(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case C:return"Portal";case T:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){Ae.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,we=null,Se=null;function Te(e){if(e=yi(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Ce(e.stateNode,e.type,t))}}function ke(e){we?Se?Se.push(e):Se=[e]:we=e}function xe(){if(we){var e=we,t=Se;if(Se=we=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Le(e,t){return e(t)}function Ie(){}var Re=!1;function De(e,t,n){if(Re)return e(t,n);Re=!0;try{return Le(e,t,n)}finally{Re=!1,(null!==we||null!==Se)&&(Ie(),xe())}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var _e=!1,Fe=null,Ne=!1,Ue=null,Qe={onError:function(e){_e=!0,Fe=e}};function Ge(e,t,n,r,i,o,s,a,l){_e=!1,Fe=null,Me.apply(Qe,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(je(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ze(i),e;if(s===r)return ze(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Ct,wt,St,Tt,kt=!1,xt=[],Lt=null,It=null,Rt=null,Dt=new Map,Bt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function _t(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Tt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Nt(e)&&n.delete(t)}function Qt(){kt=!1,null!==Lt&&Nt(Lt)&&(Lt=null),null!==It&&Nt(It)&&(It=null),null!==Rt&&Nt(Rt)&&(Rt=null),Dt.forEach(Ut),Bt.forEach(Ut)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function jt(e){function t(t){return Gt(t,e)}if(0<xt.length){Gt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Gt(Lt,e),null!==It&&Gt(It,e),null!==Rt&&Gt(Rt,e),Dt.forEach(t),Bt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Wt=b.ReactCurrentBatchConfig,zt=!0;function Ht(e,t,n,r){var i=yt,o=Wt.transition;Wt.transition=null;try{yt=1,Vt(e,t,n,r)}finally{yt=i,Wt.transition=o}}function Yt(e,t,n,r){var i=yt,o=Wt.transition;Wt.transition=null;try{yt=4,Vt(e,t,n,r)}finally{yt=i,Wt.transition=o}}function Vt(e,t,n,r){if(zt){var i=qt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Lt=_t(Lt,e,t,n,r,i),!0;case"dragenter":return It=_t(It,e,t,n,r,i),!0;case"mouseover":return Rt=_t(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,_t(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bt.set(o,_t(Bt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&Et(o),null===(o=qt(e,t,n,r))&&zr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function qt(e,t,n,r){if(Kt=null,null!==(e=vi(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),fn=on(dn),hn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),An=on(hn),pn=on(F({},hn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),mn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(vn),bn=on(F({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Tn(){return Sn}var kn=F({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(kn),Ln=on(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=on(Dn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var _n=u&&"TextEvent"in window&&!Mn,Fn=u&&(!On||Mn&&8<Mn&&11>=Mn),Nn=String.fromCharCode(32),Un=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Vn=null;function Kn(e){Nr(e,0)}function qn(e){if(V(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Vn=Yn=null)}function nr(e){if("value"===e.propertyName&&qn(Vn)){var t=[];Hn(t,Vn,e,Ee(e)),De(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Vn)}function or(e,t){if("click"===e)return qn(t)}function sr(e,t){if("input"===e||"change"===e)return qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ar(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Yr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},wr={},Sr={};function Tr(e){if(wr[e])return wr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return wr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var kr=Tr("animationend"),xr=Tr("animationiteration"),Lr=Tr("animationstart"),Ir=Tr("transitionend"),Rr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Rr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Br(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Br(kr,"onAnimationEnd"),Br(xr,"onAnimationIteration"),Br(Lr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ge.apply(this,arguments),_e){if(!_e)throw Error(o(198));var u=Fe;_e=!1,Fe=null,Ne||(Ne=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(Ne)throw e=Ue,Ne=!1,Ue=null,e}function Ur(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Gr]){e[Gr]=!0,s.forEach((function(t){"selectionchange"!==t&&(_r.has(t)||Qr(t,!1,e),Qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Qr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Yt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}De((function(){var r=o,i=Ee(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case kr:case xr:case Lr:l=mn;break;case Ir:l=Rn;break;case"scroll":l=fn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==a?a+"Capture":null:a;u=[];for(var h,A=r;null!==A;){var p=(h=A).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==f&&(null!=(p=Be(A,f))&&u.push(Hr(A,p,h)))),d)break;A=A.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[Ai])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=An,p="onMouseLeave",f="onMouseEnter",A="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ln,p="onPointerLeave",f="onPointerEnter",A="pointer"),d=null==l?a:bi(l),h=null==c?a:bi(c),(a=new u(p,A+"leave",l,n,i)).target=d,a.relatedTarget=h,p=null,vi(i)===r&&((u=new u(f,A+"enter",c,n,i)).target=h,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(f=c,A=0,h=u=l;h;h=Vr(h))A++;for(h=0,p=f;p;p=Vr(p))h++;for(;0<A-h;)u=Vr(u),A--;for(;0<h-A;)f=Vr(f),h--;for(;A--;){if(u===f||null!==f&&u===f.alternate)break e;u=Vr(u),f=Vr(f)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(zn(a))if(Zn)g=sr;else{g=ir;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?bi(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Qn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(v=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,jn=!0)),0<(m=Yr(r,y)).length&&(y=new bn(y,e,null,n,i),s.push({event:y,listeners:m}),v?y.data=v:null!==(v=Gn(n))&&(y.data=v))),(v=_n?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Un=!0,Nn);case"textInput":return(e=t.data)===Nn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&Qn(e,t)?(e=en(),$t=Jt=Zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Nr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Be(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Be(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Be(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,Ai="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,mi="__reactHandles$"+di;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ai]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[fi]||e[Ai])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[hi]||null}var Ci=[],wi=-1;function Si(e){return{current:e}}function Ti(e){0>wi||(e.current=Ci[wi],Ci[wi]=null,wi--)}function ki(e,t){wi++,Ci[wi]=e.current,e.current=t}var xi={},Li=Si(xi),Ii=Si(!1),Ri=xi;function Di(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ii),Ti(Li)}function Oi(e,t,n){if(Li.current!==xi)throw Error(o(168));ki(Li,t),ki(Ii,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return F({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ri=Li.current,ki(Li,e),ki(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ii),Ti(Li),ki(Li,e)):Ti(Ii),ki(Ii,n)}var Ni=null,Ui=!1,Qi=!1;function Gi(e){null===Ni?Ni=[e]:Ni.push(e)}function ji(){if(!Qi&&null!==Ni){Qi=!0;var e=0,t=yt;try{var n=Ni;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Ui=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ve($e,ji),i}finally{yt=t,Qi=!1}}return null}var Wi=[],zi=0,Hi=null,Yi=0,Vi=[],Ki=0,qi=null,Xi=1,Zi="";function Ji(e,t){Wi[zi++]=Yi,Wi[zi++]=Hi,Hi=e,Yi=t}function $i(e,t,n){Vi[Ki++]=Xi,Vi[Ki++]=Zi,Vi[Ki++]=qi,qi=e;var r=Xi;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Zi=o+e}else Xi=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--zi],Wi[zi]=null,Yi=Wi[--zi],Wi[zi]=null;for(;e===qi;)qi=Vi[--Ki],Vi[Ki]=null,Zi=Vi[--Ki],Vi[Ki]=null,Xi=Vi[--Ki],Vi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function Ao(){ro=no=null,io=!1}function po(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===B&&yo(o)===t.type)?((r=i(t,n.props)).ref=mo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=mo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case C:return(t=Nc(t,e.mode,n)).return=e,t;case B:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case B:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function A(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case B:return A(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function p(i,o,a,l){for(var c=null,u=null,d=o,p=o=0,g=null;null!==d&&p<a.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var m=h(i,d,a[p],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),o=s(m,o,p),null===u?c=m:u.sibling=m,u=m,d=g}if(p===a.length)return n(i,d),io&&Ji(i,p),c;if(null===d){for(;p<a.length;p++)null!==(d=f(i,a[p],l))&&(o=s(d,o,p),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,p),c}for(d=r(i,d);p<a.length;p++)null!==(g=A(d,i,p,a[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),o=s(g,o,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,p),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,p=a,g=a=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var y=h(i,p,v.value,c);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y,p=m}if(v.done)return n(i,p),io&&Ji(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=f(i,v.value,c))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(p=r(i,p);!v.done;g++,v=l.next())null!==(v=A(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===w){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===B&&yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=mo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===w?((o=Mc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=mo(r,o,s),l.return=r,r=l)}return a(r);case C:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nc(s,r.mode,l)).return=r,r=o}return a(r);case B:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return p(r,o,s,l);if(M(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Eo=bo(!0),Co=bo(!1),wo=Si(null),So=null,To=null,ko=null;function xo(){ko=To=So=null}function Lo(e){var t=wo.current;Ti(wo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){So=e,ko=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Do(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===So)throw Error(o(308));To=e,So.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Bo=null;function Po(e){null===Bo?Bo=[e]:Bo.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var _o=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ll)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Go(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;_o=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=a.lane,h=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=e,p=a;switch(f=t,h=n,p.tag){case 1:if("function"===typeof(A=p.payload)){d=A.call(h,d,f);break e}d=A;break e;case 3:A.flags=-65537&A.flags|128;case 0:if(null===(f="function"===typeof(A=p.payload)?A.call(h,d,f):A)||void 0===f)break e;d=F({},d,f);break e;case 2:_o=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);_l|=s,e.lanes=s,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Yo=Si(Ho),Vo=Si(Ho),Ko=Si(Ho);function qo(e){if(e===Ho)throw Error(o(174));return e}function Xo(e,t){switch(ki(Ko,t),ki(Vo,e),ki(Yo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Yo),ki(Yo,t)}function Zo(){Ti(Yo),Ti(Vo),Ti(Ko)}function Jo(e){qo(Ko.current);var t=qo(Yo.current),n=le(t,e.type);t!==n&&(ki(Vo,e),ki(Yo,n))}function $o(e){Vo.current===e&&(Ti(Yo),Ti(Vo))}var es=Si(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,fs=0,hs=0;function As(){throw Error(o(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?$s:ea,e=n(r,i),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function ms(){var e=0!==fs;return fs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ys(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,a=r):c=c.next=f,as.lanes|=d,_l|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,_l|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cs(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ws(){}function Ss(e,t){var n=as,r=ys(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ya=!0),r=r.queue,_s(xs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ds(9,ks.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ss)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Is(e)}function xs(e,t,n){return n((function(){Ls(t)&&Is(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bs(){return ys().memoizedState}function Ps(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Ds(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=ys();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ps(r,s.deps))return void(i.memoizedState=Ds(t,n,o,r))}as.flags|=e,i.memoizedState=Ds(1|t,n,o,r)}function Ms(e,t){return Ps(8390656,8,e,t)}function _s(e,t){return Os(2048,8,e,t)}function Fs(e,t){return Os(4,2,e,t)}function Ns(e,t){return Os(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Us.bind(null,t,e),n)}function Gs(){}function js(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=n):(ar(n,t)||(n=pt(),as.lanes|=n,_l|=n,e.baseState=!0),t)}function Hs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function Ys(){return ys().memoizedState}function Vs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e))Xs(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Zs(n,t,r)}}function Ks(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Zs(n,t,r))}}function qs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Js={readContext:Do,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},$s={readContext:Do,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Do,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Rs,useDebugValue:Gs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ss)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ms(xs.bind(null,r,s,e),[e]),r.flags|=2048,Ds(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Il.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Do,useCallback:js,useContext:Do,useEffect:_s,useImperativeHandle:Qs,useInsertionEffect:Fs,useLayoutEffect:Ns,useMemo:Ws,useReducer:Es,useRef:Bs,useState:function(){return Es(bs)},useDebugValue:Gs,useDeferredValue:function(e){return zs(ys(),ls.memoizedState,e)},useTransition:function(){return[Es(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:Ys,unstable_isNewReconciler:!1},ta={readContext:Do,useCallback:js,useContext:Do,useEffect:_s,useImperativeHandle:Qs,useInsertionEffect:Fs,useLayoutEffect:Ns,useMemo:Ws,useReducer:Cs,useRef:Bs,useState:function(){return Cs(bs)},useDebugValue:Gs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:zs(t,ls.memoizedState,e)},useTransition:function(){return[Cs(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:Ys,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,i))&&(nc(t,e,i,r),Go(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,i))&&(nc(t,e,i,r),Go(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qo(e,i,r))&&(nc(t,e,r,n),Go(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Do(o):(i=Bi(t)?Ri:Li.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Do(o):(o=Bi(t)?Ri:Li.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,Hl=r),da(0,t)},n}function Aa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Qo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,ya=!1;function ba(e,t,n,r){t.child=null===e?Co(t,null,n,r):Eo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=gs(e,t,n,r,o,i),n=ms(),null===e||ya?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,za(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Bc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,wa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return za(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function wa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ya=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,za(e,t,i);0!==(131072&e.flags)&&(ya=!0)}}return ka(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Pl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Pl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Pl,Bl),Bl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Pl,Bl),Bl|=r;return ba(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var o=Bi(n)?Ri:Li.current;return o=Di(t,o),Ro(t,i),n=gs(e,t,n,r,o,i),r=ms(),null===e||ya?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,za(e,t,i))}function xa(e,t,n,r,i){if(Bi(n)){var o=!0;_i(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Wa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Do(c):c=Di(t,c=Bi(n)?Ri:Li.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),_o=!1;var f=t.memoizedState;s.state=f,Wo(t,r,s,i),l=t.memoizedState,a!==r||f!==l||Ii.current||_o?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=_o||oa(t,n,a,r,f,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,No(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Do(l):l=Di(t,l=Bi(n)?Ri:Li.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||f!==l)&&aa(t,s,r,l),_o=!1,f=t.memoizedState,s.state=f,Wo(t,r,s,i);var A=t.memoizedState;a!==d||f!==A||Ii.current||_o?("function"===typeof h&&(ra(t,n,h,r),A=t.memoizedState),(c=_o||oa(t,n,c,r,f,A,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,A,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,A,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),s.props=r,s.state=A,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return La(e,t,n,r,o,i)}function La(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),za(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xo(e,t.containerInfo)}function Ra(e,t,n,r,i){return Ao(),po(i),t.flags|=256,ba(e,t,n,r),t.child}var Da,Ba,Pa,Oa,Ma={dehydrated:null,treeContext:null,retryLane:0};function _a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ki(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=_c(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_a(n),t.memoizedState=Ma,e):Na(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=_c({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Eo(t,e.child,null,a),t.child.memoizedState=_a(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ya||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return pc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Vi[Ki++]=Xi,Vi[Ki++]=Zi,Vi[Ki++]=qi,Xi=e.id,Zi=e.overflow,qi=t),t=Na(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?_a(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Na(e,t){return(t=_c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&po(r),Eo(t,e.child,null,n),(e=Na(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ga(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n,t);else if(19===e.tag)Qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_l|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Va(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Bi(t.type)&&Pi(),Ya(t),null;case 3:return r=t.stateNode,Zo(),Ti(Ii),Ti(Li),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ba(e,t),Ya(t),null;case 5:$o(t);var i=qo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ya(t),null}if(e=qo(Yo.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[hi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":Y(r),$(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":Y(e),$(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=qo(Ko.current),qo(Yo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ya(t),null;case 13:if(Ti(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),Ao(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else Ao(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return Zo(),Ba(e,t),null===e&&jr(t.stateNode.containerInfo),Ya(t),null;case 10:return Lo(t.type._context),Ya(t),null;case 19:if(Ti(es),null===(s=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>jl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ya(t),null}else 2*Ze()-s.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,ki(es,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ka(e,t){switch(to(t),t.tag){case 1:return Bi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Ti(Ii),Ti(Li),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(Ti(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Ao()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(es),null;case 4:return Zo(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qo(Yo.current);var o,s=null;switch(n){case"input":i=q(e,i),r=q(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var qa=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Ja=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||$a(n,t);case 6:var r=ul,i=dl;ul=null,fl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function Al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));hl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(i,s),ye(l,a);var u=ye(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):y(i,d,f,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var A=s.value;null!=A?ne(i,!!s.multiple,A,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[hi]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Gl=Ze())),4&r&&Al(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,pl(t,e),Xa=u):pl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(f=Ja=d;null!==Ja;){switch(A=(h=Ja).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$a(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:$a(h,h.return);break;case 22:if(null!==h.memoizedState){El(f);continue}}null!==A?(A.return=h,Ja=A):El(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,a=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pl(t,e),ml(e),4&r&&Al(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||qa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=qa;var c=Xa;if(qa=s,(Xa=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Cl(i):null!==l?(l.return=s,Ja=l):Cl(i);for(;null!==o;)Ja=o,yl(o,t,n),o=o.sibling;Ja=i,qa=a,Xa=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&il(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Cl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var wl,Sl=Math.ceil,Tl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Ll=0,Il=null,Rl=null,Dl=0,Bl=0,Pl=Si(0),Ol=0,Ml=null,_l=0,Fl=0,Nl=0,Ul=null,Ql=null,Gl=0,jl=1/0,Wl=null,zl=!1,Hl=null,Yl=null,Vl=!1,Kl=null,ql=0,Xl=0,Zl=null,Jl=-1,$l=0;function ec(){return 0!==(6&Ll)?Ze():-1!==Jl?Jl:Jl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Dl?Dl&-Dl:null!==go.transition?(0===$l&&($l=pt()),$l):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(o(185));mt(e,n,r),0!==(2&Ll)&&e===Il||(e===Il&&(0===(2&Ll)&&(Fl|=n),4===Ol&&ac(e,Dl)),rc(e,r),1===n&&0===Ll&&0===(1&t.mode)&&(jl=Ze()+500,Ui&&ji()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ht(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ft(e,e===Il?Dl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Gi(e)}(lc.bind(null,e)):Gi(lc.bind(null,e)),si((function(){0===(6&Ll)&&ji()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,$l=0,0!==(6&Ll))throw Error(o(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ft(e,e===Il?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ll;Ll|=2;var s=Ac();for(Il===e&&Dl===t||(Wl=null,jl=Ze()+500,fc(e,t));;)try{vc();break}catch(l){hc(e,l)}xo(),Tl.current=s,Ll=i,null!==Rl?t=0:(Il=null,Dl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=At(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),ac(e,r),rc(e,Ze()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=At(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ml,fc(e,0),ac(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Ql,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Gl+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Ql,Wl),t);break}Ec(e,Ql,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Ql,Wl),r);break}Ec(e,Ql,Wl);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ql,Ql=n,null!==t&&sc(t)),e}function sc(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function ac(e,t){for(t&=~Nl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ll))throw Error(o(327));Cc();var t=ft(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=At(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),ac(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Ql,Wl),rc(e,Ze()),null}function cc(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(jl=Ze()+500,Ui&&ji())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Ll)&&Cc();var t=Ll;Ll|=1;var n=xl.transition,r=yt;try{if(xl.transition=null,yt=1,e)return e()}finally{yt=r,xl.transition=n,0===(6&(Ll=t))&&ji()}}function dc(){Bl=Pl.current,Ti(Pl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Zo(),Ti(Ii),Ti(Li),rs();break;case 5:$o(r);break;case 4:Zo();break;case 13:case 19:Ti(es);break;case 10:Lo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Rl=e=Pc(e.current,null),Dl=Bl=t,Ol=0,Ml=null,Nl=Fl=_l=0,Ql=Ul=null,null!==Bo){for(t=0;t<Bo.length;t++)if(null!==(r=(n=Bo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Bo=null}return e}function hc(e,t){for(;;){var n=Rl;try{if(xo(),is.current=Js,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,fs=0,kl.current=null,null===n||null===n.return){Ol=1,Ml=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var A=ga(a);if(null!==A){A.flags&=-257,ma(A,a,l,0,t),1&A.mode&&pa(s,u,t),c=u;var p=(t=A).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pa(s,u,t),pc();break e}c=Error(o(426))}else if(io&&1&l.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),po(ca(c,l));break e}}s=c=ca(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ha(0,c,t));break e;case 1:l=c;var v=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Yl||!Yl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,Aa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function Ac(){var e=Tl.current;return Tl.current=Js,null===e?Js:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Il||0===(268435455&_l)&&0===(268435455&Fl)||ac(Il,Dl)}function gc(e,t){var n=Ll;Ll|=2;var r=Ac();for(Il===e&&Dl===t||(Wl=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(xo(),Ll=n,Tl.current=r,null!==Rl)throw Error(o(261));return Il=null,Dl=0,Ol}function mc(){for(;null!==Rl;)yc(Rl)}function vc(){for(;null!==Rl&&!qe();)yc(Rl)}function yc(e){var t=wl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,kl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Va(n,t,Bl)))return void(Rl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,n){var r=yt,i=xl.transition;try{xl.transition=null,yt=1,function(e,t,n,r){do{Cc()}while(null!==Kl);if(0!==(6&Ll))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Il&&(Rl=Il=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vl||(Vl=!0,Ic(tt,(function(){return Cc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xl.transition,xl.transition=null;var a=yt;yt=1;var l=Ll;Ll|=4,kl.current=null,function(e,t){if(ei=zt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var A;f!==n||0!==i&&3!==f.nodeType||(l=a+i),f!==s||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(A=f.firstChild);)h=f,f=A;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=a),h===s&&++d===r&&(c=a),null!==(A=f.nextSibling))break;h=(f=h).parentNode}f=A}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(E){Sc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}p=tl,tl=!1}(e,n),gl(n,e),Ar(ti),zt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Ll=l,yt=a,xl.transition=s}else e.current=n;if(Vl&&(Vl=!1,Kl=e,ql=i),s=e.pendingLanes,0===s&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=Hl,Hl=null,e;0!==(1&ql)&&0!==e.tag&&Cc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,ji()}(e,t,n,r)}finally{xl.transition=i,yt=r}return null}function Cc(){if(null!==Kl){var e=bt(ql),t=xl.transition,n=yt;try{if(xl.transition=null,yt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,ql=0,0!==(6&Ll))throw Error(o(331));var i=Ll;for(Ll|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Ja=f;else for(;null!==Ja;){var h=(d=Ja).sibling,A=d.return;if(ol(d),d===u){Ja=null;break}if(null!==h){h.return=A,Ja=h;break}Ja=A}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ja=v;break e}Ja=s.return}}var y=e.current;for(Ja=y;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=y;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(C){Sc(l,l.return,C)}if(l===a){Ja=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ja=E;break e}Ja=l.return}}if(Ll=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{yt=n,xl.transition=t}}return!1}function wc(e,t,n){e=Qo(e,t=ha(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Qo(t,e=Aa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Dl&n)===n&&(4===Ol||3===Ol&&(130023424&Dl)===Dl&&500>Ze()-Gl?fc(e,0):Nl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(mt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Ic(e,t){return Ve(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case w:return Mc(n.children,i,s,t);case S:a=8,i|=8;break;case T:return(e=Dc(12,n,t,2|i)).elementType=T,e.lanes=s,e;case I:return(e=Dc(13,n,t,i)).elementType=I,e.lanes=s,e;case R:return(e=Dc(19,n,t,i)).elementType=R,e.lanes=s,e;case P:return _c(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case x:a=9;break e;case L:a=11;break e;case D:a=14;break e;case B:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function _c(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Gc(e){if(!e)return xi;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Bi(n))return Mi(e,n,t)}return t}function jc(e,t,n,r,i,o,s,a,l){return(e=Qc(n,r,!0,e,0,o,0,a,l)).context=Gc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Qo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qo(i,t,s))&&(nc(e,i,s,o),Go(e,i,s)),s}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),Ao();break;case 5:Jo(t);break;case 1:Bi(t.type)&&_i(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(wo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(es,1&es.current),null!==(e=za(e,t,n))?e.sibling:null);ki(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ja(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return za(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,io&&0!==(1048576&t.flags)&&$i(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Di(t,Li.current);Ro(t,n),i=gs(null,t,r,e,i,n);var s=ms();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)?(s=!0,_i(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=La(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===D)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,No(e,t),Wo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ao(),r===i){t=za(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ta(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ki(wo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=za(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Do(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ca(e,t,r,i=na(r.type,i),n);case 15:return wa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Wa(e,t),t.tag=1,Bi(r)?(e=!0,_i(t)):e=!1,Ro(t,n),sa(t,r,i),la(t,r,i,n),La(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 22:return Sa(e,t,n)}throw Error(o(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=zc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=zc(s);o.call(e)}}var s=jc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[Ai]=s.current,jr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=zc(l);a.call(e)}}var l=Qc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[Ai]=l.current,jr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return zc(s)}qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[Ai]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),0===(6&Ll)&&(jl=Ze()+500,ji()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Yc(e,1)}},Ct=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},St=function(){return yt},Tt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ce=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));V(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Le=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[yi,bi,Ei,ke,xe,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,i),e[Ai]=t.current,jr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,s,a),e[Ai]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ai]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),o=n(950),s=n.t(o,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?A(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function A(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,u=o.history,A=e.Pop,p=null,g=m();function m(){return(u.state||{idx:null}).idx}function v(){A=e.Pop;let t=m(),n=null==t?null:t-g;g=t,p&&p({action:A,location:b.location,delta:n})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let b={get action(){return A},get location(){return t(o,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(l,v),p=e,()=>{o.removeEventListener(l,v),p=null}},createHref:e=>n(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){A=e.Push;let i=f(b.location,t,n);r&&r(i,t),g=m()+1;let a=d(i,g),l=b.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&p&&p({action:A,location:b.location,delta:1})},replace:function(t,n){A=e.Replace;let i=f(b.location,t,n);r&&r(i,t),g=m();let o=d(i,g),a=b.createHref(i);u.replaceState(o,"",a),s&&p&&p({action:A,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=B(("string"===typeof t?A(t):t).pathname||"/",n);if(null==i)return null;let o=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=D(i);s=I(o[a],e,r)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=P([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:L(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,C=3,w=2,S=1,T=10,k=-2,x=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=k),t&&(r+=w),n.filter((e=>!x(e))).reduce(((e,t)=>e+(E.test(t)?C:""===t?S:T)),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:P([o,u.pathname]),pathnameBase:O(P([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=P([o,u.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const P=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const _=["post","put","patch","delete"],F=(new Set(_),["get",..._]);new Set(F),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}const U=t.createContext(null);const Q=t.createContext(null);const G=t.createContext(null);const j=t.createContext(null);const W=t.createContext({outlet:null,matches:[],isDataRoute:!1});const z=t.createContext(null);function H(){return null!=t.useContext(j)}function Y(){return H()||c(!1),t.useContext(j).location}function V(n,r,i,o){H()||c(!1);let{navigator:s}=t.useContext(G),{matches:a}=t.useContext(W),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let f,h=Y();if(r){var p;let e="string"===typeof r?A(r):r;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||c(!1),f=e}else f=h;let g=f.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=m(n,{pathname:v});let b=J(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:P([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:P([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,o);return r&&b?t.createElement(j.Provider,{value:{location:N({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},b):b}function K(){let e=function(){var e;let n=t.useContext(z),r=ee($.UseRouteError),i=te($.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=M(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const q=t.createElement(K,null);class X extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(W.Provider,{value:this.props.routeContext},t.createElement(z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(U);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(W.Provider,{value:n},i)}function J(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,c=!1,f=null,h=null;var A;r&&(s=l&&i.route.id?l[i.route.id]:void 0,f=i.route.errorElement||q,u&&(d<0&&0===o?(A="route-fallback",!1||ne[A]||(ne[A]=!0),c=!0,h=null):d===o&&(c=!0,h=i.route.hydrateFallbackElement||null)));let p=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?f:c?h:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Z,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(X,{location:r.location,revalidation:r.revalidation,component:f,error:s,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var $=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($||{});function ee(e){let n=t.useContext(Q);return n||c(!1),n}function te(e){let n=function(){let e=t.useContext(W);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const ne={};function re(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ie(e){c(!1)}function oe(n){let{basename:r="/",children:i=null,location:o,navigationType:s=e.Pop,navigator:a,static:l=!1,future:u}=n;H()&&c(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:d,navigator:a,static:l,future:N({v7_relativeSplatPath:!1},u)})),[d,u,a,l]);"string"===typeof o&&(o=A(o));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:v="default"}=o,y=t.useMemo((()=>{let e=B(h,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:s}}),[d,h,p,g,m,v,s]);return null==y?null:t.createElement(G.Provider,{value:f},t.createElement(j.Provider,{children:i,value:y}))}function se(e){let{children:t,location:n}=e;return V(ae(t),n)}new Promise((()=>{}));t.Component;function ae(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ae(e.props.children,o));e.type!==ie&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ae(e.props.children,o)),r.push(s)})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Zl){}new Map;const le=r.startTransition;s.flushSync,r.useId;function ce(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},A=t.useCallback((e=>{d&&le?le((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(A)),[l,A]),t.useEffect((()=>re(i)),[i]),t.createElement(oe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ue,de;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ue||(ue={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(de||(de={}));function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function he(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:t+""}function Ae(e,t,n){return(t=he(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=n(245),ve=n.n(me);const ye=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},be=Number.isSafeInteger||function(e){return"number"===typeof e&&Math.abs(e)<=Ee},Ee=Number.MAX_SAFE_INTEGER||9007199254740991;let Ce=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),we=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",e.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",e.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.ASSET_LIST_LOAD_ERROR="assetListLoadError",e.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",e.ASSET_LIST_PARSING_ERROR="assetListParsingError",e.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.ATTACH_MEDIA_ERROR="attachMediaError",e.UNKNOWN="unknown",e}({}),Se=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.MEDIA_ENDED="hlsMediaEnded",e.STALL_RESOLVED="hlsStallResolved",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFERED_TO_END="hlsBufferedToEnd",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e.ASSET_LIST_LOADING="hlsAssetListLoading",e.ASSET_LIST_LOADED="hlsAssetListLoaded",e.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",e.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",e.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",e.INTERSTITIAL_STARTED="hlsInterstitialStarted",e.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",e.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",e.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",e.INTERSTITIAL_ENDED="hlsInterstitialEnded",e.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",e.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",e.EVENT_CUE_ENTER="hlsEventCueEnter",e}({});var Te="manifest",ke="level",xe="audioTrack",Le="subtitleTrack",Ie="main",Re="audio",De="subtitle";class Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Pe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Be(e),this.fast_=new Be(t),this.defaultTTFB_=r,this.ttfb_=new Be(e)}update(e,t){const{slow_:n,fast_:r,ttfb_:i}=this;n.halfLife!==e&&(this.slow_=new Be(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.fast_=new Be(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new Be(e,i.getEstimate(),i.getTotalWeight()))}sample(e,t){const n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function Oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(null,arguments)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ne{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n="[".concat(e,"]:");this.trace=Ue,this.debug=t.debug.bind(null,n),this.log=t.log.bind(null,n),this.warn=t.warn.bind(null,n),this.info=t.info.bind(null,n),this.error=t.error.bind(null,n)}}const Ue=function(){},Qe={trace:Ue,debug:Ue,log:Ue,warn:Ue,info:Ue,error:Ue};function Ge(){return Me({},Qe)}function je(e,t,n){return t[e]?t[e].bind(t):function(e,t){const n=self.console[e];return n?n.bind(self.console,"".concat(t?"["+t+"] ":"","[").concat(e,"] >")):Ue}(e,n)}const We=Ge();const ze=We;function He(){if("undefined"===typeof self)return;return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Ye(e,t){const n=Object.keys(e),r=Object.keys(t),i=n.length,o=r.length;return!i||!o||i===o&&!n.some((e=>-1===r.indexOf(e)))}function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"!==typeof TextDecoder){const n=new TextDecoder("utf-8").decode(e);if(t){const e=n.indexOf("\0");return-1!==e?n.substring(0,e):n}return n.replace(/\0/g,"")}const n=e.length;let r,i,o,s="",a=0;for(;a<n;){if(r=e[a++],0===r&&t)return s;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:i=e[a++],s+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=e[a++],o=e[a++],s+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o)}}return s}const Ke=function(e){let t="";for(let n=0;n<e.length;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+=r}return t};function qe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xe,Ze={exports:{}};var Je=function(){return Xe||(Xe=1,e=Ze,function(){var t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return r.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+s.path;c.path=o.normalizePath(d)}else c.path=a.path,s.params||(c.params=a.params,s.query||(c.query=a.query));return null===c.path&&(c.path=r.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(c)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()),Ze.exports;var e}();class $e{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var et="audio",tt="video",nt="audiovideo";class rt{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,"string"===typeof e&&(e={url:e}),this.base=e,function(e,t){const n=at(e,t);n&&(n.enumerable=!0,Object.defineProperty(e,t,n))}(this,"stats")}setByteRange(e,t){const n=e.split("@",2);let r;r=1===n.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get baseurl(){return this.base.url}get byteRange(){return null===this._byteRange?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return null===this._streams&&(this._streams={[et]:null,[tt]:null,[nt]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return null!==this._stats}get hasStreams(){return null!==this._streams}get stats(){return null===this._stats&&(this._stats=new $e),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Je.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[et]=null,e[tt]=null,e[nt]=null}}function it(e){return"initSegment"!==e.sn}class ot extends rt{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],t=this.byteRange[1];if(ye(e)&&ye(t))return t-e}return null}get bitrate(){return this.byteLength?8*this.byteLength/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;const e=ye(this.duration)?this.duration:0;return this.programDateTime+1e3*e}get encrypted(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),t=e.length;if(t>1||1===t&&this.levelkeys[e[0]].encrypted)return!0}return!1}get programDateTime(){return null===this._programDateTime&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){ye(e)?this._programDateTime=e:this._programDateTime=this.rawProgramDateTime=null}get ref(){return it(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{elementaryStreams:s}=this,a=s[e];a?(a.startPTS=Math.min(a.startPTS,t),a.endPTS=Math.max(a.endPTS,n),a.startDTS=Math.min(a.startDTS,r),a.endDTS=Math.max(a.endDTS,i)):s[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:o}}}class st extends rt{constructor(e,t,n,r,i){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=r;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function at(e,t){const n=Object.getPrototypeOf(e);if(n){const e=Object.getOwnPropertyDescriptor(n,t);return e||at(n,t)}}const lt=Math.pow(2,32)-1,ct=[].push,ut={video:1,audio:2,id3:3,text:4};function dt(e){return String.fromCharCode.apply(null,e)}function ft(e,t){const n=e[t]<<8|e[t+1];return n<0?65536+n:n}function ht(e,t){const n=pt(e,t);return n<0?4294967296+n:n}function At(e,t){let n=ht(e,t);return n*=Math.pow(2,32),n+=ht(e,t+4),n}function pt(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function gt(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function mt(e,t){const n=[];if(!t.length)return n;const r=e.byteLength;for(let i=0;i<r;){const o=ht(e,i),s=o>1?i+o:r;if(dt(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,s));else{const r=mt(e.subarray(i+8,s),t.slice(1));r.length&&ct.apply(n,r)}i=s}return n}function vt(e){const t=[],n=e[0];let r=8;const i=ht(e,r);r+=4;let o=0,s=0;0===n?(o=ht(e,r),s=ht(e,r+4),r+=8):(o=At(e,r),s=At(e,r+8),r+=16),r+=2;let a=e.length+s;const l=ft(e,r);r+=2;for(let c=0;c<l;c++){let n=r;const o=ht(e,n);n+=4;const s=2147483647&o;if(1===(2147483648&o)>>>31)return ze.warn("SIDX has hierarchical references (not supported)"),null;const l=ht(e,n);n+=4,t.push({referenceSize:s,subsegmentDuration:l,info:{duration:l/i,start:a,end:a+s-1}}),a+=s,n+=4,r=n}return{earliestPresentationTime:o,timescale:i,version:n,referencesCount:l,references:t}}function yt(e){const t=[],n=mt(e,["moov","trak"]);for(let r=0;r<n.length;r++){const e=n[r],i=mt(e,["tkhd"])[0];if(i){let n=i[0];const r=ht(i,0===n?12:20),o=mt(e,["mdia","mdhd"])[0];if(o){n=o[0];const i=ht(o,0===n?12:20),s=mt(e,["mdia","hdlr"])[0];if(s){const n=dt(s.subarray(8,12)),o={soun:et,vide:tt}[n],a=bt(mt(e,["mdia","minf","stbl","stsd"])[0]);o?(t[r]={timescale:i,type:o,stsd:a},t[o]=Fe({timescale:i,id:r},a)):t[r]={timescale:i,type:n,stsd:a}}}}}return mt(e,["moov","mvex","trex"]).forEach((e=>{const n=ht(e,4),r=t[n];r&&(r.default={duration:ht(e,12),flags:ht(e,20)})})),t}function bt(e){const t=e.subarray(8),n=t.subarray(86),r=dt(t.subarray(4,8));let i,o=r;const s="enca"===r||"encv"===r;if(s){const e=mt(t,[r])[0];mt(e.subarray("enca"===r?28:78),["sinf"]).forEach((e=>{const t=mt(e,["schm"])[0];if(t){const n=dt(t.subarray(4,8));if("cbcs"===n||"cenc"===n){const t=mt(e,["frma"])[0];t&&(o=dt(t))}}}))}const a=o;switch(o){case"avc1":case"avc2":case"avc3":case"avc4":{const e=mt(n,["avcC"])[0];e&&e.length>3&&(o+="."+wt(e[1])+wt(e[2])+wt(e[3]),i=Et("avc1"===a?"dva1":"dvav",n));break}case"mp4a":{const e=mt(t,[r])[0],n=mt(e.subarray(28),["esds"])[0];if(n&&n.length>7){let e=4;if(3!==n[e++])break;e=Ct(n,e),e+=2;const t=n[e++];if(128&t&&(e+=2),64&t&&(e+=n[e++]),4!==n[e++])break;e=Ct(n,e);const r=n[e++];if(64!==r)break;if(o+="."+wt(r),e+=12,5!==n[e++])break;e=Ct(n,e);const i=n[e++];let s=(248&i)>>3;31===s&&(s+=1+((7&i)<<3)+((224&n[e])>>5)),o+="."+s}break}case"hvc1":case"hev1":{const e=mt(n,["hvcC"])[0];if(e&&e.length>12){const t=e[1],n=["","A","B","C"][t>>6],r=31&t,i=ht(e,2),s=(32&t)>>5?"H":"L",a=e[12],l=e.subarray(6,12);o+="."+n+r,o+="."+i.toString(16).toUpperCase(),o+="."+s+a;let c="";for(let e=l.length;e--;){const t=l[e];if(t||c){c="."+t.toString(16).toUpperCase()+c}}o+=c}i=Et("hev1"==a?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":o=Et(o,n)||o;break;case"vp09":{const e=mt(n,["vpcC"])[0];if(e&&e.length>6){const t=e[4],n=e[5],r=e[6]>>4&15;o+="."+St(t)+"."+St(n)+"."+St(r)}break}case"av01":{const e=mt(n,["av1C"])[0];if(e&&e.length>2){const t=e[1]>>>5,r=31&e[1],s=e[2]>>>7?"H":"M",a=(64&e[2])>>6,l=(32&e[2])>>5,c=2===t&&a?l?12:10:a?10:8,u=(16&e[2])>>4,d=(8&e[2])>>3,f=(4&e[2])>>2,h=3&e[2],A=1,p=1,g=1,m=0;o+="."+t+"."+St(r)+s+"."+St(c)+"."+u+"."+d+f+h+"."+St(A)+"."+St(p)+"."+St(g)+"."+m,i=Et("dav1",n)}break}}return{codec:o,encrypted:s,supplemental:i}}function Et(e,t){const n=mt(t,["dvvC"]),r=n.length?n[0]:mt(t,["dvcC"])[0];if(r){const t=r[2]>>1&127,n=r[2]<<5&32|r[3]>>3&31;return e+"."+St(t)+"."+St(n)}}function Ct(e,t){const n=t+5;for(;128&e[t++]&&t<n;);return t}function wt(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function St(e){return(e<10?"0":"")+e}function Tt(e){const t=mt(e,["schm"])[0];if(t){const n=dt(t.subarray(4,8));if("cbcs"===n||"cenc"===n)return mt(e,["schi","tenc"])[0]}return null}function kt(e){const t=ht(e,0);let n=8;1&t&&(n+=4),4&t&&(n+=4);let r=0;const i=ht(e,4);for(let o=0;o<i;o++){if(256&t){r+=ht(e,n),n+=4}512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4)}return r}function xt(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Lt(e,t){const n=[],r=t.samples,i=t.timescale,o=t.id;let s=!1;return mt(r,["moof"]).map((a=>{const l=a.byteOffset-8;mt(a,["traf"]).map((a=>{const c=mt(a,["tfdt"]).map((e=>{const t=e[0];let n=ht(e,4);return 1===t&&(n*=Math.pow(2,32),n+=ht(e,8)),n/i}))[0];return void 0!==c&&(e=c),mt(a,["tfhd"]).map((c=>{const u=ht(c,4),d=16777215&ht(c,0);let f=0;const h=0!==(16&d);let A=0;const p=0!==(32&d);let g=8;u===o&&(0!==(1&d)&&(g+=8),0!==(2&d)&&(g+=4),0!==(8&d)&&(f=ht(c,g),g+=4),h&&(A=ht(c,g),g+=4),p&&(g+=4),"video"===t.type&&(s=It(t.codec)),mt(a,["trun"]).map((o=>{const a=o[0],c=16777215&ht(o,0),u=0!==(1&c);let d=0;const h=0!==(4&c),p=0!==(256&c);let g=0;const m=0!==(512&c);let v=0;const y=0!==(1024&c),b=0!==(2048&c);let E=0;const C=ht(o,4);let w=8;u&&(d=ht(o,w),w+=4),h&&(w+=4);let S=d+l;for(let l=0;l<C;l++){if(p?(g=ht(o,w),w+=4):g=f,m?(v=ht(o,w),w+=4):v=A,y&&(w+=4),b&&(E=0===a?ht(o,w):pt(o,w),w+=4),t.type===tt){let t=0;for(;t<v;){const o=ht(r,S);if(S+=4,Rt(s,r[S])){Dt(r.subarray(S,S+o),s?2:1,e+E/i,n)}S+=o,t+=o+4}}e+=g/i}})))}))}))})),n}function It(e){if(!e)return!1;const t=e.substring(0,4);return"hvc1"===t||"hev1"===t||"dvh1"===t||"dvhe"===t}function Rt(e,t){if(e){const e=t>>1&63;return 39===e||40===e}return 6===(31&t)}function Dt(e,t,n,r){const i=Bt(e);let o=0;o+=t;let s=0,a=0,l=0;for(;o<i.length;){s=0;do{if(o>=i.length)break;l=i[o++],s+=l}while(255===l);a=0;do{if(o>=i.length)break;l=i[o++],a+=l}while(255===l);const e=i.length-o;let t=o;if(a<e)o+=a;else if(a>e){ze.error("Malformed SEI payload. ".concat(a," is too small, only ").concat(e," bytes left to parse."));break}if(4===s){if(181===i[t++]){const e=ft(i,t);if(t+=2,49===e){const e=ht(i,t);if(t+=4,1195456820===e){const e=i[t++];if(3===e){const o=i[t++],a=64&o,l=a?2+3*(31&o):0,c=new Uint8Array(l);if(a){c[0]=o;for(let e=1;e<l;e++)c[e]=i[t++]}r.push({type:e,payloadType:s,pts:n,bytes:c})}}}}}else if(5===s&&a>16){const e=[];for(let n=0;n<16;n++){const r=i[t++].toString(16);e.push(1==r.length?"0"+r:r),3!==n&&5!==n&&7!==n&&9!==n||e.push("-")}const o=a-16,l=new Uint8Array(o);for(let n=0;n<o;n++)l[n]=i[t++];r.push({payloadType:s,pts:n,uuid:e.join(""),userData:Ve(l),userDataBytes:l})}}}function Bt(e){const t=e.byteLength,n=[];let r=1;for(;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;const i=t-n.length,o=new Uint8Array(i);let s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),o[r]=e[s];return o}function Pt(e,t,n){if(16!==e.byteLength)throw new RangeError("Invalid system id");let r,i,o;r=0,i=new Uint8Array,o=new Uint8Array;const s=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(s.buffer).setUint32(0,n.byteLength,!1),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.length;let o=8,s=i;for(;s--;)o+=n[s].byteLength;const a=new Uint8Array(o);for(a[0]=o>>24&255,a[1]=o>>16&255,a[2]=o>>8&255,a[3]=255&o,a.set(e,4),s=0,o=8;s<i;s++)a.set(n[s],o),o+=n[s].byteLength;return a}([112,115,115,104],new Uint8Array([0,0,0,0]),e,o,i,s,n||new Uint8Array)}function Ot(e){const t=e.getUint32(0),n=e.byteOffset,r=e.byteLength;if(r<t)return{offset:n,size:r};if(1886614376!==e.getUint32(4))return{offset:n,size:t};const i=e.getUint32(8)>>>24;if(0!==i&&1!==i)return{offset:n,size:t};const o=e.buffer,s=Ke(new Uint8Array(o,n+12,16)),a=e.getUint32(28);let l=null,c=null;if(0===i){if(t-32<a||a<22)return{offset:n,size:t};c=new Uint8Array(o,n+32,a)}else if(1===i){if(!a||r<n+32+16*a+16)return{offset:n,size:t};l=[];for(let e=0;e<a;e++)l.push(new Uint8Array(o,n+32+16*e,16))}return{version:i,systemId:s,kids:l,data:c,offset:n,size:t}}const Mt=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),_t={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Ft(e,t){const n=_t[t];return!!n&&!!n[e.slice(0,4)]}function Nt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!e.split(",").some((e=>!Ut(e,t,n)))}function Ut(e,t){var n;const r=He(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return null!=(n=null==r?void 0:r.isTypeSupported(Qt(e,t)))&&n}function Qt(e,t){return"".concat(t,"/mp4;codecs=").concat(e)}function Gt(e){if(e){const t=e.substring(0,4);return _t.video[t]}return 2}function jt(e){const t=Mt();return e.split(",").reduce(((e,n)=>{const r=t&&It(n)?9:_t.video[n];return r?(2*r+e)/(e?3:2):(_t.audio[n]+e)/(e?2:1)}),0)}const Wt={};const zt=/flac|opus|mp4a\.40\.34/i;function Ht(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.replace(zt,(e=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Wt[e])return Wt[e];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[e];for(let i=0;i<n.length;i++){var r;if(Ut(n[i],"audio",t))return Wt[e]=n[i],n[i];if("mp3"===n[i]&&null!=(r=He(t))&&r.isTypeSupported("audio/mpeg"))return""}return e}(e.toLowerCase(),t)))}function Yt(e,t){if(e&&(e.length>4||-1!==["ac-3","ec-3","alac","fLaC","Opus"].indexOf(e)))return e;if(t){const n=t.split(",");if(n.length>1){if(e)for(let t=n.length;t--;)if(n[t].substring(0,4)===e.substring(0,4))return n[t];return n[0]}}return t||e}function Vt(e){if(e.startsWith("av01.")){const t=e.split("."),n=["0","111","01","01","01","0"];for(let e=t.length;e>4&&e<10;e++)t[e]=n[e-4];return t.join(".")}return e}function Kt(e){const t=He(e)||{isTypeSupported:()=>!1};return{mpeg:t.isTypeSupported("audio/mpeg"),mp3:t.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:t.isTypeSupported('audio/mp4; codecs="ac-3"')}}function qt(e){return e.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const Xt={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function Zt(e,t){return{supported:!1,configurations:t,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:e}}const Jt={};function $t(e,t,n,r,i,o){const s=e.audioCodec?e.audioGroups:null,a=null==o?void 0:o.audioCodec,l=null==o?void 0:o.channels,c=l?parseInt(l):a?1/0:2;let u=null;if(null!=s&&s.length)try{u=1===s.length&&s[0]?t.groups[s[0]].channels:s.reduce(((e,n)=>{if(n){const r=t.groups[n];if(!r)throw new Error("Audio track group ".concat(n," not found"));Object.keys(r.channels).forEach((t=>{e[t]=(e[t]||0)+r.channels[t]}))}return e}),{2:0})}catch(d){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(r,30)||"SDR"!==e.videoRange&&e.videoRange!==n||e.bitrate>Math.max(i,8e6))||!!u&&ye(c)&&Object.keys(u).some((e=>parseInt(e)>c))}function en(e,t,n){const r=e.videoCodec,i=e.audioCodec;if(!r&&!i||!n)return Promise.resolve(Xt);const o=[];if(r){const t={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},n=e.videoRange;"SDR"!==n&&(t.transferFunction=n.toLowerCase());const i=r.split(","),s=navigator.userAgent;if(i.some((e=>It(e)))&&Mt())return Promise.resolve(Zt(new Error("Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (".concat(s,")")),o));o.push.apply(o,i.map((e=>({type:"media-source",video:Fe(Fe({},t),{},{contentType:Qt(Vt(e),"video")})}))))}return i&&e.audioGroups&&e.audioGroups.forEach((e=>{var n;e&&(null==(n=t.groups[e])||n.tracks.forEach((t=>{if(t.groupId===e){const e=t.channels||"",n=parseFloat(e);ye(n)&&n>2&&o.push.apply(o,i.split(",").map((e=>({type:"media-source",audio:{contentType:Qt(e,"audio"),channels:""+n}}))))}})))})),Promise.all(o.map((e=>{const t=function(e){const{audio:t,video:n}=e,r=n||t;if(r){const e=qt(r.contentType);if(n)return"r".concat(n.height,"x").concat(n.width,"f").concat(Math.ceil(n.framerate)).concat(n.transferFunction||"sd","_").concat(e,"_").concat(Math.ceil(n.bitrate/1e5));if(t)return"c".concat(t.channels).concat(t.spatialRendering?"s":"n","_").concat(e)}return""}(e);return Jt[t]||(Jt[t]=n.decodingInfo(e))}))).then((e=>({supported:!e.some((e=>!e.supported)),configurations:o,decodingInfoResults:e}))).catch((e=>({supported:!1,configurations:o,decodingInfoResults:[],error:e})))}const tn=["NONE","TYPE-0","TYPE-1",null];const nn=["SDR","PQ","HLG"];var rn="",on="YES",sn="v2";function an(e){const{canSkipUntil:t,canSkipDateRanges:n,age:r}=e;return t&&r<t/2?n?sn:on:rn}class ln{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class cn{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter((e=>!!e)).map((e=>e.substring(0,4))).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const n=null==(t=e.supplemental)?void 0:t.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=",".concat(n.substring(0,4)))}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return un(this._audioGroups,e)}hasSubtitleGroup(e){return un(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t)if("audio"===e){let e=this._audioGroups;e||(e=this._audioGroups=[]),-1===e.indexOf(t)&&e.push(t)}else if("text"===e){let e=this._subtitleGroups;e||(e=this._subtitleGroups=[]),-1===e.indexOf(t)&&e.push(t)}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return null==(e=this.audioGroups)?void 0:e[0]}get textGroupId(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}addFallback(){}}function un(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function dn(e,t){let n=!1,r=[];if(e&&(n="SDR"!==e,r=[e]),t){r=t.allowedVideoRanges||nn.slice(0);const e="SDR"!==r.join("")&&!t.videoCodec;n=void 0!==t.preferHDR?t.preferHDR:e&&function(){if("function"===typeof matchMedia){const e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}(),n||(r=["SDR"])}return{preferHDR:n,allowedVideoRanges:r}}const fn=(e,t)=>JSON.stringify(e,(e=>{const t=new WeakSet;return(n,r)=>{if(e&&(r=e(n,r)),"object"===typeof r&&null!==r){if(t.has(r))return;t.add(r)}return r}})(t));function hn(e,t){ze.log('[abr] start candidates with "'.concat(e,'" ignored because ').concat(t))}function An(e){return e.reduce(((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const r=t.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function pn(e){if(!e)return e;const{lang:t,assocLang:n,characteristics:r,channels:i,audioCodec:o}=e;return{lang:t,assocLang:n,characteristics:r,channels:i,audioCodec:o}}function gn(e,t,n){if("attrs"in e){const n=t.indexOf(e);if(-1!==n)return n}for(let r=0;r<t.length;r++){if(mn(e,t[r],n))return r}return-1}function mn(e,t,n){const{groupId:r,name:i,lang:o,assocLang:s,default:a}=e,l=e.forced;return(void 0===r||t.groupId===r)&&(void 0===i||t.name===i)&&(void 0===o||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--";if(e.length===t.length)return e===t;return e.startsWith(t)||t.startsWith(e)}(o,t.lang))&&(void 0===o||t.assocLang===s)&&(void 0===a||t.default===a)&&(void 0===l||t.forced===l)&&(!("characteristics"in e)||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split(","),r=t.split(",");return n.length===r.length&&!n.some((e=>-1===r.indexOf(e)))}(e.characteristics||"",t.characteristics))&&(void 0===n||n(e,t))}function vn(e,t){const{audioCodec:n,channels:r}=e;return(void 0===n||(t.audioCodec||"").substring(0,4)===n.substring(0,4))&&(void 0===r||r===(t.channels||"2"))}function yn(e,t,n){for(let r=t;r>-1;r--)if(n(e[r]))return r;for(let r=t+1;r<e.length;r++)if(n(e[r]))return r;return-1}function bn(e,t){var n;return!!e&&e!==(null==(n=t.loadLevelObj)?void 0:n.uri)}const En=function(e,t){let n=0,r=e.length-1,i=null,o=null;for(;n<=r;){i=(n+r)/2|0,o=e[i];const s=t(o);if(s>0)n=i+1;else{if(!(s<0))return o;r=i-1}}return null};function Cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.005,o=null;if(e){o=t[1+e.sn-t[0].sn]||null;const r=e.endDTS-n;r>0&&r<15e-7&&(n+=15e-7),o&&e.level!==o.level&&o.end<=e.end&&(o=t[2+e.sn-t[0].sn]||null)}else 0===n&&0===t[0].start&&(o=t[0]);if(o&&((!e||e.level===o.level)&&0===wn(n,r,o)||function(e,t,n){if(t&&0===t.start&&t.level<e.level&&(t.endPTS||0)>0){const r=t.tagList.reduce(((e,t)=>("INF"===t[0]&&(e+=parseFloat(t[1])),e)),n);return e.start<=r}return!1}(o,e,Math.min(i,r))))return o;const s=En(t,wn.bind(null,n,r));return!s||s===e&&o?o:s}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(n.start<=e&&n.start+n.duration>e)return 0;const r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function Sn(e,t,n){const r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function Tn(e,t){return En(e,(e=>e.cc<t?1:e.cc>t?-1:0))}function kn(e){switch(e.details){case we.FRAG_LOAD_TIMEOUT:case we.KEY_LOAD_TIMEOUT:case we.LEVEL_LOAD_TIMEOUT:case we.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function xn(e,t){const n=kn(t);return e.default["".concat(n?"timeout":"error","Retry")]}function Ln(e,t){const n="linear"===e.backoff?1:Math.pow(2,t);return Math.min(n*e.retryDelayMs,e.maxRetryDelayMs)}function In(e){return Fe(Fe({},e),{errorRetry:null,timeoutRetry:null})}function Rn(e,t,n,r){if(!e)return!1;const i=null==r?void 0:r.code,o=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(i)||!!n);return e.shouldRetry?e.shouldRetry(e,t,n,r,o):o}var Dn=0,Bn=2,Pn=3,On=5,Mn=0,_n=1,Fn=2;function Nn(e){const t={action:Dn,flags:Mn};return e&&(t.resolved=!0),t}var Un="NOT_LOADED",Qn="APPENDING",Gn="PARTIAL",jn="OK";class Wn{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Se.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Se.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Se.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Se.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let r=n.length;r--;){const t=n[r];if(!t)break;const i=t.end;if(t.start<=e&&null!==i&&e<=i)return t}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,n){const{fragments:r}=this,i=Object.keys(r);for(let o=i.length;o--;){const s=r[i[o]];if((null==s?void 0:s.body.type)===t&&(!n||s.buffered)){const t=s.body;if(t.start<=e&&e<=t.end)return t}}return null}detectEvictedFragments(e,t,n,r,i){this.timeRanges&&(this.timeRanges[e]=t);const o=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((r=>{const s=this.fragments[r];if(!s)return;if(o>=s.body.sn)return;if(!s.buffered&&(!s.loaded||i))return void(s.body.type===n&&this.removeFragment(s.body));const a=s.range[e];a&&(0!==a.time.length?a.time.some((e=>{const n=!this.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&this.removeFragment(s.body),n})):this.removeFragment(s.body))}))}detectPartialFragments(e){const t=this.timeRanges;if(!t||"initSegment"===e.frag.sn)return;const n=e.frag,r=Hn(n),i=this.fragments[r];if(!i||i.buffered&&n.gap)return;const o=!n.relurl;if(Object.keys(t).forEach((r=>{const s=n.elementaryStreams[r];if(!s)return;const a=t[r],l=o||!0===s.partial;i.range[r]=this.getBufferedTimes(n,e.part,l,a)})),i.loaded=null,Object.keys(i.range).length){i.buffered=!0;(i.body.endList=n.endList||i.body.endList)&&(this.endListFragments[i.body.type]=i),zn(i)||this.removeParts(n.sn-1,n.type)}else this.removeFragment(i.body)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=Yn(n,(t=>t.fragment.sn>=e)))}fragBuffered(e,t){const n=Hn(e);let r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(e,t,n,r){const i={time:[],partial:n},o=e.start,s=e.end,a=e.minEndPTS||s,l=e.maxStartPTS||o;for(let c=0;c<r.length;c++){const e=r.start(c)-this.bufferPadding,t=r.end(c)+this.bufferPadding;if(l>=e&&a<=t){i.time.push({startPTS:Math.max(o,r.start(c)),endPTS:Math.min(s,r.end(c))});break}if(o<t&&s>e){const e=Math.max(o,r.start(c)),t=Math.min(s,r.end(c));t>e&&(i.partial=!0,i.time.push({startPTS:e,endPTS:t}))}else if(s<=e)break}return i}getPartialFragment(e){let t,n,r,i=null,o=0;const{bufferPadding:s,fragments:a}=this;return Object.keys(a).forEach((l=>{const c=a[l];c&&zn(c)&&(n=c.body.start-s,r=c.body.end+s,e>=n&&e<=r&&(t=Math.min(e-n,r-e),o<=t&&(i=c.body,o=t)))})),i}isEndListAppended(e){const t=this.endListFragments[e];return void 0!==t&&(t.buffered||zn(t))}getState(e){const t=Hn(e),n=this.fragments[t];return n?n.buffered?zn(n)?Gn:jn:Qn:Un}isTimeBuffered(e,t,n){let r,i;for(let o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if("initSegment"===t.frag.sn||t.frag.bitrateTest)return;const n=t.frag,r=t.part?null:t,i=Hn(n);this.fragments[i]={body:n,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:r,timeRanges:i,type:o}=t;if("initSegment"===n.sn)return;const s=n.type;if(r){let e=this.activePartLists[s];e||(this.activePartLists[s]=e=[]),e.push(r)}this.timeRanges=i;const a=i[o];this.detectEvictedFragments(o,a,s,r)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Hn(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,n=Object.keys(t);if(!e)return n.length>0;for(let r=n.length;r--;){const i=t[n[r]];if((null==i?void 0:i.body.type)===e)return!0}return!1}hasParts(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}removeFragmentsInRange(e,t,n,r,i){r&&!this.hasGaps||Object.keys(this.fragments).forEach((o=>{const s=this.fragments[o];if(!s)return;const a=s.body;a.type!==n||r&&!a.gap||a.start<t&&a.end>e&&(s.buffered||i)&&this.removeFragment(a)}))}removeFragment(e){const t=Hn(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const t=e.sn;this.activePartLists[e.type]=Yn(n,(e=>e.fragment.sn!==t))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=null==(e=this.hls)||null==(t=e.latestLevelDetails)?void 0:t.partList;n&&n.forEach((e=>e.clearElementaryStreamInfo()))}}function zn(e){var t,n,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(n=e.range.audio)?void 0:n.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function Hn(e){return"".concat(e.type,"_").concat(e.level,"_").concat(e.sn)}function Yn(e,t){return e.filter((e=>{const n=t(e);return n||e.clearElementaryStreamInfo(),n}))}var Vn=0,Kn=1;class qn{constructor(e,t,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=n}decrypt(e,t){switch(this.aesMode){case Vn:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case Kn:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error("[AESCrypto] invalid aes mode ".concat(this.aesMode))}}}class Xn{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],s=n[3],a=this.invSubMix,l=a[0],c=a[1],u=a[2],d=a[3],f=new Uint32Array(256);let h=0,A=0,p=0;for(p=0;p<256;p++)f[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){let n=A^A<<1^A<<2^A<<3^A<<4;n=n>>>8^255&n^99,e[h]=n,t[n]=h;const a=f[h],p=f[a],g=f[p];let m=257*f[n]^16843008*n;r[h]=m<<24|m>>>8,i[h]=m<<16|m>>>16,o[h]=m<<8|m>>>24,s[h]=m,m=16843009*g^65537*p^257*a^16843008*h,l[n]=m<<24|m>>>8,c[n]=m<<16|m>>>16,u[n]=m<<8|m>>>24,d[n]=m,h?(h=a^f[f[f[g^a]]],A^=f[f[A]]):h=A=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,r=0;for(;r<t.length&&n;)n=t[r]===this.key[r],r++;if(n)return;this.key=t;const i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);const o=this.ksRows=4*(i+6+1);let s,a;const l=this.keySchedule=new Uint32Array(o),c=this.invKeySchedule=new Uint32Array(o),u=this.sBox,d=this.rcon,f=this.invSubMix,h=f[0],A=f[1],p=f[2],g=f[3];let m,v;for(s=0;s<o;s++)s<i?m=l[s]=t[s]:(v=m,s%i===0?(v=v<<8|v>>>24,v=u[v>>>24]<<24|u[v>>>16&255]<<16|u[v>>>8&255]<<8|u[255&v],v^=d[s/i|0]<<24):i>6&&s%i===4&&(v=u[v>>>24]<<24|u[v>>>16&255]<<16|u[v>>>8&255]<<8|u[255&v]),l[s]=m=(l[s-i]^v)>>>0);for(a=0;a<o;a++)s=o-a,v=3&a?l[s]:l[s-4],c[a]=a<4||s<=4?v:h[u[v>>>24]]^A[u[v>>>16&255]]^p[u[v>>>8&255]]^g[u[255&v]],c[a]=c[a]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,n){const r=this.keySize+6,i=this.invKeySchedule,o=this.invSBox,s=this.invSubMix,a=s[0],l=s[1],c=s[2],u=s[3],d=this.uint8ArrayToUint32Array_(n);let f=d[0],h=d[1],A=d[2],p=d[3];const g=new Int32Array(e),m=new Int32Array(g.length);let v,y,b,E,C,w,S,T,k,x,L,I,R,D;const B=this.networkToHostOrderSwap;for(;t<g.length;){for(k=B(g[t]),x=B(g[t+1]),L=B(g[t+2]),I=B(g[t+3]),C=k^i[0],w=I^i[1],S=L^i[2],T=x^i[3],R=4,D=1;D<r;D++)v=a[C>>>24]^l[w>>16&255]^c[S>>8&255]^u[255&T]^i[R],y=a[w>>>24]^l[S>>16&255]^c[T>>8&255]^u[255&C]^i[R+1],b=a[S>>>24]^l[T>>16&255]^c[C>>8&255]^u[255&w]^i[R+2],E=a[T>>>24]^l[C>>16&255]^c[w>>8&255]^u[255&S]^i[R+3],C=v,w=y,S=b,T=E,R+=4;v=o[C>>>24]<<24^o[w>>16&255]<<16^o[S>>8&255]<<8^o[255&T]^i[R],y=o[w>>>24]<<24^o[S>>16&255]<<16^o[T>>8&255]<<8^o[255&C]^i[R+1],b=o[S>>>24]<<24^o[T>>16&255]<<16^o[C>>8&255]<<8^o[255&w]^i[R+2],E=o[T>>>24]<<24^o[C>>16&255]<<16^o[w>>8&255]<<8^o[255&S]^i[R+3],m[t]=B(v^f),m[t+1]=B(E^h),m[t+2]=B(b^A),m[t+3]=B(y^p),f=k,h=x,A=L,p=I,t+=4}return m.buffer}}class Zn{constructor(e,t,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=n}expandKey(){const e=function(e){switch(e){case Vn:return"AES-CBC";case Kn:return"AES-CTR";default:throw new Error("[FastAESKey] invalid aes mode ".concat(e))}}(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}class Jn{constructor(e){let{removePKCS7Padding:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const e=self.crypto;e&&(this.subtle=e.subtle||e.webkitSubtle)}catch(Zl){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){const t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?e.slice(0,t-n):e}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n,r){return this.useSoftware?new Promise(((i,o)=>{const s=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(s,t,n,r);const a=this.flush();a?i(a.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,n,r)}softwareDecrypt(e,t,n,r){const{currentIV:i,currentResult:o,remainderData:s}=this;if(r!==Vn||16!==t.byteLength)return ze.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),s&&(e=xt(s,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;i&&(n=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new Xn),l.expandKey(t);const c=o;return this.currentResult=l.decrypt(a.buffer,0,n),this.currentIV=a.slice(-16).buffer,c||null}webCryptoDecrypt(e,t,n,r){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,n,r));this.key=t,this.fastAesKey=new Zn(this.subtle,t,r)}return this.fastAesKey.expandKey().then((t=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new qn(this.subtle,new Uint8Array(n),r).decrypt(e.buffer,t)})).catch((i=>(ze.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(i.name,": ").concat(i.message)),this.onWebCryptoError(e,t,n,r))))}onWebCryptoError(e,t,n,r){const i=this.enableSoftwareAES;if(i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n,r);const i=this.flush();if(i)return i.buffer}throw new Error("WebCrypto"+(i?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%16;return n!==e.length&&(t=e.slice(0,n),this.remainderData=e.slice(n)),t}logOnce(e){this.logEnabled&&(ze.log("[decrypter]: ".concat(e)),this.logEnabled=!1)}}const $n=Math.pow(2,17);class er{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new rr({type:Ce.NETWORK_ERROR,details:we.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a ".concat(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise(((s,a)=>{if(this.loader&&this.loader.destroy(),e.gap){if(e.tagList.some((e=>"GAP"===e[0])))return void a(nr(e));e.gap=!1}const l=this.loader=i?new i(r):new o(r),c=tr(e);e.loader=l;const u=In(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:$n};e.stats=l.stats;const f={onSuccess:(t,n,r,i)=>{this.resetLoader(e,l);let o=t.data;r.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),s({frag:e,part:null,payload:o,networkDetails:i})},onError:(t,r,i,o)=>{this.resetLoader(e,l),a(new rr({type:Ce.NETWORK_ERROR,details:we.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Fe({url:n,data:void 0},t),error:new Error("HTTP Error ".concat(t.code," ").concat(t.text)),networkDetails:i,stats:o}))},onAbort:(t,n,r)=>{this.resetLoader(e,l),a(new rr({type:Ce.NETWORK_ERROR,details:we.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:r,stats:t}))},onTimeout:(t,n,r)=>{this.resetLoader(e,l),a(new rr({type:Ce.NETWORK_ERROR,details:we.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after ".concat(d.timeout,"ms")),networkDetails:r,stats:t}))}};t&&(f.onProgress=(n,r,i,o)=>t({frag:e,part:null,payload:i,networkDetails:o})),l.load(c,d,f)}))}loadPart(e,t,n){this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise(((s,a)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap)return void a(nr(e,t));const l=this.loader=i?new i(r):new o(r),c=tr(e,t);e.loader=l;const u=In(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:$n};t.stats=l.stats,l.load(c,d,{onSuccess:(r,i,o,a)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,t);const c={frag:e,part:t,payload:r.data,networkDetails:a};n(c),s(c)},onError:(n,r,i,o)=>{this.resetLoader(e,l),a(new rr({type:Ce.NETWORK_ERROR,details:we.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:Fe({url:c.url,data:void 0},n),error:new Error("HTTP Error ".concat(n.code," ").concat(n.text)),networkDetails:i,stats:o}))},onAbort:(n,r,i)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,l),a(new rr({type:Ce.NETWORK_ERROR,details:we.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:i,stats:n}))},onTimeout:(n,r,i)=>{this.resetLoader(e,l),a(new rr({type:Ce.NETWORK_ERROR,details:we.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after ".concat(d.timeout,"ms")),networkDetails:i,stats:n}))}})}))}updateStatsFromPart(e,t){const n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){const r=Math.round(e.duration/t.duration),o=Math.min(Math.round(n.loaded/i),r),s=(r-o)*Math.round(n.loaded/o);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);const o=n.loading,s=r.loading;o.start?o.first+=s.first-s.start:(o.start=s.start,o.first=s.first),o.end=s.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(ye(i)&&ye(o)){var s;let t=i,n=o;if("initSegment"===e.sn&&("AES-128"===(a=null==(s=e.decryptdata)?void 0:s.method)||"AES-256"===a)){const e=o-i;e%16&&(n=o+(16-e%16)),0!==i&&(r.resetIV=!0,t=i-16)}r.rangeStart=t,r.rangeEnd=n}var a;return r}function nr(e,t){const n=new Error("GAP ".concat(e.gap?"tag":"attribute"," found")),r={type:Ce.MEDIA_ERROR,details:we.FRAG_GAP,fatal:!1,frag:e,error:n,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new rr(r)}class rr extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class ir extends Ne{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class or{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=o}}const sr={length:0,start:()=>0,end:()=>0};class ar{static isBuffered(e,t){if(e){const n=ar.getBuffered(e);for(let e=n.length;e--;)if(t>=n.start(e)&&t<=n.end(e))return!0}return!1}static bufferedRanges(e){if(e){const t=ar.getBuffered(e);return ar.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}static bufferInfo(e,t,n){if(e){const r=ar.bufferedRanges(e);if(r.length)return ar.bufferedInfo(r,t,n)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.length>1&&e.sort(((e,t)=>e.start-t.start||t.end-e.end));let r=-1,i=[];if(n)for(let c=0;c<e.length;c++){t>=e[c].start&&t<=e[c].end&&(r=c);const o=i.length;if(o){const t=i[o-1].end;e[c].start-t<n?e[c].end>t&&(i[o-1].end=e[c].end):i.push(e[c])}else i.push(e[c])}else i=e;let o,s=0,a=t,l=t;for(let c=0;c<i.length;c++){const e=i[c].start,u=i[c].end;if(-1===r&&t>=e&&t<=u&&(r=c),t+n>=e&&t<u)a=e,l=u,s=l-t;else if(t+n<e){o=e;break}}return{len:s,start:a||0,end:l||0,nextStart:o,buffered:e,bufferedIndex:r}}static getBuffered(e){try{return e.buffered||sr}catch(Zl){return ze.log("failed to get media.buffered",Zl),sr}}}const lr=/\{\$([a-zA-Z0-9-_]+)\}/g;function cr(e){return lr.test(e)}function ur(e,t){if(null!==e.variableList||e.hasVariableRefs){const n=e.variableList;return t.replace(lr,(t=>{const r=t.substring(2,t.length-1),i=null==n?void 0:n[r];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(r,'"'))),t):i}))}return t}function dr(e,t,n){let r,i,o=e.variableList;if(o||(e.variableList=o={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{const e=new self.URL(n).searchParams;if(!e.has(r))throw new Error('"'.concat(r,'" does not match any query parameter in URI: "').concat(n,'"'));i=e.get(r)}catch(s){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(s.message)))}}else r=t.NAME,i=t.VALUE;r in o?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(r,'"'))):o[r]=i||""}function fr(e,t,n){const r=t.IMPORT;if(n&&r in n){let t=e.variableList;t||(e.variableList=t={}),t[r]=n[r]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(r,'"')))}const hr=/^(\d+)x(\d+)$/,Ar=/(.+?)=(".*?"|.*?)(?:,|$)/g;class pr{constructor(e,t){"string"===typeof e&&(e=pr.parseAttrList(e,t)),Me(this,e)}get clientAttrs(){return Object.keys(this).filter((e=>"X-"===e.substring(0,2)))}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;const n=new Uint8Array(t.length/2);for(let e=0;e<t.length/2;e++)n[e]=parseInt(t.slice(2*e,2*e+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce(((e,t)=>(e[t.toLowerCase()]=!0,e)),t)}bool(e){return"YES"===this[e]}decimalResolution(e){const t=hr.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let n;const r={};for(Ar.lastIndex=0;null!==(n=Ar.exec(e));){const i=n[1].trim();let o=n[2];const s=0===o.indexOf('"')&&o.lastIndexOf('"')===o.length-1;let a=!1;if(s)o=o.slice(1,-1);else switch(i){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":a=!0}if(t&&(s||a))o=ur(t,o);else if(!a&&!s)switch(i){case"CLOSED-CAPTIONS":if("NONE"===o)break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":ze.warn("".concat(e,": attribute ").concat(i," is missing quotes"))}r[i]=o}return r}}function gr(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e||"SCTE35-CMD"===e}class mr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var r;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(null==t?void 0:t.tagAnchor)||null,this.tagOrder=null!=(r=null==t?void 0:t.tagOrder)?r:n,t){const n=t.attr;for(const t in n)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==n[t]){ze.warn('DATERANGE tag attribute: "'.concat(t,'" does not match for tags with ID: "').concat(e.ID,'"')),this._badValueForSameId=t;break}e=Me(new pr({}),n,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const e=(null==t?void 0:t.endDate)||new Date(this.attr["END-DATE"]);ye(e.getTime())&&(this._endDate=e)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return void 0===e?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return null===e||null===e.programDateTime?(ze.warn('Expected tagAnchor Fragment with PDT set for DateRange "'.concat(this.id,'": ').concat(e)),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return null!==t?this._dateAtEnd=new Date(this._startDate.getTime()+1e3*t):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(ye(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return"com.apple.hls.interstitial"===this.class}get isValid(){return!!this.id&&!this._badValueForSameId&&ye(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}class vr{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1}get hasProgramDateTime(){return!!this.fragments.length&&ye(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const e=this.driftEndTime-this.driftStartTime;if(e>0){return 1e3*(this.driftEnd-this.driftStart)/e}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(-1!==t){for(let n=e.length;n--;)if(e[n].index>t)return e[n].index;return t}}return 0}get lastPartSn(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function yr(e){return"AES-128"===e||"AES-256"===e||"AES-256-CTR"===e}function br(e){switch(e){case"AES-128":case"AES-256":return Vn;case"AES-256-CTR":return Kn;default:throw new Error("invalid full segment method ".concat(e))}}function Er(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}function Cr(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(e=>e.charCodeAt(0)))}function wr(e){const t=e.split(":");let n=null;if("data"===t[0]&&2===t.length){const e=t[1].split(";"),r=e[e.length-1].split(",");if(2===r.length){const t="base64"===r[0],i=r[1];t?(e.splice(-1,1),n=Er(i)):n=function(e){const t=Cr(e).subarray(0,16),n=new Uint8Array(16);return n.set(t,16-t.length),n}(i)}}return n}const Sr="undefined"!==typeof self?self:void 0;var Tr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},kr="org.w3.clearkey",xr="com.apple.streamingkeydelivery",Lr="com.microsoft.playready",Ir="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Rr(e){switch(e){case xr:return Tr.FAIRPLAY;case Lr:return Tr.PLAYREADY;case Ir:return Tr.WIDEVINE;case kr:return Tr.CLEARKEY}}var Dr="1077efecc0b24d02ace33c1e52e2fb4b",Br="e2719d58a985b3c9781ab030af78d30e",Pr="9a04f07998404286ab92e65be0885f95",Or="edef8ba979d64acea3c827dcd51d21ed";function Mr(e){return e===Or?Tr.WIDEVINE:e===Pr?Tr.PLAYREADY:e===Dr||e===Br?Tr.CLEARKEY:void 0}function _r(e){switch(e){case Tr.FAIRPLAY:return xr;case Tr.PLAYREADY:return Lr;case Tr.WIDEVINE:return Ir;case Tr.CLEARKEY:return kr}}function Fr(e){const{drmSystems:t,widevineLicenseUrl:n}=e,r=t?[Tr.FAIRPLAY,Tr.WIDEVINE,Tr.PLAYREADY,Tr.CLEARKEY].filter((e=>!!t[e])):[];return!r[Tr.WIDEVINE]&&n&&r.push(Tr.WIDEVINE),r}const Nr=null!=Sr&&null!=(Ur=Sr.navigator)&&Ur.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var Ur;function Qr(e){const t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),n=String.fromCharCode.apply(null,Array.from(t)),r=n.substring(n.indexOf("<"),n.length),i=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(i){const e=i.childNodes[0]?i.childNodes[0].nodeValue:i.getAttribute("VALUE");if(e){const t=Er(e).subarray(0,16);return function(e){const t=function(e,t,n){const r=e[t];e[t]=e[n],e[n]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(t),t}}return null}let Gr={};class jr{static clearKeyUriToKeyIdMap(){Gr={}}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=r,this.iv=i,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&!yr(e)}isSupported(){if(this.method){if(yr(this.method)||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case xr:case Ir:case Lr:case kr:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(yr(this.method)&&this.uri&&!this.iv){"number"!==typeof e&&(ze.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),e=0);const t=function(e){const t=new Uint8Array(16);for(let n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}(e);return new jr(this.method,this.uri,"identity",this.keyFormatVersions,t)}const t=wr(this.uri);if(t)switch(this.keyFormat){case Ir:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case Lr:{const e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Pt(e,0,t),this.keyId=Qr(t);break}default:{let e=t.subarray(0,16);if(16!==e.length){const t=new Uint8Array(16);t.set(e,16-e.length),e=t}this.keyId=e;break}}if(!this.keyId||16!==this.keyId.byteLength){let e=Gr[this.uri];if(!e){const t=Object.keys(Gr).length%Number.MAX_SAFE_INTEGER;e=new Uint8Array(16);new DataView(e.buffer,12,4).setUint32(0,t),Gr[this.uri]=e}this.keyId=e}return this}}const Wr=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,zr=/#EXT-X-MEDIA:(.*)/g,Hr=/^#EXT(?:INF|-X-TARGETDURATION):/m,Yr=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),Vr=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Kr{static findGroup(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.id===t)return r}}static resolve(e,t){return Je.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Hr.test(e)}static parseMasterPlaylist(e,t){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:cr(e)},r=[];let i;for(Wr.lastIndex=0;null!=(i=Wr.exec(e));)if(i[1]){var o;const e=new pr(i[1],n),s=ur(n,i[2]),a={attrs:e,bitrate:e.decimalInteger("BANDWIDTH")||e.decimalInteger("AVERAGE-BANDWIDTH"),name:e.NAME,url:Kr.resolve(s,t)},l=e.decimalResolution("RESOLUTION");l&&(a.width=l.width,a.height=l.height),$r(e.CODECS,a);const c=e["SUPPLEMENTAL-CODECS"];c&&(a.supplemental={},$r(c,a.supplemental)),null!=(o=a.unknownCodecs)&&o.length||r.push(a),n.levels.push(a)}else if(i[3]){const e=i[3],r=i[4];switch(e){case"SESSION-DATA":{const e=new pr(r,n),t=e["DATA-ID"];t&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[t]=e);break}case"SESSION-KEY":{const e=Zr(r,t,n);e.encrypted&&e.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(e)):ze.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(r,'"'));break}case"DEFINE":dr(n,new pr(r,n),t);break;case"CONTENT-STEERING":{const e=new pr(r,n);n.contentSteering={uri:Kr.resolve(e["SERVER-URI"],t),pathwayId:e["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=Jr(r)}}const s=r.length>0&&r.length<n.levels.length;return n.levels=s?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(e,t,n){let r;const i={},o=n.levels,s={AUDIO:o.map((e=>({id:e.attrs.AUDIO,audioCodec:e.audioCodec}))),SUBTITLES:o.map((e=>({id:e.attrs.SUBTITLES,textCodec:e.textCodec}))),"CLOSED-CAPTIONS":[]};let a=0;for(zr.lastIndex=0;null!==(r=zr.exec(e));){const e=new pr(r[1],n),o=e.TYPE;if(o){const n=s[o],r=i[o]||[];i[o]=r;const l=e.LANGUAGE,c=e["ASSOC-LANGUAGE"],u=e.CHANNELS,d=e.CHARACTERISTICS,f=e["INSTREAM-ID"],h={attrs:e,bitrate:0,id:a++,groupId:e["GROUP-ID"]||"",name:e.NAME||l||"",type:o,default:e.bool("DEFAULT"),autoselect:e.bool("AUTOSELECT"),forced:e.bool("FORCED"),lang:l,url:e.URI?Kr.resolve(e.URI,t):""};if(c&&(h.assocLang=c),u&&(h.channels=u),d&&(h.characteristics=d),f&&(h.instreamId=f),null!=n&&n.length){const e=Kr.findGroup(n,h.groupId)||n[0];ei(h,e,"audioCodec"),ei(h,e,"textCodec")}r.push(h)}}return i}static parseLevelPlaylist(e,t,n,r,i,o){var s;const a={url:t},l=new vr(t),c=l.fragments,u=[];let d,f,h,A,p=null,g=0,m=0,v=0,y=0,b=0,E=null,C=new ot(r,a),w=-1,S=!1,T=null;if(Yr.lastIndex=0,l.m3u8=e,l.hasVariableRefs=cr(e),"#EXTM3U"!==(null==(s=Yr.exec(e))?void 0:s[0]))return l.playlistParsingError=new Error("Missing format identifier #EXTM3U"),l;for(;null!==(d=Yr.exec(e));){S&&(S=!1,C=new ot(r,a),C.playlistOffset=v,C.start=v,C.sn=g,C.cc=y,b&&(C.bitrate=b),C.level=n,p&&(C.initSegment=p,p.rawProgramDateTime&&(C.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),T&&(C.setByteRange(T),T=null)));const e=d[1];if(e){C.duration=parseFloat(e);const t=(" "+d[2]).slice(1);C.title=t||null,C.tagList.push(t?["INF",e,t]:["INF",e])}else if(d[3]){if(ye(C.duration)){C.playlistOffset=v,C.start=v,h&&ri(C,h,l),C.sn=g,C.level=n,C.cc=y,c.push(C);const e=(" "+d[3]).slice(1);C.relurl=ur(l,e),ti(C,E,u),E=C,v+=C.duration,g++,m=0,S=!0}}else{if(d=d[0].match(Vr),!d){ze.warn("No matches on slow regex match for level playlist!");continue}for(f=1;f<d.length&&void 0===d[f];f++);const e=(" "+d[f]).slice(1),i=(" "+d[f+1]).slice(1),s=d[f+2]?(" "+d[f+2]).slice(1):null;switch(e){case"BYTERANGE":E?C.setByteRange(i,E):C.setByteRange(i);break;case"PROGRAM-DATE-TIME":C.rawProgramDateTime=i,C.tagList.push(["PROGRAM-DATE-TIME",i]),-1===w&&(w=c.length);break;case"PLAYLIST-TYPE":l.type&&ii(l,e,d),l.type=i.toUpperCase();break;case"MEDIA-SEQUENCE":0!==l.startSN?ii(l,e,d):c.length>0&&oi(l,e,d),g=l.startSN=parseInt(i);break;case"SKIP":{l.skippedSegments&&ii(l,e,d);const t=new pr(i,l),n=t.decimalInteger("SKIPPED-SEGMENTS");if(ye(n)){l.skippedSegments+=n;for(let e=n;e--;)c.push(null);g+=n}const r=t.enumeratedString("RECENTLY-REMOVED-DATERANGES");r&&(l.recentlyRemovedDateranges=(l.recentlyRemovedDateranges||[]).concat(r.split("\t")));break}case"TARGETDURATION":0!==l.targetduration&&ii(l,e,d),l.targetduration=Math.max(parseInt(i),1);break;case"VERSION":null!==l.version&&ii(l,e,d),l.version=parseInt(i);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":l.live||ii(l,e,d),l.live=!1;break;case"#":(i||s)&&C.tagList.push(s?[i,s]:[i]);break;case"DISCONTINUITY":y++,C.tagList.push(["DIS"]);break;case"GAP":C.gap=!0,C.tagList.push([e]);break;case"BITRATE":C.tagList.push([e,i]),b=1e3*parseInt(i),ye(b)?C.bitrate=b:b=0;break;case"DATERANGE":{const e=new pr(i,l),t=new mr(e,l.dateRanges[e.ID],l.dateRangeTagCount);l.dateRangeTagCount++,t.isValid||l.skippedSegments?l.dateRanges[t.id]=t:ze.warn('Ignoring invalid DATERANGE tag: "'.concat(i,'"')),C.tagList.push(["EXT-X-DATERANGE",i]);break}case"DEFINE":{const e=new pr(i,l);"IMPORT"in e?fr(l,e,o):dr(l,e,t)}break;case"DISCONTINUITY-SEQUENCE":0!==l.startCC?ii(l,e,d):c.length>0&&oi(l,e,d),l.startCC=y=parseInt(i);break;case"KEY":{const e=Zr(i,t,l);if(e.isSupported()){if("NONE"===e.method){h=void 0;break}h||(h={}),h[e.keyFormat]&&(h=Me({},h)),h[e.keyFormat]=e}else ze.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(i,'"'));break}case"START":l.startTimeOffset=Jr(i);break;case"MAP":{const e=new pr(i,l);if(C.duration){const t=new ot(r,a);ni(t,e,n,h),p=t,C.initSegment=p,p.rawProgramDateTime&&!C.rawProgramDateTime&&(C.rawProgramDateTime=p.rawProgramDateTime)}else{const t=C.byteRangeEndOffset;if(t){const e=C.byteRangeStartOffset;T="".concat(t-e,"@").concat(e)}else T=null;ni(C,e,n,h),p=C,S=!0}p.cc=y;break}case"SERVER-CONTROL":A&&ii(l,e,d),A=new pr(i),l.canBlockReload=A.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=A.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&A.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=A.optionalFloat("PART-HOLD-BACK",0),l.holdBack=A.optionalFloat("HOLD-BACK",0);break;case"PART-INF":{l.partTarget&&ii(l,e,d);const t=new pr(i);l.partTarget=t.decimalFloatingPoint("PART-TARGET");break}case"PART":{let e=l.partList;e||(e=l.partList=[]);const t=m>0?e[e.length-1]:void 0,n=m++,r=new pr(i,l),o=new st(r,C,a,n,t);e.push(o),C.duration+=o.duration;break}case"PRELOAD-HINT":{const e=new pr(i,l);l.preloadHint=e;break}case"RENDITION-REPORT":{const e=new pr(i,l);l.renditionReports=l.renditionReports||[],l.renditionReports.push(e);break}default:ze.warn("line parsed but not handled: ".concat(d))}}}E&&!E.relurl?(c.pop(),v-=E.duration,l.partList&&(l.fragmentHint=E)):l.partList&&(ti(C,E,u),C.cc=y,l.fragmentHint=C,h&&ri(C,h,l)),l.targetduration||(l.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const k=c.length,x=c[0],L=c[k-1];if(v+=l.skippedSegments*l.targetduration,v>0&&k&&L){l.averagetargetduration=v/k;const e=L.sn;l.endSN="initSegment"!==e?e:0,l.live||(L.endList=!0),x&&void 0===l.startCC&&(l.startCC=x.cc),w>0&&(!function(e,t){let n=e[t];for(let r=t;r--;){const t=e[r];if(!t)return;t.programDateTime=n.programDateTime-1e3*t.duration,n=t}}(c,w),x&&u.unshift(x))}else l.endSN=0,l.startCC=0;return l.fragmentHint&&(v+=l.fragmentHint.duration),l.totalduration=v,u.length&&l.dateRangeTagCount&&x&&qr(u,l),l.endCC=y,l}}function qr(e,t){const n=e.length,r=e[n-1],i=t.live?1/0:t.totalduration,o=Object.keys(t.dateRanges);for(let s=o.length;s--;){const a=t.dateRanges[o[s]],l=a.startDate.getTime();a.tagAnchor=r.ref;for(let r=n;r--;){const n=Xr(t,l,e,r,i);if(-1!==n){a.tagAnchor=t.fragments[n].ref;break}}}}function Xr(e,t,n,r,i){const o=n[r];if(o){const a=o.programDateTime;if(t>=a||0===r){var s;if(t<=a+1e3*(((null==(s=n[r+1])?void 0:s.start)||i)-o.start)){const i=n[r].sn-e.startSN,o=e.fragments;if(o.length>n.length){for(let s=(n[r+1]||o[o.length-1]).sn-e.startSN;s>i;s--){const e=o[s].programDateTime;if(t>=e&&t<e+1e3*o[s].duration)return s}}return i}}}return-1}function Zr(e,t,n){var r,i;const o=new pr(e,n),s=null!=(r=o.METHOD)?r:"",a=o.URI,l=o.hexadecimalInteger("IV"),c=o.KEYFORMATVERSIONS,u=null!=(i=o.KEYFORMAT)?i:"identity";a&&o.IV&&!l&&ze.error("Invalid IV: ".concat(o.IV));const d=a?Kr.resolve(a,t):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new jr(s,d,u,f,l)}function Jr(e){const t=new pr(e).decimalFloatingPoint("TIME-OFFSET");return ye(t)?t:null}function $r(e,t){let n=(e||"").split(/[ ,]+/).filter((e=>e));["video","audio","text"].forEach((e=>{const r=n.filter((t=>Ft(t,e)));r.length&&(t["".concat(e,"Codec")]=r.map((e=>e.split("/")[0])).join(","),n=n.filter((e=>-1===r.indexOf(e))))})),t.unknownCodecs=n}function ei(e,t,n){const r=t[n];r&&(e[n]=r)}function ti(e,t,n){e.rawProgramDateTime?n.push(e):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime)}function ni(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function ri(e,t,n){e.levelkeys=t;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((e=>t[e].isCommonEncryption))||r.push(e)}function ii(e,t,n){e.playlistParsingError=new Error("#EXT-X-".concat(t," must not appear more than once (").concat(n[0],")"))}function oi(e,t,n){e.playlistParsingError=new Error("#EXT-X-".concat(t," must appear before the first Media Segment (").concat(n[0],")"))}function si(e,t){const n=t.startPTS;if(ye(n)){let r,i=0;t.sn>e.sn?(i=n-e.start,r=e):(i=e.start-n,r=t),r.duration!==i&&r.setDuration(i)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.setStart(e.start+(e.minEndPTS-e.start)):t.setStart(e.start+e.duration)}else t.setStart(Math.max(e.start-t.duration,0))}function ai(e,t,n,r,i,o){r-n<=0&&(ze.warn("Fragment should have a positive duration",t),r=n+t.duration,o=i+t.duration);let s=n,a=r;const l=t.startPTS,c=t.endPTS;if(ye(l)){const e=Math.abs(l-n);ye(t.deltaPTS)?t.deltaPTS=Math.max(e,t.deltaPTS):t.deltaPTS=e,s=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,t.startDTS),a=Math.min(r,c),r=Math.max(r,c),o=Math.max(o,t.endDTS)}const u=n-t.start;0!==t.start&&t.setStart(n),t.setDuration(r-t.start),t.startPTS=n,t.maxStartPTS=s,t.startDTS=i,t.endPTS=r,t.minEndPTS=a,t.endDTS=o;const d=t.sn;if(!e||d<e.startSN||d>e.endSN)return 0;let f;const h=d-e.startSN,A=e.fragments;for(A[h]=t,f=h;f>0;f--)si(A[f],A[f-1]);for(f=h;f<A.length-1;f++)si(A[f],A[f+1]);return e.fragmentHint&&si(A[A.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,u}function li(e,t){if(e===t)return;let n=null;const r=e.fragments;for(let l=r.length-1;l>=0;l--){const e=r[l].initSegment;if(e){n=e;break}}let i;e.fragmentHint&&delete e.fragmentHint.endPTS,function(e,t,n){const r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,s=t.startSN-e.startSN,a=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments;for(let c=i;c<=o;c++){const i=l[s+c];let o=a[c];if(r&&!o&&i&&(o=t.fragments[c]=i),i&&o){if(n(i,o,c,a),i.url&&i.url!==o.url)return void(t.playlistParsingError=ci("media sequence mismatch ".concat(o.sn,":"),e,t,i,o));if(i.cc!==o.cc)return void(t.playlistParsingError=ci("discontinuity sequence mismatch (".concat(i.cc,"!=").concat(o.cc,")"),e,t,i,o))}}}(e,t,((r,o,s,a)=>{if(!t.startCC&&o.cc!==r.cc){var l,c;const n=r.cc-o.cc;for(let e=s;e<a.length;e++)a[e].cc+=n;t.startCC=null!=(l=null==(c=hi(e,t.startSN-1))?void 0:c.cc)?l:a[0].cc,t.endCC=a[a.length-1].cc}ye(r.startPTS)&&ye(r.endPTS)&&(o.setStart(o.startPTS=r.startPTS),o.startDTS=r.startDTS,o.maxStartPTS=r.maxStartPTS,o.endPTS=r.endPTS,o.endDTS=r.endDTS,o.minEndPTS=r.minEndPTS,o.setDuration(r.endPTS-r.startPTS),o.duration&&(i=o),t.PTSKnown=t.alignedSliding=!0),r.hasStreams&&(o.elementaryStreams=r.elementaryStreams),o.loader=r.loader,r.hasStats&&(o.stats=r.stats),r.initSegment&&(o.initSegment=r.initSegment,n=r.initSegment)}));const o=t.fragments,s=t.fragmentHint?o.concat(t.fragmentHint):o;if(n&&s.forEach((e=>{var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=n)?void 0:t.relurl)||(e.initSegment=n)})),t.skippedSegments)if(t.deltaUpdateFailed=o.some((e=>!e)),t.deltaUpdateFailed){ze.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let e=t.skippedSegments;e--;)o.shift();t.startSN=o[0].sn}else{t.endCC=o[o.length-1].cc,t.canSkipDateRanges&&(t.dateRanges=function(e,t){const{dateRanges:n,recentlyRemovedDateranges:r}=t,i=Me({},e);r&&r.forEach((e=>{delete i[e]}));const o=Object.keys(i).length;o&&Object.keys(n).forEach((e=>{const t=i[e],r=new mr(n[e].attr,t);r.isValid?(i[e]=r,t||(r.tagOrder+=o)):ze.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(fn(n[e].attr),'"'))}));return i}(e.dateRanges,t));const n=e.fragments.filter((e=>e.rawProgramDateTime));if(e.hasProgramDateTime&&!t.hasProgramDateTime)for(let e=1;e<s.length;e++)null===s[e].programDateTime&&ti(s[e],s[e-1],n);qr(n,t)}!function(e,t,n){if(e&&t){let r=0;for(let i=0,o=e.length;i<=o;i++){const o=e[i],s=t[i+r];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?n(o,s):r--}}}(e.partList,t.partList,((e,t)=>{t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),i?ai(t,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):ui(e,t),o.length&&(t.totalduration=t.edge-o[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;const a=t.advancedDateTime;if(t.advanced&&a){const e=t.edge;t.driftStart||(t.driftStartTime=a,t.driftStart=e),t.driftEndTime=a,t.driftEnd=e}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime;-1===t.requestScheduled&&(t.requestScheduled=e.requestScheduled)}function ci(e,t,n,r,i){return new Error("".concat(e," ").concat(i.url,"\nPlaylist starting @").concat(t.startSN,"\n").concat(t.m3u8,"\n\nPlaylist starting @").concat(n.startSN,"\n").concat(n.m3u8))}function ui(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=t.startSN+t.skippedSegments-e.startSN,i=e.fragments,o=r>=0;let s=0;if(o&&r<i.length)s=i[r].start;else if(o&&t.startSN===e.endSN+1)s=e.fragmentEnd;else if(o&&n)s=e.fragmentStart+r*t.levelTargetDuration;else{if(t.skippedSegments||0!==t.fragmentStart)return;s=e.fragmentStart}di(t,s)}function di(e,t){if(t){const n=e.fragments;for(let r=e.skippedSegments;r<n.length;r++)n[r].addStart(t);e.fragmentHint&&e.fragmentHint.addStart(t)}}function fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=1e3*e.targetduration;if(e.updated){const r=e.fragments,i=4;if(r.length&&n*i>t){const e=1e3*r[r.length-1].duration;e<n&&(n=e)}}else n/=2;return Math.round(n)}function hi(e,t,n){if(!e)return null;let r=e.fragments[t-e.startSN];return r||(r=e.fragmentHint,r&&r.sn===t?r:t<e.startSN&&n&&n.sn===t?n:null)}function Ai(e,t,n){return e?pi(e.partList,t,n):null}function pi(e,t,n){if(e)for(let r=e.length;r--;){const i=e[r];if(i.index===n&&i.fragment.sn===t)return i}return null}function gi(e){e.forEach(((e,t)=>{var n;null==(n=e.details)||n.fragments.forEach((e=>{e.level=t,e.initSegment&&(e.initSegment.level=t)}))}))}function mi(e,t){for(let r=0,i=e.length;r<i;r++){var n;if((null==(n=e[r])?void 0:n.cc)===t)return e[r]}return null}function vi(e,t){if(e){const n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function yi(e,t){const n=t.fragments;for(let r=0,i=n.length;r<i;r++)vi(n[r],e);t.fragmentHint&&vi(t.fragmentHint,e),t.alignedSliding=!0}function bi(e,t){if(!function(e,t){return!!(e&&t.startCC<e.endCC&&t.endCC>e.startCC)}(t,e))return;const n=Math.min(t.endCC,e.endCC),r=mi(t.fragments,n),i=mi(e.fragments,n);if(!r||!i)return;ze.log("Aligning playlist at start of dicontinuity sequence ".concat(n));yi(r.start-i.start,e)}function Ei(e,t){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;const n=e.fragments,r=t.fragments;if(!n.length||!r.length)return;let i,o;const s=Math.min(t.endCC,e.endCC);t.startCC<s&&e.startCC<s&&(i=mi(r,s),o=mi(n,s)),i&&o||(i=r[Math.floor(r.length/2)],o=mi(n,i.cc)||n[Math.floor(n.length/2)]);const a=i.programDateTime,l=o.programDateTime;if(!a||!l)return;yi((l-a)/1e3-(o.start-i.start),e)}const Ci=function(e){let t="";const n=e.length;for(let r=0;r<n;r++)t+="[".concat(e.start(r).toFixed(3),"-").concat(e.end(r).toFixed(3),"]");return t},wi="STOPPED",Si="IDLE",Ti="KEY_LOADING",ki="FRAG_LOADING",xi="FRAG_LOADING_WAITING_RETRY",Li="WAITING_TRACK",Ii="PARSING",Ri="PARSED",Di="ENDED",Bi="ERROR",Pi="WAITING_INIT_PTS",Oi="WAITING_LEVEL";class Mi extends ir{constructor(e,t,n,r,i){super(r,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=wi,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:e,fragCurrent:t,media:n,mediaBuffer:r,state:i}=this,o=n?n.currentTime:0,s=ar.bufferInfo(r||n,o,e.maxBufferHole);if(this.log("media seeking to ".concat(ye(o)?o.toFixed(3):o,", state: ").concat(i)),this.state===Di)this.resetLoadingState();else if(t){const n=e.maxFragLookUpTolerance,r=t.start-n,i=t.start+t.duration+n;if(!s.len||i<s.start||r>s.end){const e=o>i;(o<r||e)&&(e&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(n){this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0);if(o>this.lastCurrentTime&&(this.lastCurrentTime=o),!this.loadingParts){const e=Math.max(s.end,o),t=this.shouldLoadParts(this.getLevelDetails(),e);t&&(this.log("LL-Part loading ON after seeking to ".concat(o.toFixed(2)," with buffer @").concat(e.toFixed(2))),this.loadingParts=t)}}this.hls.hasEnoughToStart||s.len||(this.log("setting startPosition to ".concat(o," because of seek before start")),this.nextLoadPosition=this.startPosition=o),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=i,this.hls=e,this.fragmentLoader=new er(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new Jn(e.config)}registerListeners(){const{hls:e}=this;e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Se.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Se.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===wi)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=wi}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return-1===t&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const n=e.end||0,r=this.config.timelineOffset||0;if(n<=r)return!1;const i=e.nextStart;if(i&&i>r&&i<t.edge)return!1;if(this.media.currentTime<e.start)return!1;const o=t.partList;if(null!=o&&o.length){const e=o[o.length-1];return ar.isBuffered(this.media,e.start+e.duration/2)}const s=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(s)}getLevelDetails(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details}get timelineOffset(){const e=this.config.timelineOffset;var t;return e?(null==(t=this.getLevelDetails())?void 0:t.appliedTimelineOffset)||e:0}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;n.removeEventListener("seeking",this.onMediaSeeking),n.removeEventListener("ended",this.onMediaEnded),n.addEventListener("seeking",this.onMediaSeeking),n.addEventListener("ended",this.onMediaEnded);const r=this.config;this.levels&&r.autoStartLoad&&this.state===wi&&this.startLoad(r.startPosition)}onMediaDetaching(e,t){const n=!!t.transferMedia,r=this.media;if(null!==r){if(r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),r.removeEventListener("seeking",this.onMediaSeeking),r.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n)return this.resetLoadingState(),void this.resetTransmuxer();this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=wi,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this.startFragRequested=!0,this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){this._doFragLoad(e,t,n,(e=>{const t=e.frag;if(this.fragContextChanged(t))return this.warn("".concat(t.type," sn: ").concat(t.sn).concat(e.part?" part: "+e.part.index:""," of ").concat(this.fragInfo(t,!1,e.part),") was dropped during download.")),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e)})).then((e=>{if(!e)return;const t=this.state,n=e.frag;this.fragContextChanged(n)?(t===ki||!this.fragCurrent&&t===Ii)&&(this.fragmentTracker.removeFragment(n),this.state=Si):("payload"in e&&(this.log("Loaded ".concat(n.type," sn: ").concat(n.sn," of ").concat(this.playlistLabel()," ").concat(n.level)),this.hls.trigger(Se.FRAG_LOADED,e)),this._handleFragmentLoadComplete(e))})).catch((t=>{this.state!==wi&&this.state!==Bi&&(this.warn("Frag error: ".concat((null==t?void 0:t.message)||t)),this.resetFragmentLoading(e))}))}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===Qn){const t=e.type,r=this.getFwdBufferInfo(this.mediaBuffer,t),i=Math.max(e.duration,r?r.len:this.config.maxBufferLength),o=this.backtrackFragment;(1===(o?e.sn-o.sn:0)||this.reduceMaxBufferLength(i,e.duration))&&n.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Gn&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return(null==t?void 0:t.live)&&"EVENT"!==t.type&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t){if(!(e-t))return;const n={startOffset:e,endOffset:t,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};this.hls.trigger(Se.BUFFER_FLUSHING,n)}_loadInitSegment(e,t){this._doFragLoad(e,t).then((e=>{const t=null==e?void 0:e.frag;if(!t||this.fragContextChanged(t)||!this.levels)throw new Error("init load aborted");return e})).then((e=>{const{hls:t}=this,{frag:n,payload:r}=e,i=n.decryptdata;if(r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&yr(i.method)){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer,br(i.method)).catch((e=>{throw t.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:n}),e})).then((r=>{const i=self.performance.now();return t.trigger(Se.FRAG_DECRYPTED,{frag:n,payload:r,stats:{tstart:o,tdecrypt:i}}),e.payload=r,this.completeInitSegmentLoad(e)}))}return this.completeInitSegmentLoad(e)})).catch((t=>{this.state!==wi&&this.state!==Bi&&(this.warn(t),this.resetFragmentLoading(e))}))}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==wi&&(this.state=Si),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.fragInfo(e,!1,t)," > buffer:").concat(n?Ci(ar.getBuffered(n)):"(detached)",")")),it(e)){var r;if(e.type!==De){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return void(this.state=Si)}const t=null==(r=this.levels)?void 0:r[e.level];null!=t&&t.fragmentError&&(this.log("Resetting level fragment error count of ".concat(t.fragmentError," on frag buffered")),t.fragmentError=0)}this.state=Si}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:r,partsLoaded:i}=e,o=!i||0===i.length||i.some((e=>!e)),s=new or(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(s)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;var i;this.fragCurrent=e;const o=null==t?void 0:t.details;if(!this.levels||!o)throw new Error("frag load aborted, missing level".concat(o?"":" detail","s"));let s=null;!e.encrypted||null!=(i=e.decryptdata)&&i.key?!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments):(this.log("Loading key for ".concat(e.sn," of [").concat(o.startSN,"-").concat(o.endSN,"], ").concat(this.playlistLabel()," ").concat(e.level)),this.state=Ti,this.fragCurrent=e,s=this.keyLoader.load(e).then((e=>{if(!this.fragContextChanged(e.frag))return this.hls.trigger(Se.KEY_LOADED,e),this.state===Ti&&(this.state=Si),e})),this.hls.trigger(Se.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(s=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING"))));const a=this.fragPrevious;if(it(e)&&(!a||e.sn!==a.sn)){const n=this.shouldLoadParts(t.details,e.end);n!==this.loadingParts&&(this.log("LL-Part loading ".concat(n?"ON":"OFF"," loading sn ").concat(null==a?void 0:a.sn,"->").concat(e.sn)),this.loadingParts=n)}if(n=Math.max(e.start,n||0),this.loadingParts&&it(e)){const i=o.partList;if(i&&r){n>e.end&&o.fragmentHint&&(e=o.fragmentHint);const a=this.getNextPart(i,e,n);if(a>-1){const l=i[a];let c;return e=this.fragCurrent=l.fragment,this.log("Loading ".concat(e.type," sn: ").concat(e.sn," part: ").concat(l.index," (").concat(a,"/").concat(i.length-1,") of ").concat(this.fragInfo(e,!1,l),") cc: ").concat(e.cc," [").concat(o.startSN,"-").concat(o.endSN,"], target: ").concat(parseFloat(n.toFixed(3)))),this.nextLoadPosition=l.start+l.duration,this.state=ki,c=s?s.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(e,l,t,r))).catch((e=>this.handleFragLoadError(e))):this.doFragPartsLoad(e,l,t,r).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(Se.FRAG_LOADING,{frag:e,part:l,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(i,n))return Promise.resolve(null)}}if(it(e)&&this.loadingParts)this.log("LL-Part loading OFF after next part miss @".concat(n.toFixed(2))),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log("Loading ".concat(e.type," sn: ").concat(e.sn," of ").concat(this.fragInfo(e,!1),") cc: ").concat(e.cc," ").concat(o?"["+o.startSN+"-"+o.endSN+"]":"",", target: ").concat(parseFloat(n.toFixed(3)))),ye(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ki;const l=this.config.progressive;let c;return c=l&&s?s.then((t=>!t||this.fragContextChanged(null==t?void 0:t.frag)?null:this.fragmentLoader.load(e,r))).catch((e=>this.handleFragLoadError(e))):Promise.all([this.fragmentLoader.load(e,l?r:void 0),s]).then((e=>{let[t]=e;return!l&&t&&r&&r(t),t})).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(Se.FRAG_LOADING,{frag:e,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,t,n,r){return new Promise(((i,o)=>{var s;const a=[],l=null==(s=n.details)?void 0:s.partList,c=t=>{this.fragmentLoader.loadPart(e,t,r).then((r=>{a[t.index]=r;const o=r.part;this.hls.trigger(Se.FRAG_LOADED,r);const s=Ai(n.details,e.sn,t.index+1)||pi(l,e.sn,t.index+1);if(!s)return i({frag:e,part:o,partsLoaded:a});c(s)})).catch(o)};c(t)}))}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===we.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(Se.ERROR,t)}else this.hls.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==Ii)return void(this.fragCurrent||this.state===wi||this.state===Bi||(this.state=Si));const{frag:n,part:r,level:i}=t,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o);const s=this.getLevelDetails(),a=s&&n.sn>s.endSN||this.shouldLoadParts(s,n.end);a!==this.loadingParts&&(this.log("LL-Part loading ".concat(a?"ON":"OFF"," after parsing segment ending @").concat(n.end.toFixed(2))),this.loadingParts=a),this.updateLevelTiming(n,r,i,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(null!=e&&e.partList){var n;const i=e.partList[0];if(t>=i.end+((null==(n=e.fragmentHint)?void 0:n.duration)||0)){var r;if((this.hls.hasEnoughToStart?(null==(r=this.media)?void 0:r.currentTime)||this.lastCurrentTime:this.getLoadPosition())>i.start-i.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:r,sn:i,part:o}=e;if(null==t||!t[r])return this.warn("Levels object was unset while buffering fragment ".concat(i," of ").concat(this.playlistLabel()," ").concat(r,". The current chunk will not be buffered.")),null;const s=t[r],a=s.details,l=o>-1?Ai(a,i,o):null,c=l?l.fragment:hi(a,i,n);return c?(n&&n!==c&&(c.stats=n.stats),{frag:c,part:l,level:s}):null}bufferFragmentData(e,t,n,r,i){var o;if(!e||this.state!==Ii)return;const{data1:s,data2:a}=e;let l=s;if(s&&a&&(l=xt(s,a)),null==(o=l)||!o.length)return;const c={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:l};if(this.hls.trigger(Se.BUFFER_APPENDING,c),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!ar.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,e.start);const n=t.currentTime,r=ar.bufferInfo(t,n,0),i=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-o,r.end-o),n+o);e.start-s>o&&this.flushMainBuffer(s,e.start)}getFwdBufferInfo(e,t){var n;const r=this.getLoadPosition();if(!ye(r))return null;const i=this.lastCurrentTime>r||null!=(n=this.media)&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,r,t,i)}getFwdBufferInfoAtPos(e,t,n,r){const i=ar.bufferInfo(e,t,r);if(0===i.len&&void 0!==i.nextStart){const o=this.fragmentTracker.getBufferedFrag(t,n);if(o&&(i.nextStart<=o.end||o.gap)){const n=Math.max(Math.min(i.nextStart,o.end)-t,r);return ar.bufferInfo(e,t,n)}}return i}getMaxBufferLength(e){const{config:t}=this;let n;return n=e?Math.max(8*t.maxBufferSize/e,t.maxBufferLength):t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const n=this.config,r=Math.max(Math.min(e-t,n.maxBufferLength),t),i=Math.max(e-3*t,n.maxMaxBufferLength/2,r);return i>=r&&(n.maxMaxBufferLength=i,this.warn("Reduce max buffer length to ".concat(i,"s")),!0)}getAppendedFrag(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;var n;const r=null==(n=this.fragmentTracker)?void 0:n.getAppendedFrag(e,t);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,t){const n=t.fragments,r=n.length;if(!r)return null;const{config:i}=this,o=n[0].start,s=i.lowLatencyMode&&!!t.partList;let a=null;if(t.live){const c=i.initialLiveManifestSize;if(r<c)return this.warn("Not enough fragments to start playback (have: ".concat(r,", need: ").concat(c,")")),null;if(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<o){var l;s&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),a=this.getInitialLiveFragment(t,n);const r=this.hls.startPosition,i=this.hls.liveSyncPosition,c=a?(-1!==r&&r>=o?r:i)||a.start:e;this.log("Setting startPosition to ".concat(c," to match start frag at live edge. mainStart: ").concat(r," liveSyncPosition: ").concat(i," frag.start: ").concat(null==(l=a)?void 0:l.start)),this.startPosition=this.nextLoadPosition=c}}else e<=o&&(a=n[0]);if(!a){const n=this.loadingParts?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,n,t)}let c=this.filterReplacedPrimary(a,t);if(!c&&a){const e=a.sn-t.startSN;c=this.filterReplacedPrimary(n[e+1]||null,t)}return this.mapToInitFragWhenRequired(c)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===jn||n===Gn&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,r,i){let o=null;if(e.gap&&(o=this.getNextFragment(this.nextLoadPosition,t),o&&!o.gap&&n.nextStart)){const e=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r,0);if(null!==e&&n.len+e.len>=i){const e=o.sn;return this.loopSn!==e&&(this.log('buffer full after gaps in "'.concat(r,'" playlist starting at sn: ').concat(e)),this.loopSn=e),null}}return this.loopSn=void 0,o}get primaryPrefetch(){if(_i(this.hls.config)){var e,t;if(null==(e=this.hls.interstitialsManager)||null==(t=e.playingItem)?void 0:t.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(_i(this.hls.config)&&e.type!==De){const n=this.hls.interstitialsManager,r=null==n?void 0:n.bufferingItem;if(r){const n=r.event;if(n){if(n.appendInPlace||Math.abs(e.start-r.start)>1||0===r.start)return null}else{if(e.end<=r.start&&!1===(null==t?void 0:t.live))return null;if(e.start>r.end&&r.nextEvent&&(r.nextEvent.appendInPlace||e.start-r.end>1))return null}}const i=null==n?void 0:n.playerQueue;if(i)for(let t=i.length;t--;){const n=i[t].interstitial;if(n.appendInPlace&&e.start>=n.startTime&&e.end<=n.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}getNextPart(e,t,n){let r=-1,i=!1,o=!0;for(let s=0,a=e.length;s<a;s++){const a=e[s];if(o=o&&!a.independent,r>-1&&n<a.start)break;const l=a.loaded;l?r=-1:(i||a.independent||o)&&a.fragment===t&&(r=s),i=l}return r}loadedEndOfParts(e,t){const n=e[e.length-1];return n&&t>n.start&&n.loaded}getInitialLiveFragment(e,t){const n=this.fragPrevious;let r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(n.programDateTime)),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!ye(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<e.length;++r){const i=e[r];if(Sn(t,n,i))return i}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){const o=t[i-e.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(r.sn)))}r||(r=Tn(t,n.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(r.sn)))}}else{const t=this.hls.liveSyncPosition;null!==t&&(r=this.getFragmentAtPosition(t,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}getFragmentAtPosition(e,t,n){const{config:r}=this;let{fragPrevious:i}=this,{fragments:o,endSN:s}=n;const{fragmentHint:a}=n,{maxFragLookUpTolerance:l}=r,c=n.partList,u=!!(this.loadingParts&&null!=c&&c.length&&a);let d;if(u&&a&&!this.bitrateTest&&c[c.length-1].fragment.sn===a.sn&&(o=o.concat(a),s=a.sn),e<t){var f;d=Cn(i,o,e,e<this.lastCurrentTime||e>t-l||null!=(f=this.media)&&f.paused||!this.startFragRequested?0:l)}else d=o[o.length-1];if(d){const e=d.sn-n.startSN,t=this.fragmentTracker.getState(d);if((t===jn||t===Gn&&d.gap)&&(i=d),i&&d.sn===i.sn&&(!u||c[0].fragment.sn>d.sn||!n.live&&!u)){if(i&&d.level===i.level){const t=o[e+1];d=d.sn<s&&this.fragmentTracker.getState(t)!==jn?t:null}}}return d}alignPlaylists(e,t,n){const r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const i=e.fragmentStart,o=!t,s=e.alignedSliding&&ye(i);if(o||!s&&!i){!function(e,t){e&&(bi(t,e),!t.alignedSliding&&e&&Ei(t,e),t.alignedSliding||!e||t.skippedSegments||ui(e,t,!1))}(n,e);const i=e.fragmentStart;return this.log("Live playlist sliding: ".concat(i.toFixed(2)," start-sn: ").concat(t?t.startSN:"na","->").concat(e.startSN," fragments: ").concat(r)),i}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}setStartPosition(e,t){let n=this.startPosition;n<t&&(n=-1);const r=this.timelineOffset;if(-1===n){const i=null!==this.startTimeOffset,o=i?this.startTimeOffset:e.startTimeOffset;null!==o&&ye(o)?(n=t+o,o<0&&(n+=e.edge),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Setting startPosition to ".concat(n," for start time offset ").concat(o," found in ").concat(i?"multivariant":"media"," playlist")),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||t,this.log("Setting startPosition to -1 to start at live edge ".concat(n)),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+r}this.nextLoadPosition=n+r}getLoadPosition(){var e;const{media:t}=this;let n=0;return null!=(e=this.hls)&&e.hasEnoughToStart&&t?n=t.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&it(e)&&e.stats.aborted&&(this.warn("Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of ").concat(this.playlistLabel()," ").concat(e.level," was aborted")),this.resetFragmentLoading(e))}resetFragmentLoading(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===xi)||(this.state=Si)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const e=this.getCurrentContext(t.chunkMeta);e&&(t.frag=e.frag)}const n=t.frag;if(!n||n.type!==e||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn("Frag load error must match current frag to retry ".concat(n.url," > ").concat(null==(r=this.fragCurrent)?void 0:r.url));const i=t.details===we.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(n,!0);const o=t.errorAction,{action:s,flags:a,retryCount:l=0,retryConfig:c}=o||{},u=!!o&&!!c,d=u&&s===On,f=u&&!o.resolved&&a===_n;if(!d&&f&&it(n)&&!n.endList)this.resetFragmentErrors(e),this.treatAsGap(n),o.resolved=!0;else if((d||f)&&l<c.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const r=Ln(c,l);this.warn("Fragment ".concat(n.sn," of ").concat(e," ").concat(n.level," errored with ").concat(t.details,", retrying loading ").concat(l+1,"/").concat(c.maxNumRetry," in ").concat(r,"ms")),o.resolved=!0,this.retryDate=self.performance.now()+r,this.state=xi}else if(c&&o){if(this.resetFragmentErrors(e),!(l<c.maxNumRetry))return void this.warn("".concat(t.details," reached or exceeded max retry (").concat(l,")"));i||s===Pn||(o.resolved=!0)}else this.state=s===Bn?Oi:Bi;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===Ii||this.state===Ri){const t=e.frag,n=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,n),i=r&&r.len>.5;i&&this.reduceMaxBufferLength(r.len,(null==t?void 0:t.duration)||10);const o=!i;return o&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(n," buffer")),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===Re&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==wi&&(this.state=Si)}afterBufferFlushed(e,t,n){if(!e)return;const r=ar.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===Di&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==wi&&(this.state=Si)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=e?e.details:null;null!=t&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn("The loading context changed while buffering fragment ".concat(e.sn," of ").concat(this.playlistLabel()," ").concat(e.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,r){const i=n.details;if(!i)return void this.warn("level.details undefined");var o;if(!Object.keys(e.elementaryStreams).reduce(((t,o)=>{const s=e.elementaryStreams[o];if(s){const a=s.endPTS-s.startPTS;if(a<=0)return this.warn("Could not parse fragment ".concat(e.sn," ").concat(o," duration reliably (").concat(a,")")),t||!1;const l=r?0:ai(i,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return this.hls.trigger(Se.LEVEL_PTS_UPDATED,{details:i,level:n,drift:l,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)&&(0===n.fragmentError&&this.treatAsGap(e,n),null===(null==(o=this.transmuxer)?void 0:o.error))){const t=new Error("Found no media in fragment ".concat(e.sn," of ").concat(this.playlistLabel()," ").concat(e.level," resetting transmuxer to fallback to playlist timing"));if(this.warn(t.message),this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_PARSING_ERROR,fatal:!1,error:t,frag:e,reason:"Found no media in msn ".concat(e.sn," of ").concat(this.playlistLabel(),' "').concat(n.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=Ri,this.log("Parsed ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.fragInfo(e,!1,t),")")),this.hls.trigger(Se.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Ie?"level":"track"}fragInfo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;var r,i;return"".concat(this.playlistLabel()," ").concat(e.level," (").concat(n?"part":"frag",":[").concat((null!=(r=t&&!n?e.startPTS:(n||e).start)?r:NaN).toFixed(3),"-").concat((null!=(i=t&&!n?e.endPTS:(n||e).end)?i:NaN).toFixed(3),"]").concat(n&&"main"===e.type?"INDEPENDENT="+(n.independent?"YES":"NO"):"")}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;null==(e=this.transmuxer)||e.reset()}recoverWorkerError(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log("".concat(t,"->").concat(e)))}get state(){return this._state}}function _i(e){return!!e.interstitialsController&&!1!==e.enableInterstitialPlayback}class Fi{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;return e.length?(n=1===e.length?e[0]:function(e,t){const n=new Uint8Array(t);let r=0;for(let i=0;i<e.length;i++){const t=e[i];n.set(t,r),r+=t.length}return n}(e,t),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}var Ni,Ui={exports:{}};var Qi=(Ni||(Ni=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(Ui)),Ui.exports),Gi=qe(Qi);const ji="1.6.2",Wi={};function zi(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}function Hi(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}function Yi(e,t){let n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3],n}function Vi(e,t){const n=t;let r=0;for(;Hi(e,t);){r+=10;r+=Yi(e,t+6),zi(e,t+10)&&(r+=10),t+=r}if(r>0)return e.subarray(n,n+r)}function Ki(e,t){return 255===e[t]&&240===(246&e[t+1])}function qi(e,t){return 1&e[t+1]?7:9}function Xi(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Zi(e,t){return t+1<e.length&&Ki(e,t)}function Ji(e,t){if(Zi(e,t)){const n=qi(e,t);if(t+n>=e.length)return!1;const r=Xi(e,t);if(r<=n)return!1;const i=t+r;return i===e.length||Zi(e,i)}return!1}function $i(e,t,n,r,i){if(!e.samplerate){const o=function(e,t,n,r){const i=t[n+2],o=i>>2&15;if(o>12){const t=new Error("invalid ADTS sampling index:".concat(o));return void e.emit(Se.ERROR,Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_PARSING_ERROR,fatal:!0,error:t,reason:t.message})}const s=1+(i>>6&3),a=t[n+3]>>6&3|(1&i)<<2,l="mp4a.40."+s,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][o];let u=o;5!==s&&29!==s||(u-=3);const d=[s<<3|(14&u)>>1,(1&u)<<7|a<<3];return ze.log("manifest codec:".concat(r,", parsed codec:").concat(l,", channels:").concat(a,", rate:").concat(c," (ADTS object type:").concat(s," sampling index:").concat(o,")")),{config:d,samplerate:c,channelCount:a,codec:l,parsedCodec:l,manifestCodec:r}}(t,n,r,i);if(!o)return;Me(e,o)}}function eo(e){return 9216e4/e}function to(e,t,n,r,i){const o=r+i*eo(e.samplerate),s=function(e,t){const n=qi(e,t);if(t+n<=e.length){const r=Xi(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}(t,n);let a;if(s){const{frameLength:r,headerLength:i}=s,l=i+r,c=Math.max(0,n+l-t.length);c?(a=new Uint8Array(l-i),a.set(t.subarray(n+i,t.length),0)):a=t.subarray(n+i,n+l);const u={unit:a,pts:o};return c||e.samples.push(u),{sample:u,length:l,missing:c}}const l=t.length-n;a=new Uint8Array(l),a.set(t.subarray(n,t.length),0);return{sample:{unit:a,pts:o},length:l,missing:-1}}function no(e,t){return Hi(e,t)&&Yi(e,t+6)+10<=e.length-t}function ro(e,t){if(e<0)return-ro(-e,t);const n=Math.pow(10,t);if(Math.abs(e*n%1-.5)<Number.EPSILON){const t=Math.floor(e*n);return(t%2===0?t:t+1)/n}return Math.round(e*n)/n}function io(e){return function(e,t,n,r){const i=function(e){return e instanceof ArrayBuffer?e:e.buffer}(e);let o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);const s=(d=e,d&&d.buffer instanceof ArrayBuffer&&void 0!==d.byteLength&&void 0!==d.byteOffset?e.byteOffset:0),a=(s+e.byteLength)/o,l=(s+t)/o,c=Math.floor(Math.max(0,Math.min(l,a))),u=Math.floor(Math.min(c+Math.max(n,0),a));var d;return new r(i,c,u-c)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,Uint8Array)}function oo(e){const t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.size<2)return;if(3!==e.data[0])return void console.log("Ignore frame with unrecognized character encoding");const n=e.data.subarray(1).indexOf(0);if(-1===n)return;const r=Ve(io(e.data,1,n)),i=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(-1===o)return;const s=Ve(io(e.data,3+n,o));let a;return a="--\x3e"===r?Ve(io(e.data,4+n+o)):function(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}(e.data.subarray(4+n+o)),t.mimeType=r,t.pictureType=i,t.description=s,t.data=a,t}function so(e){return"PRIV"===e.type?function(e){if(e.size<2)return;const t=Ve(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}(e):"W"===e.type[0]?function(e){if("WXXX"===e.type){if(e.size<2)return;let t=1;const n=Ve(e.data.subarray(t),!0);t+=n.length+1;const r=Ve(e.data.subarray(t));return{key:e.type,info:n,data:r}}const t=Ve(e.data);return{key:e.type,info:"",data:t}}(e):"APIC"===e.type?oo(e):function(e){if(e.size<2)return;if("TXXX"===e.type){let t=1;const n=Ve(e.data.subarray(t),!0);t+=n.length+1;const r=Ve(e.data.subarray(t));return{key:e.type,info:n,data:r}}const t=Ve(e.data.subarray(1));return{key:e.type,info:"",data:t}}(e)}function ao(e){const t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=Yi(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}}function lo(e){let t=0;const n=[];for(;Hi(e,t);){const r=Yi(e,t+6);e[t+5]>>6&1&&(t+=10),t+=10;const i=t+r;for(;t+10<i;){const r=ao(e.subarray(t)),i=so(r);i&&n.push(i),t+=r.size+10}zi(e,t)&&(t+=10)}return n}function co(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info}function uo(e){if(8===e.data.byteLength){const t=new Uint8Array(e.data),n=1&t[3];let r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}}function fo(e){const t=lo(e);for(let n=0;n<t.length;n++){const e=t[n];if(co(e))return uo(e)}}let ho=function(e){return e.audioId3="org.id3",e.dateRange="com.apple.quicktime.HLS",e.emsg="https://aomedia.org/emsg/ID3",e.misbklv="urn:misb:KLV:bin:1910.1",e}({});function Ao(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",id:-1,pid:-1,inputTimeScale:arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4,sequenceNumber:-1,samples:[],dropped:0}}class po{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=xt(this.cachedData,e),this.cachedData=null);let n,r=Vi(e,0),i=r?r.length:0;const o=this._audioTrack,s=this._id3Track,a=r?fo(r):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&ye(a))&&(this.basePTS=go(a,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:ho.audioId3,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const t=this.appendFrame(o,e,i);t?(this.frameIndex++,this.lastPTS=t.sample.pts,i+=t.length,n=i):i=l}else no(e,i)?(r=Vi(e,i),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:ho.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,n=i):i++;if(i===l&&n!==l){const t=e.slice(n);this.cachedData?this.cachedData=xt(this.cachedData,t):this.cachedData=t}}return{audioTrack:o,videoTrack:Ao(),id3Track:s,textTrack:Ao()}}demuxSampleAes(e,t,n){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Ao(),id3Track:this._id3Track,textTrack:Ao()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const go=(e,t,n)=>{if(ye(e))return 90*e;return 9e4*t+(n?9e4*n.baseTime/n.timescale:0)};let mo=null;const vo=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],yo=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],bo=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Eo=[0,1,1,4];function Co(e,t,n,r,i){if(n+24>t.length)return;const o=wo(t,n);if(o&&n+o.frameLength<=t.length){const s=r+i*(9e4*o.samplesPerFrame/o.sampleRate),a={unit:t.subarray(n,n+o.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(a),{sample:a,length:o.frameLength,missing:0}}}function wo(e,t){const n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){const s=e[t+2]>>1&1,a=e[t+3]>>6,l=1e3*vo[14*(3===n?3-r:3===r?3:4)+i-1],c=yo[3*(3===n?0:2===n?1:2)+o],u=3===a?1:2,d=bo[n][r],f=Eo[r],h=8*d*f,A=Math.floor(d*l/c+s)*f;if(null===mo){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);mo=e?parseInt(e[1]):0}return!!mo&&mo<=87&&2===r&&l>=224e3&&0===a&&(e[t+3]=128|e[t+3]),{sampleRate:c,channelCount:u,frameLength:A,samplesPerFrame:h}}}function So(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function To(e,t){return t+1<e.length&&So(e,t)}function ko(e,t){if(t+1<e.length&&So(e,t)){const n=4,r=wo(e,t);let i=n;null!=r&&r.frameLength&&(i=r.frameLength);const o=t+i;return o===e.length||To(e,o)}return!1}const xo=(e,t)=>{let n=0,r=5;t+=r;const i=new Uint32Array(1),o=new Uint32Array(1),s=new Uint8Array(1);for(;r>0;){s[0]=e[t];const a=Math.min(r,8),l=8-a;o[0]=4278190080>>>24+l<<l,i[0]=(s[0]&o[0])>>l,n=n?n<<a|i[0]:i[0],t+=1,r-=a}return n};class Lo extends po{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const r=Io(e,t,n,this.basePTS,this.frameIndex);if(-1!==r){return{sample:e.samples[e.samples.length-1],length:r,missing:0}}}static probe(e){if(!e)return!1;const t=Vi(e,0);if(!t)return!1;const n=t.length;return 11===e[n]&&119===e[n+1]&&void 0!==fo(t)&&xo(e,n)<16}}function Io(e,t,n,r,i){if(n+8>t.length)return-1;if(11!==t[n]||119!==t[n+1])return-1;const o=t[n+4]>>6;if(o>=3)return-1;const s=[48e3,44100,32e3][o],a=63&t[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*a+o];if(n+l>t.length)return-1;const c=t[n+6]>>5;let u=0;2===c?u+=2:(1&c&&1!==c&&(u+=2),4&c&&(u+=2));const d=(t[n+6]<<8|t[n+7])>>12-u&1,f=[2,1,2,3,3,4,4,5][c]+d,h=t[n+5]>>3,A=7&t[n+5],p=new Uint8Array([o<<6|h<<1|A>>2,(3&A)<<6|c<<3|d<<2|a>>4,a<<4&224]),g=r+i*(1536/s*9e4),m=t.subarray(n,n+l);return e.config=p,e.channelCount=f,e.samplerate=s,e.samples.push({unit:m,pts:g}),l}const Ro=/\/emsg[-/]ID3/i;function Do(e,t){return ye(e.presentationTime)?e.presentationTime/e.timeScale:t+e.presentationTimeDelta/e.timeScale}class Bo{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Jn(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Vn)}decryptAacSample(e,t,n){const r=e[t].unit;if(r.length<=16)return;const i=r.subarray(16,r.length-r.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(o).then((i=>{const o=new Uint8Array(i);r.set(o,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)}))}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t);let r=0;for(let i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let r=0;for(let i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e}decryptAvcSample(e,t,n,r,i){const o=Bt(i.data),s=this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then((s=>{i.data=this.getAvcDecryptedUnit(o,s),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,r)}))}decryptAvcSamples(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();const i=e[t].units;for(;!(n>=i.length);n++){const o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)&&(this.decryptAvcSample(e,t,n,r,o),!this.decrypter.isSync()))return}}}}class Po{constructor(){this.VideoSample=null}createVideoSample(e,t,n){return{key:e,frame:!1,pts:t,dts:n,units:[],length:0}}getLastNalUnit(e){var t;let n,r=this.VideoSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){const e=r.units;n=e[e.length-1]}return n}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){const n=t.samples,r=n.length;if(!r)return void t.dropped++;{const t=n[r-1];e.pts=t.pts,e.dts=t.dts}}t.samples.push(e)}}parseNALu(e,t,n){const r=t.byteLength;let i=e.naluState||0;const o=i,s=[];let a,l,c,u=0,d=-1,f=0;for(-1===i&&(d=0,f=this.getNALuType(t,0),i=0,u=1);u<r;)if(a=t[u++],i)if(1!==i)if(a)if(1===a){if(l=u-i-1,d>=0){const e={data:t.subarray(d,l),type:f};s.push(e)}else{const n=this.getLastNalUnit(e.samples);n&&(o&&u<=4-o&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-o)),l>0&&(n.data=xt(n.data,t.subarray(0,l)),n.state=0))}u<r?(c=this.getNALuType(t,u),d=u,f=c,i=0):i=-1}else i=0;else i=3;else i=a?0:2;else i=a?0:1;if(d>=0&&i>=0){const e={data:t.subarray(d,r),type:f,state:i};s.push(e)}if(0===s.length){const n=this.getLastNalUnit(e.samples);n&&(n.data=xt(n.data,t))}return e.naluState=i,s}}class Oo{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}skipBits(e){let t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(t=(e-=this.bitsAvailable)>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&ze.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class Mo extends Po{parsePES(e,t,n,r){const i=this.parseNALu(e,n.data,r);let o,s=this.VideoSample,a=!1;n.data=null,s&&i.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),i.forEach((r=>{var i,l;switch(r.type){case 1:{let t=!1;o=!0;const i=r.data;if(a&&i.length>4){const e=this.readSliceType(i);2!==e&&4!==e&&7!==e&&9!==e||(t=!0)}var c;if(t)null!=(c=s)&&c.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null);s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.frame=!0,s.key=t;break}case 5:o=!0,null!=(i=s)&&i.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 6:o=!0,Dt(r.data,1,n.pts,t.samples);break;case 7:{var u,d;o=!0,a=!0;const t=r.data,n=this.readSPS(t);if(!e.sps||e.width!==n.width||e.height!==n.height||(null==(u=e.pixelRatio)?void 0:u[0])!==n.pixelRatio[0]||(null==(d=e.pixelRatio)?void 0:d[1])!==n.pixelRatio[1]){e.width=n.width,e.height=n.height,e.pixelRatio=n.pixelRatio,e.sps=[t];const r=t.subarray(1,4);let i="avc1.";for(let e=0;e<3;e++){let t=r[e].toString(16);t.length<2&&(t="0"+t),i+=t}e.codec=i}break}case 8:o=!0,e.pps=[r.data];break;case 9:o=!0,e.audFound=!0,null!=(l=s)&&l.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:o=!0;break;default:o=!1}if(s&&o){s.units.push(r)}})),r&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}getNALuType(e,t){return 31&e[t]}readSliceType(e){const t=new Oo(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let n,r=8,i=8;for(let o=0;o<e;o++)0!==i&&(n=t.readEG(),i=(r+n+256)%256),r=0===i?r:i}readSPS(e){const t=new Oo(e);let n,r,i,o=0,s=0,a=0,l=0;const c=t.readUByte.bind(t),u=t.readBits.bind(t),d=t.readUEG.bind(t),f=t.readBoolean.bind(t),h=t.skipBits.bind(t),A=t.skipEG.bind(t),p=t.skipUEG.bind(t),g=this.skipScalingList.bind(this);c();const m=c();if(u(5),h(3),c(),p(),100===m||110===m||122===m||244===m||44===m||83===m||86===m||118===m||128===m){const e=d();if(3===e&&h(1),p(),p(),h(1),f())for(r=3!==e?8:12,i=0;i<r;i++)f()&&g(i<6?16:64,t)}p();const v=d();if(0===v)d();else if(1===v)for(h(1),A(),A(),n=d(),i=0;i<n;i++)A();p(),h(1);const y=d(),b=d(),E=u(1);0===E&&h(1),h(1),f()&&(o=d(),s=d(),a=d(),l=d());let C=[1,1];if(f()&&f()){switch(c()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:C=[c()<<8|c(),c()<<8|c()]}}return{width:Math.ceil(16*(y+1)-2*o-2*s),height:(2-E)*(b+1)*16-(E?2:4)*(a+l),pixelRatio:C}}}class _o extends Po{constructor(){super(...arguments),this.initVPS=null}parsePES(e,t,n,r){const i=this.parseNALu(e,n.data,r);let o,s=this.VideoSample,a=!1;n.data=null,s&&i.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),i.forEach((r=>{var i,l;switch(r.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.frame=!0,o=!0;break;case 16:case 17:case 18:case 21:var c;if(o=!0,a)null!=(c=s)&&c.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null);s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 19:case 20:o=!0,null!=(i=s)&&i.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 39:o=!0,Dt(r.data,2,n.pts,t.samples);break;case 32:o=!0,e.vps||("object"!==typeof e.params&&(e.params={}),e.params=Me(e.params,this.readVPS(r.data)),this.initVPS=r.data),e.vps=[r.data];break;case 33:if(o=!0,a=!0,void 0===e.vps||e.vps[0]===this.initVPS||void 0===e.sps||this.matchSPS(e.sps[0],r.data)||(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const t=this.readSPS(r.data);e.width=t.width,e.height=t.height,e.pixelRatio=t.pixelRatio,e.codec=t.codecString,e.sps=[],"object"!==typeof e.params&&(e.params={});for(const n in t.params)e.params[n]=t.params[n]}this.pushParameterSet(e.sps,r.data,e.vps),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0;break;case 34:if(o=!0,"object"===typeof e.params){if(!e.pps){e.pps=[];const t=this.readPPS(r.data);for(const n in t)e.params[n]=t[n]}this.pushParameterSet(e.pps,r.data,e.vps)}break;case 35:o=!0,e.audFound=!0,null!=(l=s)&&l.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:o=!1}if(s&&o){s.units.push(r)}})),r&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}pushParameterSet(e,t,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(t)}getNALuType(e,t){return(126&e[t])>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let n=0;for(let r=0;r<e.byteLength;r++)r>=2&&3===e[r]&&0===e[r-1]&&0===e[r-2]||(t[n]=e[r],n++);return new Uint8Array(t.buffer,0,n)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new Oo(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);return{numTemporalLayers:t.readBits(3)+1,temporalIdNested:t.readBoolean()}}readSPS(e){const t=new Oo(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const n=t.readBits(3);t.readBoolean();const r=t.readBits(2),i=t.readBoolean(),o=t.readBits(5),s=t.readUByte(),a=t.readUByte(),l=t.readUByte(),c=t.readUByte(),u=t.readUByte(),d=t.readUByte(),f=t.readUByte(),h=t.readUByte(),A=t.readUByte(),p=t.readUByte(),g=t.readUByte(),m=[],v=[];for(let Y=0;Y<n;Y++)m.push(t.readBoolean()),v.push(t.readBoolean());if(n>0)for(let Y=n;Y<8;Y++)t.readBits(2);for(let Y=0;Y<n;Y++)m[Y]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),v[Y]&&t.readUByte();t.readUEG();const y=t.readUEG();3==y&&t.skipBits(1);const b=t.readUEG(),E=t.readUEG(),C=t.readBoolean();let w=0,S=0,T=0,k=0;C&&(w+=t.readUEG(),S+=t.readUEG(),T+=t.readUEG(),k+=t.readUEG());const x=t.readUEG(),L=t.readUEG(),I=t.readUEG();for(let Y=t.readBoolean()?0:n;Y<=n;Y++)t.skipUEG(),t.skipUEG(),t.skipUEG();t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.readBoolean()){if(t.readBoolean())for(let e=0;e<4;e++)for(let n=0;n<(3===e?2:6);n++){if(t.readBoolean()){const n=Math.min(64,1<<4+(e<<1));e>1&&t.readEG();for(let e=0;e<n;e++)t.readEG()}else t.readUEG()}}t.readBoolean(),t.readBoolean();t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const R=t.readUEG();let D=0;for(let Y=0;Y<R;Y++){let e=!1;if(0!==Y&&(e=t.readBoolean()),e){Y===R&&t.readUEG(),t.readBoolean(),t.readUEG();let e=0;for(let n=0;n<=D;n++){const n=t.readBoolean();let r=!1;n||(r=t.readBoolean()),(n||r)&&e++}D=e}else{const e=t.readUEG(),n=t.readUEG();D=e+n;for(let r=0;r<e;r++)t.readUEG(),t.readBoolean();for(let r=0;r<n;r++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const e=t.readUEG();for(let n=0;n<e;n++){for(let e=0;e<I+4;e++)t.readBits(1);t.readBits(1)}}let B=0,P=1,O=1,M=!0,_=1,F=0;t.readBoolean(),t.readBoolean();let N=!1;if(t.readBoolean()){if(t.readBoolean()){const e=t.readUByte();e>0&&e<16?(P=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][e-1],O=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][e-1]):255===e&&(P=t.readBits(16),O=t.readBits(16))}t.readBoolean()&&t.readBoolean();if(t.readBoolean()){t.readBits(3),t.readBoolean();t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())}t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),N=t.readBoolean(),N&&(w+=t.readUEG(),S+=t.readUEG(),T+=t.readUEG(),k+=t.readUEG());if(t.readBoolean()){_=t.readBits(32),F=t.readBits(32);t.readBoolean()&&t.readUEG();if(t.readBoolean()){const e=t.readBoolean(),r=t.readBoolean();let i=!1;(e||r)&&(i=t.readBoolean(),i&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),i&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let o=0;o<=n;o++){M=t.readBoolean();let n=!1;M||t.readBoolean()?t.readEG():n=t.readBoolean();const o=n?1:t.readUEG()+1;if(e)for(let e=0;e<o;e++)t.readUEG(),t.readUEG(),i&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(r)for(let e=0;e<o;e++)t.readUEG(),t.readUEG(),i&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),B=t.readUEG())}let U=b,Q=E;if(C||N){let e=1,t=1;1===y?e=t=2:2==y&&(e=2),U=b-e*S-e*w,Q=E-t*k-t*T}const G=r?["A","B","C"][r]:"",j=s<<24|a<<16|l<<8|c;let W=0;for(let Y=0;Y<32;Y++)W=(W|(j>>Y&1)<<31-Y)>>>0;let z=W.toString(16);1===o&&"2"===z&&(z="6");const H=i?"H":"L";return{codecString:"hvc1.".concat(G).concat(o,".").concat(z,".").concat(H).concat(g,".B0"),params:{general_tier_flag:i,general_profile_idc:o,general_profile_space:r,general_profile_compatibility_flags:[s,a,l,c],general_constraint_indicator_flags:[u,d,f,h,A,p],general_level_idc:g,bit_depth:x+8,bit_depth_luma_minus8:x,bit_depth_chroma_minus8:L,min_spatial_segmentation_idc:B,chroma_format_idc:y,frame_rate:{fixed:M,fps:F/_}},width:U,height:Q,pixelRatio:[P,O]}}readPPS(e){const t=new Oo(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2);t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const n=t.readBoolean(),r=t.readBoolean();let i=1;return r&&n?i=0:r?i=3:n&&(i=2),{parallelismType:i}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const Fo=188;class No{constructor(e,t,n,r){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=r,this.videoParser=null}static probe(e,t){const n=No.syncOffset(e);return n>0&&t.warn("MPEG2-TS detected but first sync word found @ offset ".concat(n)),-1!==n}static syncOffset(e){const t=e.length;let n=Math.min(940,t-Fo)+1,r=0;for(;r<n;){let i=!1,o=-1,s=0;for(let a=r;a<t;a+=Fo){if(71!==e[a]||t-a!==Fo&&71!==e[a+Fo]){if(s)return-1;break}if(s++,-1===o&&(o=a,0!==o&&(n=Math.min(o+18612,e.length-Fo)+1)),i||(i=0===Uo(e,a)),i&&s>1&&(0===o&&s>2||a+Fo>n))return o}r++}return-1}static createTrack(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:ut[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}resetInitSegment(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=No.createTrack("video"),this._videoTrack.duration=r,this._audioTrack=No.createTrack("audio",r),this._id3Track=No.createTrack("id3"),this._txtTrack=No.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r||(this.sampleAes=null);const o=this._videoTrack,s=this._audioTrack,a=this._id3Track,l=this._txtTrack;let c=o.pid,u=o.pesData,d=s.pid,f=a.pid,h=s.pesData,A=a.pesData,p=null,g=this.pmtParsed,m=this._pmtId,v=e.length;if(this.remainderData&&(v=(e=xt(this.remainderData,e)).length,this.remainderData=null),v<Fo&&!i)return this.remainderData=e,{audioTrack:s,videoTrack:o,id3Track:a,textTrack:l};const y=Math.max(0,No.syncOffset(e));v-=(v-y)%Fo,v<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,v,e.buffer.byteLength-v));let b=0;for(let C=y;C<v;C+=Fo)if(71===e[C]){const t=!!(64&e[C+1]),i=Uo(e,C);let v;if((48&e[C+3])>>4>1){if(v=C+5+e[C+4],v===C+Fo)continue}else v=C+4;switch(i){case c:if(t){if(u&&(n=zo(u,this.logger))){if(null===this.videoParser)switch(o.segmentCodec){case"avc":this.videoParser=new Mo;break;case"hevc":this.videoParser=new _o}null!==this.videoParser&&this.videoParser.parsePES(o,l,n,!1)}u={data:[],size:0}}u&&(u.data.push(e.subarray(v,C+Fo)),u.size+=C+Fo-v);break;case d:if(t){if(h&&(n=zo(h,this.logger)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,n);break;case"mp3":this.parseMPEGPES(s,n);break;case"ac3":this.parseAC3PES(s,n)}h={data:[],size:0}}h&&(h.data.push(e.subarray(v,C+Fo)),h.size+=C+Fo-v);break;case f:t&&(A&&(n=zo(A,this.logger))&&this.parseID3PES(a,n),A={data:[],size:0}),A&&(A.data.push(e.subarray(v,C+Fo)),A.size+=C+Fo-v);break;case 0:t&&(v+=e[v]+1),m=this._pmtId=Qo(e,v);break;case m:{t&&(v+=e[v]+1);const n=Go(e,v,this.typeSupported,r,this.observer,this.logger);c=n.videoPid,c>0&&(o.pid=c,o.segmentCodec=n.segmentVideoCodec),d=n.audioPid,d>0&&(s.pid=d,s.segmentCodec=n.segmentAudioCodec),f=n.id3Pid,f>0&&(a.pid=f),null===p||g||(this.logger.warn("MPEG-TS PMT found at ".concat(C," after unknown PID '").concat(p,"'. Backtracking to sync byte @").concat(y," to parse all TS packets.")),p=null,C=y-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:p=i}}else b++;b>0&&jo(this.observer,new Error("Found ".concat(b," TS packet/s that do not start with 0x47")),void 0,this.logger),o.pesData=u,s.pesData=h,a.pesData=A;const E={audioTrack:s,videoTrack:o,id3Track:a,textTrack:l};return i&&this.extractRemainingSamples(E),E}flush(){const{remainderData:e}=this;let t;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:r,textTrack:i}=e,o=n.pesData,s=t.pesData,a=r.pesData;let l;if(o&&(l=zo(o,this.logger))){if(null===this.videoParser)switch(n.segmentCodec){case"avc":this.videoParser=new Mo;break;case"hevc":this.videoParser=new _o}null!==this.videoParser&&(this.videoParser.parsePES(n,i,l,!0),n.pesData=null)}else n.pesData=o;if(s&&(l=zo(s,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,l);break;case"mp3":this.parseMPEGPES(t,l);break;case"ac3":this.parseAC3PES(t,l)}t.pesData=null}else null!=s&&s.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=s;a&&(l=zo(a,this.logger))?(this.parseID3PES(r,l),r.pesData=null):r.pesData=a}demuxSampleAes(e,t,n){const r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new Bo(this.observer,this.config,t);return this.decrypt(r,i)}decrypt(e,t){return new Promise((n=>{const{audioTrack:r,videoTrack:i}=e;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(()=>{i.samples?t.decryptAvcSamples(i.samples,0,0,(()=>{n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(()=>{n(e)}))}))}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let n=0;const r=this.aacOverFlow;let i,o,s,a=t.data;if(r){this.aacOverFlow=null;const t=r.missing,i=r.sample.unit.byteLength;if(-1===t)a=xt(r.sample.unit,a);else{const o=i-t;r.sample.unit.set(a.subarray(0,t),o),e.samples.push(r.sample),n=r.missing}}for(i=n,o=a.length;i<o-1&&!Zi(a,i);i++);if(i!==n){let e;const t=i<o-1;if(e=t?"AAC PES did not start with ADTS header,offset:".concat(i):"No ADTS header found in AAC PES",jo(this.observer,new Error(e),t,this.logger),!t)return}if($i(e,this.observer,a,i,this.audioCodec),void 0!==t.pts)s=t.pts;else{if(!r)return void this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");{const t=eo(e.samplerate);s=r.sample.pts+t}}let l,c=0;for(;i<o;){if(l=to(e,a,i,s,c),i+=l.length,l.missing){this.aacOverFlow=l;break}for(c++;i<o-1&&!Zi(a,i);i++);}}parseMPEGPES(e,t){const n=t.data,r=n.length;let i=0,o=0;const s=t.pts;if(void 0!==s)for(;o<r;)if(To(n,o)){const t=Co(e,n,o,s,i);if(!t)break;o+=t.length,i++}else o++;else this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(e,t){{const n=t.data,r=t.pts;if(void 0===r)return void this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");const i=n.length;let o,s=0,a=0;for(;a<i&&(o=Io(e,n,a,r,s++))>0;)a+=o}}parseID3PES(e,t){if(void 0===t.pts)return void this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=Me({},t,{type:this._videoTrack?ho.emsg:ho.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function Uo(e,t){return((31&e[t+1])<<8)+e[t+2]}function Qo(e,t){return(31&e[t+10])<<8|e[t+11]}function Go(e,t,n,r,i,o){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){const a=Uo(e,t),l=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!r){Wo("ADTS AAC",o);break}case 15:-1===s.audioPid&&(s.audioPid=a);break;case 21:-1===s.id3Pid&&(s.id3Pid=a);break;case 219:if(!r){Wo("H.264",o);break}case 27:-1===s.videoPid&&(s.videoPid=a);break;case 3:case 4:n.mpeg||n.mp3?-1===s.audioPid&&(s.audioPid=a,s.segmentAudioCodec="mp3"):o.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){Wo("AC-3",o);break}case 129:n.ac3?-1===s.audioPid&&(s.audioPid=a,s.segmentAudioCodec="ac3"):o.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===s.audioPid&&l>0){let r=t+5,i=l;for(;i>2;){if(106===e[r])!0!==n.ac3?o.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=a,s.segmentAudioCodec="ac3");const t=e[r+1]+2;r+=t,i-=t}}break;case 194:case 135:return jo(i,new Error("Unsupported EC-3 in M2TS found"),void 0,o),s;case 36:-1===s.videoPid&&(s.videoPid=a,s.segmentVideoCodec="hevc",o.log("HEVC in M2TS found"))}t+=l+5}return s}function jo(e,t,n,r){r.warn("parsing error: ".concat(t.message)),e.emit(Se.ERROR,Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:t,reason:t.message})}function Wo(e,t){t.log("".concat(e," with AES-128-CBC encryption found in unencrypted stream"))}function zo(e,t){let n,r,i,o,s,a=0;const l=e.data;if(!e||0===e.size)return null;for(;l[0].length<19&&l.length>1;)l[0]=xt(l[0],l[1]),l.splice(1,1);n=l[0];if(1===(n[0]<<16)+(n[1]<<8)+n[2]){if(r=(n[4]<<8)+n[5],r&&r>e.size-6)return null;const c=n[7];192&c&&(o=536870912*(14&n[9])+4194304*(255&n[10])+16384*(254&n[11])+128*(255&n[12])+(254&n[13])/2,64&c?(s=536870912*(14&n[14])+4194304*(255&n[15])+16384*(254&n[16])+128*(255&n[17])+(254&n[18])/2,o-s>54e5&&(t.warn("".concat(Math.round((o-s)/9e4),"s delta between PTS and DTS, align them")),o=s)):s=o),i=n[8];let u=i+9;if(e.size<=u)return null;e.size-=u;const d=new Uint8Array(e.size);for(let e=0,t=l.length;e<t;e++){n=l[e];let t=n.byteLength;if(u){if(u>t){u-=t;continue}n=n.subarray(u),t-=u,u=0}d.set(n,a),a+=t}return r&&(r-=i+3),{data:d,pts:o,dts:s,len:r}}return null}class Ho{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Yo=Math.pow(2,32)-1;class Vo{static init(){let e;for(e in Vo.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Vo.types)Vo.types.hasOwnProperty(e)&&(Vo.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Vo.HDLR_TYPES={video:t,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);Vo.STTS=Vo.STSC=Vo.STCO=i,Vo.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Vo.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Vo.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Vo.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);Vo.FTYP=Vo.box(Vo.types.ftyp,o,a,o,s),Vo.DINF=Vo.box(Vo.types.dinf,Vo.box(Vo.types.dref,r))}static box(e){let t=8;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let o=r.length;const s=o;for(;o--;)t+=r[o].byteLength;const a=new Uint8Array(t);for(a[0]=t>>24&255,a[1]=t>>16&255,a[2]=t>>8&255,a[3]=255&t,a.set(e,4),o=0,t=8;o<s;o++)a.set(r[o],t),t+=r[o].byteLength;return a}static hdlr(e){return Vo.box(Vo.types.hdlr,Vo.HDLR_TYPES[e])}static mdat(e){return Vo.box(Vo.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(Yo+1)),r=Math.floor(t%(Yo+1));return Vo.box(Vo.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(e){return Vo.box(Vo.types.mdia,Vo.mdhd(e.timescale||0,e.duration||0),Vo.hdlr(e.type),Vo.minf(e))}static mfhd(e){return Vo.box(Vo.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return"audio"===e.type?Vo.box(Vo.types.minf,Vo.box(Vo.types.smhd,Vo.SMHD),Vo.DINF,Vo.stbl(e)):Vo.box(Vo.types.minf,Vo.box(Vo.types.vmhd,Vo.VMHD),Vo.DINF,Vo.stbl(e))}static moof(e,t,n){return Vo.box(Vo.types.moof,Vo.mfhd(e),Vo.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=Vo.trak(e[t]);return Vo.box.apply(null,[Vo.types.moov,Vo.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(Vo.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=Vo.trex(e[t]);return Vo.box.apply(null,[Vo.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(Yo+1)),r=Math.floor(t%(Yo+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Vo.box(Vo.types.mvhd,i)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let r,i;for(r=0;r<t.length;r++)i=t[r].flags,n[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return Vo.box(Vo.types.sdtp,n)}static stbl(e){return Vo.box(Vo.types.stbl,Vo.stsd(e),Vo.box(Vo.types.stts,Vo.STTS),Vo.box(Vo.types.stsc,Vo.STSC),Vo.box(Vo.types.stsz,Vo.STSZ),Vo.box(Vo.types.stco,Vo.STCO))}static avc1(e){let t,n,r,i=[],o=[];for(t=0;t<e.sps.length;t++)n=e.sps[t],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(t=0;t<e.pps.length;t++)n=e.pps[t],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));const s=Vo.box(Vo.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),a=e.width,l=e.height,c=e.pixelRatio[0],u=e.pixelRatio[1];return Vo.box(Vo.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,Vo.box(Vo.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Vo.box(Vo.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,255&t,0,0])}static mp4a(e){return Vo.box(Vo.types.mp4a,Vo.audioStsd(e),Vo.box(Vo.types.esds,Vo.esds(e)))}static mp3(e){return Vo.box(Vo.types[".mp3"],Vo.audioStsd(e))}static ac3(e){return Vo.box(Vo.types["ac-3"],Vo.audioStsd(e),Vo.box(Vo.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if("audio"===e.type){if("aac"===t)return Vo.box(Vo.types.stsd,Vo.STSD,Vo.mp4a(e));if("ac3"===t&&e.config)return Vo.box(Vo.types.stsd,Vo.STSD,Vo.ac3(e));if("mp3"===t&&"mp3"===e.codec)return Vo.box(Vo.types.stsd,Vo.STSD,Vo.mp3(e))}else{if(!e.pps||!e.sps)throw new Error("video track missing pps or sps");if("avc"===t)return Vo.box(Vo.types.stsd,Vo.STSD,Vo.avc1(e));if("hevc"===t&&e.vps)return Vo.box(Vo.types.stsd,Vo.STSD,Vo.hvc1(e))}throw new Error("unsupported ".concat(e.type," segment codec (").concat(t,"/").concat(e.codec,")"))}static tkhd(e){const t=e.id,n=(e.duration||0)*(e.timescale||0),r=e.width||0,i=e.height||0,o=Math.floor(n/(Yo+1)),s=Math.floor(n%(Yo+1));return Vo.box(Vo.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))}static traf(e,t){const n=Vo.sdtp(e),r=e.id,i=Math.floor(t/(Yo+1)),o=Math.floor(t%(Yo+1));return Vo.box(Vo.types.traf,Vo.box(Vo.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),Vo.box(Vo.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o])),Vo.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,Vo.box(Vo.types.trak,Vo.tkhd(e),Vo.mdia(e))}static trex(e){const t=e.id;return Vo.box(Vo.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],r=n.length,i=12+16*r,o=new Uint8Array(i);let s,a,l,c,u,d;for(t+=8+i,o.set(["video"===e.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),s=0;s<r;s++)a=n[s],l=a.duration,c=a.size,u=a.flags,d=a.cts,o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s);return Vo.box(Vo.types.trun,o)}static initSegment(e){Vo.types||Vo.init();const t=Vo.moov(e);return xt(Vo.FTYP,t)}static hvc1(e){const t=e.params,n=[e.vps,e.sps,e.pps],r=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),3|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),n.length]);let i=r.length;for(let f=0;f<n.length;f+=1){i+=3;for(let e=0;e<n[f].length;e+=1)i+=2+n[f][e].length}const o=new Uint8Array(i);o.set(r,0),i=r.length;const s=n.length-1;for(let f=0;f<n.length;f+=1){o.set(new Uint8Array([32+f|(f===s?128:0),0,n[f].length]),i),i+=3;for(let e=0;e<n[f].length;e+=1)o.set(new Uint8Array([n[f][e].length>>8,255&n[f][e].length]),i),i+=2,o.set(n[f][e],i),i+=n[f][e].length}const a=Vo.box(Vo.types.hvcC,o),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return Vo.box(Vo.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Vo.box(Vo.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Vo.box(Vo.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))}}Vo.types=void 0,Vo.HDLR_TYPES=void 0,Vo.STTS=void 0,Vo.STSC=void 0,Vo.STCO=void 0,Vo.STSZ=void 0,Vo.VMHD=void 0,Vo.SMHD=void 0,Vo.STSD=void 0,Vo.FTYP=void 0,Vo.DINF=void 0;function Ko(e,t){const n=e*t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?Math.round(n):n}function qo(e){return Ko(e,1e3,1/9e4,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}let Xo,Zo=null,Jo=null;function $o(e,t,n,r){return{duration:t,size:n,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class es{constructor(e,t,n,r){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=r,this.ISGenerated=!1,null===Zo){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Zo=e?parseInt(e[1]):0}if(null===Jo){const e=navigator.userAgent.match(/Safari\/(\d+)/i);Jo=e?parseInt(e[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e[0].pts,r=e.reduce(((e,r)=>{let i=r.pts,o=i-e;return o<-4294967296&&(t=!0,i=ts(i,n),o=i-e),o>0?e:i}),n);return t&&this.logger.debug("PTS rollover detected"),r}remux(e,t,n,r,i,o,s,a){let l,c,u,d,f,h,A=i,p=i;const g=e.pid>-1,m=t.pid>-1,v=t.samples.length,y=e.samples.length>0,b=s&&v>0||v>1;if((!g||y)&&(!m||b)||this.ISGenerated||s){if(this.ISGenerated){var E,C,w,S;const e=this.videoTrackConfig;(e&&(t.width!==e.width||t.height!==e.height||(null==(E=t.pixelRatio)?void 0:E[0])!==(null==(C=e.pixelRatio)?void 0:C[0])||(null==(w=t.pixelRatio)?void 0:w[1])!==(null==(S=e.pixelRatio)?void 0:S[1]))||!e&&b||null===this.nextAudioPts&&y)&&this.resetInitSegment()}this.ISGenerated||(u=this.generateIS(e,t,i,o));const n=this.isVideoContiguous;let r,s=-1;if(b&&(s=function(e){for(let t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,s>0){this.logger.warn("[mp4-remuxer]: Dropped ".concat(s," out of ").concat(v," video samples due to a missing keyframe"));const e=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(s),t.dropped+=s,p+=(t.samples[0].pts-e)/t.inputTimeScale,r=p}else-1===s&&(this.logger.warn("[mp4-remuxer]: No keyframe found out of ".concat(v," video samples")),h=!1);if(this.ISGenerated){if(y&&b){const n=this.getVideoStartPts(t.samples),r=(ts(e.samples[0].pts,n)-n)/t.inputTimeScale;A+=Math.max(0,r),p+=Math.max(0,-r)}if(y){if(e.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(e,t,i,o)),c=this.remuxAudio(e,A,this.isAudioContiguous,o,m||b||a===Re?p:void 0),b){const r=c?c.endPTS-c.startPTS:0;t.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(e,t,i,o)),l=this.remuxVideo(t,p,n,r)}}else b&&(l=this.remuxVideo(t,p,n,0));l&&(l.firstKeyFrame=s,l.independent=-1!==s,l.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(f=ns(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=rs(r,i,this._initPTS))),{audio:c,video:l,initSegment:u,independent:h,text:d,id3:f}}generateIS(e,t,n,r){const i=e.samples,o=t.samples,s=this.typeSupported,a={},l=this._initPTS;let c,u,d,f=!l||r,h="audio/mp4";if(f&&(c=u=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":s.mpeg?(h="audio/mpeg",e.codec=""):s.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}a.audio={id:"audio",container:h,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&s.mpeg?new Uint8Array(0):Vo.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(d=e.inputTimeScale,l&&d===l.timescale?f=!1:c=u=i[0].pts-Math.round(d*n))}if(t.sps&&t.pps&&o.length){if(t.timescale=t.inputTimeScale,a.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Vo.initSegment([t]),metadata:{width:t.width,height:t.height}},f)if(d=t.inputTimeScale,l&&d===l.timescale)f=!1;else{const e=this.getVideoStartPts(o),t=Math.round(d*n);u=Math.min(u,ts(o[0].dts,e)-t),c=Math.min(c,e-t)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(a).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:c,timescale:d},this._initDTS={baseTime:u,timescale:d}):c=d=void 0,{tracks:a,initPTS:c,timescale:d}}remuxVideo(e,t,n,r){const i=e.inputTimeScale,o=e.samples,s=[],a=o.length,l=this._initPTS;let c,u,d=this.nextAvcDts,f=8,h=this.videoSampleDuration,A=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,g=!1;if(!n||null===d){const e=t*i,r=o[0].pts-ts(o[0].dts,o[0].pts);Zo&&null!==d&&Math.abs(e-r-d)<15e3?n=!0:d=e-r}const m=l.baseTime*i/l.timescale;for(let P=0;P<a;P++){const e=o[P];e.pts=ts(e.pts-m,d),e.dts=ts(e.dts-m,d),e.dts<o[P>0?P-1:P].dts&&(g=!0)}g&&o.sort((function(e,t){const n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),c=o[0].dts,u=o[o.length-1].dts;const v=u-c,y=v?Math.round(v/(a-1)):h||e.inputTimeScale/30;if(n){const n=c-d,r=n>y,i=n<-1;if((r||i)&&(r?this.logger.warn("".concat((e.segmentCodec||"").toUpperCase(),": ").concat(qo(n,!0)," ms (").concat(n,"dts) hole between fragments detected at ").concat(t.toFixed(3))):this.logger.warn("".concat((e.segmentCodec||"").toUpperCase(),": ").concat(qo(-n,!0)," ms (").concat(n,"dts) overlapping between fragments detected at ").concat(t.toFixed(3))),!i||d>=o[0].pts||Zo)){c=d;const e=o[0].pts-n;if(r)o[0].dts=c,o[0].pts=e;else{let t=!0;for(let r=0;r<o.length&&!(o[r].dts>e&&t);r++){const e=o[r].pts;if(o[r].dts-=n,o[r].pts-=n,r<o.length-1){const n=o[r+1].pts;t=n<=o[r].pts==n<=e}}}this.logger.log("Video: Initial PTS/DTS adjusted: ".concat(qo(e,!0),"/").concat(qo(c,!0),", delta: ").concat(qo(n,!0)," ms"))}}c=Math.max(0,c);let b=0,E=0,C=c;for(let P=0;P<a;P++){const e=o[P],t=e.units,n=t.length;let r=0;for(let i=0;i<n;i++)r+=t[i].data.length;E+=r,b+=n,e.length=r,e.dts<C?(e.dts=C,C+=y/4|0||1):C=e.dts,A=Math.min(e.pts,A),p=Math.max(e.pts,p)}u=o[a-1].dts;const w=E+4*b+8;let S;try{S=new Uint8Array(w)}catch(B){return void this.observer.emit(Se.ERROR,Se.ERROR,{type:Ce.MUX_ERROR,details:we.REMUX_ALLOC_ERROR,fatal:!1,error:B,bytes:w,reason:"fail allocating video mdat ".concat(w)})}const T=new DataView(S.buffer);T.setUint32(0,w),S.set(Vo.types.mdat,4);let k=!1,x=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,R=Number.NEGATIVE_INFINITY;for(let P=0;P<a;P++){const e=o[P],t=e.units;let n,l=0;for(let r=0,i=t.length;r<i;r++){const e=t[r],n=e.data,i=e.data.byteLength;T.setUint32(f,i),f+=4,S.set(n,f),f+=i,l+=4+i}if(P<a-1)h=o[P+1].dts-e.dts,n=o[P+1].pts-e.pts;else{const t=this.config,s=P>0?e.dts-o[P-1].dts:y;if(n=P>0?e.pts-o[P-1].pts:y,t.stretchShortVideoTrack&&null!==this.nextAudioPts){const n=Math.floor(t.maxBufferHole*i),o=(r?A+r*i:this.nextAudioPts)-e.pts;o>n?(h=o-s,h<0?h=s:k=!0,this.logger.log("[mp4-remuxer]: It is approximately ".concat(o/90," ms to the next segment; using duration ").concat(h/90," ms for the last video frame."))):h=s}else h=s}const c=Math.round(e.pts-e.dts);x=Math.min(x,h),I=Math.max(I,h),L=Math.min(L,n),R=Math.max(R,n),s.push($o(e.key,h,l,c))}if(s.length)if(Zo){if(Zo<70){const e=s[0].flags;e.dependsOn=2,e.isNonSync=0}}else if(Jo&&R-L<I-x&&y/I<.025&&0===s[0].cts){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let e=c;for(let t=0,n=s.length;t<n;t++){const r=e+s[t].duration,i=e+s[t].cts;if(t<n-1){const e=r+s[t+1].cts;s[t].duration=e-i}else s[t].duration=t?s[t-1].duration:y;s[t].cts=0,e=r}}h=k||!h?y:h,this.nextAvcDts=d=u+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;const D={data1:Vo.moof(e.sequenceNumber++,c,Me(e,{samples:s})),data2:S,startPTS:A/i,endPTS:(p+h)/i,startDTS:c/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:s.length,dropped:e.dropped};return e.samples=[],e.dropped=0,D}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(e,t,n,r,i){const o=e.inputTimeScale,s=o/(e.samplerate?e.samplerate:o),a=this.getSamplesPerFrame(e),l=a*s,c=this._initPTS,u="mp3"===e.segmentCodec&&this.typeSupported.mpeg,d=[],f=void 0!==i;let h=e.samples,A=u?0:8,p=this.nextAudioPts||-1;const g=t*o,m=c.baseTime*o/c.timescale;if(this.isAudioContiguous=n=n||h.length&&p>0&&(r&&Math.abs(g-p)<9e3||Math.abs(ts(h[0].pts-m,g)-p)<20*l),h.forEach((function(e){e.pts=ts(e.pts-m,g)})),!n||p<0){if(h=h.filter((e=>e.pts>=0)),!h.length)return;p=0===i?0:r&&!f?Math.max(0,g):h[0].pts}if("aac"===e.segmentCodec){const t=this.config.maxAudioFramesDrift;for(let n=0,r=p;n<h.length;n++){const i=h[n],s=i.pts,a=s-r,c=Math.abs(1e3*a/o);if(a<=-t*l&&f)0===n&&(this.logger.warn("Audio frame @ ".concat((s/o).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*a/o)," ms.")),this.nextAudioPts=p=r=s);else if(a>=t*l&&c<1e4&&f){let t=Math.round(a/l);r=s-t*l,r<0&&(t--,r+=l),0===n&&(this.nextAudioPts=p=r),this.logger.warn("[mp4-remuxer]: Injecting ".concat(t," audio frame @ ").concat((r/o).toFixed(3),"s due to ").concat(Math.round(1e3*a/o)," ms gap."));for(let o=0;o<t;o++){const t=Math.max(r,0);let o=Ho.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);o||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),o=i.unit.subarray()),h.splice(n,0,{unit:o,pts:t}),r+=l,n++}}i.pts=r,r+=l}}let v,y=null,b=null,E=0,C=h.length;for(;C--;)E+=h[C].unit.byteLength;for(let R=0,D=h.length;R<D;R++){const t=h[R],r=t.unit;let i=t.pts;if(null!==b){d[R-1].duration=Math.round((i-b)/s)}else{if(n&&"aac"===e.segmentCodec&&(i=p),y=i,!(E>0))return;E+=A;try{v=new Uint8Array(E)}catch(I){return void this.observer.emit(Se.ERROR,Se.ERROR,{type:Ce.MUX_ERROR,details:we.REMUX_ALLOC_ERROR,fatal:!1,error:I,bytes:E,reason:"fail allocating audio mdat ".concat(E)})}if(!u){new DataView(v.buffer).setUint32(0,E),v.set(Vo.types.mdat,4)}}v.set(r,A);const o=r.byteLength;A+=o,d.push($o(!0,a,o,0)),b=i}const w=d.length;if(!w)return;const S=d[d.length-1];this.nextAudioPts=p=b+s*S.duration;const T=u?new Uint8Array(0):Vo.moof(e.sequenceNumber++,y/s,Me({},e,{samples:d}));e.samples=[];const k=y/o,x=p/o,L={data1:T,data2:v,startPTS:k,endPTS:x,startDTS:k,endDTS:x,type:"audio",hasAudio:!0,hasVideo:!1,nb:w};return this.isAudioContiguous=!0,L}}function ts(e,t){let n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function ns(e,t,n,r){const i=e.samples.length;if(!i)return;const o=e.inputTimeScale;for(let a=0;a<i;a++){const i=e.samples[a];i.pts=ts(i.pts-n.baseTime*o/n.timescale,t*o)/o,i.dts=ts(i.dts-r.baseTime*o/r.timescale,t*o)/o}const s=e.samples;return e.samples=[],{samples:s}}function rs(e,t,n){const r=e.samples.length;if(!r)return;const i=e.inputTimeScale;for(let s=0;s<r;s++){const r=e.samples[s];r.pts=ts(r.pts-n.baseTime*i/n.timescale,t*i)/i}e.samples.sort(((e,t)=>e.pts-t.pts));const o=e.samples;return e.samples=[],{samples:o}}function is(e,t){const n=null==e?void 0:e.codec;if(n&&n.length>4)return n;if(t===et){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n){return Ht(n,!1)}return ze.warn('Unhandled audio codec "'.concat(n,'" in mp4 MAP')),n||"mp4a"}return ze.warn('Unhandled video codec "'.concat(n,'" in mp4 MAP')),n||"avc1"}try{Xo=self.performance.now.bind(self.performance)}catch(Jl){Xo=Date.now}const os=[{demux:class{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,r){const i=this.videoTrack=Ao("video",1),o=this.audioTrack=Ao("audio",1),s=this.txtTrack=Ao("text",1);if(this.id3Track=Ao("id3",1),this.timeOffset=0,null==e||!e.byteLength)return;const a=yt(e);if(a.video){const{id:e,timescale:t,codec:n,supplemental:r}=a.video;i.id=e,i.timescale=s.timescale=t,i.codec=n,i.supplemental=r}if(a.audio){const{id:e,timescale:t,codec:n}=a.audio;o.id=e,o.timescale=t,o.codec=n}s.id=ut.text,i.sampleDuration=0,i.duration=o.duration=r}resetContiguity(){this.remainderData=null}static probe(e){return function(e){const t=e.byteLength;for(let n=0;n<t;){const r=ht(e,n);if(r>8&&109===e[n+4]&&111===e[n+5]&&111===e[n+6]&&102===e[n+7])return!0;n=r>1?n+r:t}return!1}(e)}demux(e,t){this.timeOffset=t;let n=e;const r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=xt(this.remainderData,e));const t=function(e){const t={valid:null,remainder:null},n=mt(e,["moof"]);if(n.length<2)return t.remainder=e,t;const r=n[n.length-1];return t.valid=e.slice(0,r.byteOffset-8),t.remainder=e.slice(r.byteOffset-8),t}(n);this.remainderData=t.remainder,r.samples=t.valid||new Uint8Array}else r.samples=n;const o=this.extractID3Track(r,t);return i.samples=Lt(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(t,this.timeOffset);return n.samples=Lt(e,t),{videoTrack:t,audioTrack:Ao(),id3Track:r,textTrack:Ao()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const r=mt(e.samples,["emsg"]);r&&r.forEach((e=>{const r=function(e){const t=e[0];let n="",r="",i=0,o=0,s=0,a=0,l=0,c=0;if(0===t){for(;"\0"!==dt(e.subarray(c,c+1));)n+=dt(e.subarray(c,c+1)),c+=1;for(n+=dt(e.subarray(c,c+1)),c+=1;"\0"!==dt(e.subarray(c,c+1));)r+=dt(e.subarray(c,c+1)),c+=1;r+=dt(e.subarray(c,c+1)),c+=1,i=ht(e,12),o=ht(e,16),a=ht(e,20),l=ht(e,24),c=28}else if(1===t){c+=4,i=ht(e,c),c+=4;const t=ht(e,c);c+=4;const o=ht(e,c);for(c+=4,s=2**32*t+o,be(s)||(s=Number.MAX_SAFE_INTEGER,ze.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=ht(e,c),c+=4,l=ht(e,c),c+=4;"\0"!==dt(e.subarray(c,c+1));)n+=dt(e.subarray(c,c+1)),c+=1;for(n+=dt(e.subarray(c,c+1)),c+=1;"\0"!==dt(e.subarray(c,c+1));)r+=dt(e.subarray(c,c+1)),c+=1;r+=dt(e.subarray(c,c+1)),c+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:s,presentationTimeDelta:o,eventDuration:a,id:l,payload:e.subarray(c,e.byteLength)}}(e);if(Ro.test(r.schemeIdUri)){const e=Do(r,t);let i=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;i<=.001&&(i=Number.POSITIVE_INFINITY);const o=r.payload;n.samples.push({data:o,len:o.byteLength,dts:e,pts:e,type:ho.emsg,duration:i})}else if(this.config.enableEmsgKLVMetadata&&r.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const e=Do(r,t);n.samples.push({data:r.payload,len:r.payload.byteLength,dts:e,pts:e,type:ho.misbklv,duration:Number.POSITIVE_INFINITY})}}))}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}},remux:class{constructor(e,t,n,r){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.logger=r}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function(e,t){if(!e||!t)return e;const n=t.keyId;n&&t.isCommonEncryption&&mt(e,["moov","trak"]).forEach((e=>{const t=mt(e,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=mt(t,["enca"]);const i=r.length>0;i||(r=mt(t,["encv"])),r.forEach((e=>{mt(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((e=>{const t=Tt(e);if(t){const e=t.subarray(8,24);e.some((e=>0!==e))||(ze.log("[eme] Patching keyId in 'enc".concat(i?"a":"v",">sinf>>tenc' box: ").concat(Ke(e)," -> ").concat(Ke(n))),t.set(n,8))}}))}))}));return e}(e,r)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:n}=this;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=yt(e);r.audio&&(t=is(r.audio,et)),r.video&&(n=is(r.video,tt));const i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,supplemental:r.video.supplemental,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,supplemental:r.video.supplemental,initSegment:e,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(e,t,n,r,i,o){var s,a;let{initPTS:l,lastEndTime:c}=this;const u={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};ye(c)||(c=this.lastEndTime=i||0);const d=t.samples;if(null==d||!d.length)return u;const f={initPTS:void 0,timescale:1};let h=this.initData;if(null!=(s=h)&&s.length||(this.generateInitSegment(d),h=this.initData),null==(a=h)||!a.length)return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);const A=function(e,t){let n=0,r=0,i=0;const o=mt(e,["moof","traf"]);for(let s=0;s<o.length;s++){const e=o[s],a=mt(e,["tfhd"])[0],l=t[ht(a,4)];if(!l)continue;const c=l.default,u=ht(a,0)|(null==c?void 0:c.flags);let d=null==c?void 0:c.duration;8&u&&(d=ht(a,2&u?12:8));const f=l.timescale||9e4,h=mt(e,["trun"]);for(let t=0;t<h.length;t++)n=kt(h[t]),!n&&d&&(n=d*ht(h[t],4)),l.type===tt?r+=n/f:l.type===et&&(i+=n/f)}if(0===r&&0===i){let t=1/0,n=0,r=0;const i=mt(e,["sidx"]);for(let e=0;e<i.length;e++){const o=vt(i[e]);if(null!=o&&o.references){t=Math.min(t,o.earliestPresentationTime/o.timescale);const e=o.references.reduce(((e,t)=>e+t.info.duration||0),0);n=Math.max(n,e+o.earliestPresentationTime/o.timescale),r=n-t}}if(r&&ye(r))return r}return r||i}(d,h),p=function(e,t){return mt(t,["moof","traf"]).reduce(((t,n)=>{const r=mt(n,["tfdt"])[0],i=r[0],o=mt(n,["tfhd"]).reduce(((t,n)=>{const o=ht(n,4),s=e[o];if(s){let e=ht(r,4);if(1===i){if(e===lt)return ze.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;e*=lt+1,e+=ht(r,8)}const n=e/(s.timescale||9e4);if(ye(n)&&(null===t||n<t))return n}return t}),null);return null!==o&&ye(o)&&(null===t||o<t)?o:t}),null)}(h,d),g=null===p?i:p;!o&&l||!function(e,t,n,r){if(null===e)return!0;const i=Math.max(r,1),o=t-e.baseTime/e.timescale;return Math.abs(o-n)>i}(l,g,i,A)&&f.timescale===l.timescale||(f.initPTS=g-i,l&&1===l.timescale&&this.logger.warn("Adjusting initPTS @".concat(i," from ").concat(l.baseTime/l.timescale," to ").concat(f.initPTS)),this.initPTS=l={baseTime:f.initPTS,timescale:1});const m=e?g-l.baseTime/l.timescale:c,v=m+A;!function(e,t,n){mt(t,["moof","traf"]).forEach((t=>{mt(t,["tfhd"]).forEach((r=>{const i=ht(r,4),o=e[i];if(!o)return;const s=o.timescale||9e4;mt(t,["tfdt"]).forEach((e=>{const t=e[0],r=n*s;if(r){let n=ht(e,4);if(0===t)n-=r,n=Math.max(n,0),gt(e,4,n);else{n*=Math.pow(2,32),n+=ht(e,8),n-=r,n=Math.max(n,0);const t=Math.floor(n/(lt+1)),i=Math.floor(n%(lt+1));gt(e,4,t),gt(e,8,i)}}}))}))}))}(h,d,l.baseTime/l.timescale),A>0?this.lastEndTime=v:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const y=!!h.audio,b=!!h.video;let E="";y&&(E+="audio"),b&&(E+="video");const C={data1:d,startPTS:m,startDTS:m,endPTS:v,endDTS:v,type:E,hasAudio:y,hasVideo:b,nb:1,dropped:0};return u.audio="audio"===C.type?C:void 0,u.video="audio"!==C.type?C:void 0,u.initSegment=f,u.id3=ns(n,i,l,l),r.samples.length&&(u.text=rs(r,i,l)),u}}},{demux:No,remux:es},{demux:class extends po{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const n=Vi(e,0);let r=(null==n?void 0:n.length)||0;if(ko(e,r))return!1;for(let i=e.length;r<i;r++)if(Ji(e,r))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Ki(e,t)&&Xi(e,t)<=e.length-t}(e,t)}appendFrame(e,t,n){$i(e,this.observer,t,n,e.manifestCodec);const r=to(e,t,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:es},{demux:class extends po{resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Vi(e,0);let n=(null==t?void 0:t.length)||0;if(t&&11===e[n]&&119===e[n+1]&&void 0!==fo(t)&&xo(e,n)<=16)return!1;for(let r=e.length;n<r;n++)if(ko(e,n))return ze.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return So(e,t)&&4<=e.length-t}(e,t)}appendFrame(e,t,n){if(null!==this.basePTS)return Co(e,t,n,this.basePTS,this.frameIndex)}},remux:es}];os.splice(2,0,{demux:Lo,remux:es});class ss{constructor(e,t,n,r,i,o){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.id=i,this.logger=o}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,r){const i=n.transmuxing;i.executeStart=Xo();let o=new Uint8Array(e);const{currentTransmuxState:s,transmuxConfig:a}=this;r&&(this.currentTransmuxState=r);const{contiguous:l,discontinuity:c,trackSwitch:u,accurateTimeOffset:d,timeOffset:f,initSegmentChange:h}=r||s,{audioCodec:A,videoCodec:p,defaultInitPts:g,duration:m,initSegmentData:v}=a,y=function(e,t){let n=null;e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(n=t);return n}(o,t);if(y&&yr(y.method)){const e=this.getDecrypter(),t=br(y.method);if(!e.isSync())return this.asyncResult=!0,this.decryptionPromise=e.webCryptoDecrypt(o,y.key.buffer,y.iv.buffer,t).then((e=>{const t=this.push(e,null,n);return this.decryptionPromise=null,t})),this.decryptionPromise;{let r=e.softwareDecrypt(o,y.key.buffer,y.iv.buffer,t);if(n.part>-1){const t=e.flush();r=t?t.buffer:t}if(!r)return i.executeEnd=Xo(),as(n);o=new Uint8Array(r)}}const b=this.needsProbing(c,u);if(b){const e=this.configureTransmuxer(o);if(e)return this.logger.warn("[transmuxer] ".concat(e.message)),this.observer.emit(Se.ERROR,Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_PARSING_ERROR,fatal:!1,error:e,reason:e.message}),i.executeEnd=Xo(),as(n)}(c||u||h||b)&&this.resetInitSegment(v,A,p,m,t),(c||h||b)&&this.resetInitialTimestamp(g),l||this.resetContiguity();const E=this.transmux(o,y,f,d,n);this.asyncResult=ls(E);const C=this.currentTransmuxState;return C.contiguous=!0,C.discontinuity=!1,C.trackSwitch=!1,i.executeEnd=Xo(),E}flush(e){const t=e.transmuxing;t.executeStart=Xo();const{decrypter:n,currentTransmuxState:r,decryptionPromise:i}=this;if(i)return this.asyncResult=!0,i.then((()=>this.flush(e)));const o=[],{timeOffset:s}=r;if(n){const t=n.flush();t&&o.push(this.push(t.buffer,null,e))}const{demuxer:a,remuxer:l}=this;if(!a||!l){t.executeEnd=Xo();const n=[as(e)];return this.asyncResult?Promise.resolve(n):n}const c=a.flush(s);return ls(c)?(this.asyncResult=!0,c.then((t=>(this.flushRemux(o,t,e),o)))):(this.flushRemux(o,c,e),this.asyncResult?Promise.resolve(o):o)}flushRemux(e,t,n){const{audioTrack:r,videoTrack:i,id3Track:o,textTrack:s}=t,{accurateTimeOffset:a,timeOffset:l}=this.currentTransmuxState;this.logger.log("[transmuxer.ts]: Flushed ".concat(this.id," sn: ").concat(n.sn).concat(n.part>-1?" part: "+n.part:""," of ").concat(this.id===Ie?"level":"track"," ").concat(n.level));const c=this.remuxer.remux(r,i,o,s,l,a,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=Xo()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,r,i){const{demuxer:o,remuxer:s}=this;o&&s&&(o.resetInitSegment(e,t,n,r),s.resetInitSegment(e,t,n,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,r,i){let o;return o=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i),o}transmuxUnencrypted(e,t,n,r){const{audioTrack:i,videoTrack:o,id3Track:s,textTrack:a}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,o,s,a,t,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(e,t,n,r,i){return this.demuxer.demuxSampleAes(e,t,n).then((e=>({remuxResult:this.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,this.id),chunkMeta:i})))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:r}=this;let i;for(let u=0,d=os.length;u<d;u++){var o;if(null!=(o=os[u].demux)&&o.probe(e,this.logger)){i=os[u];break}}if(!i)return new Error("Failed to find demuxer by probing fragment data");const s=this.demuxer,a=this.remuxer,l=i.remux,c=i.demux;a&&a instanceof l||(this.remuxer=new l(n,t,r,this.logger)),s&&s instanceof c||(this.demuxer=new c(n,t,r,this.logger),this.probe=c.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Jn(this.config)),e}}const as=e=>({remuxResult:{},chunkMeta:e});function ls(e){return"then"in e&&e.then instanceof Function}class cs{constructor(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i||null}}class us{constructor(e,t,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}}let ds=0;class fs{constructor(e,t,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=ds++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=e=>{const t=e.data,n=this.hls;if(n&&null!=t&&t.event&&t.instanceNo===this.instanceNo)switch(t.event){case"init":{var r;const e=null==(r=this.workerContext)?void 0:r.objectURL;e&&self.URL.revokeObjectURL(e);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":n.logger[t.data.logType]&&n.logger[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.part=this.part,t.data.id=this.id,n.trigger(t.event,t.data)}},this.onWorkerError=e=>{if(!this.hls)return;const t=new Error("".concat(e.message,"  (").concat(e.filename,":").concat(e.lineno,")"));this.hls.config.enableWorker=!1,this.hls.logger.warn('Error in "'.concat(this.id,'" Web Worker, fallback to inline')),this.hls.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})};const i=e.config;this.hls=e,this.id=t,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const o=(e,t)=>{(t=t||{}).frag=this.frag||void 0,e===Se.ERROR&&(t.parent=this.id,t.part=this.part,this.error=t.error),this.hls.trigger(e,t)};this.observer=new Gi,this.observer.on(Se.FRAG_DECRYPTED,o),this.observer.on(Se.ERROR,o);const s=Kt(i.preferManagedMediaSource);if(this.useWorker&&"undefined"!==typeof Worker){const n=this.hls.logger;if(i.workerPath||"function"===typeof __HLS_WORKER_BUNDLE__){try{i.workerPath?(n.log("loading Web Worker ".concat(i.workerPath,' for "').concat(t,'"')),this.workerContext=function(e){const t=Wi[e];if(t)return t.clientCount++,t;const n=new self.URL(e,self.location.href).href,r={worker:new self.Worker(n),scriptURL:n,clientCount:1};return Wi[e]=r,r}(i.workerPath)):(n.log('injecting Web Worker for "'.concat(t,'"')),this.workerContext=function(){const e=Wi[ji];if(e)return e.clientCount++,e;const t=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),n=self.URL.createObjectURL(t),r={worker:new self.Worker(n),objectURL:n,clientCount:1};return Wi[ji]=r,r}());const{worker:e}=this.workerContext;e.addEventListener("message",this.onWorkerMessage),e.addEventListener("error",this.onWorkerError),e.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:s,id:t,config:fn(i)})}catch(Jl){n.warn('Error setting up "'.concat(t,'" Web Worker, fallback to inline'),Jl),this.terminateWorker(),this.error=null,this.transmuxer=new ss(this.observer,s,i,"",t,e.logger)}return}}this.transmuxer=new ss(this.observer,s,i,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=ds++;const t=this.hls.config,n=Kt(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:fn(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),function(e){const t=Wi[e||ji];if(t&&1===t.clientCount--){const{worker:n,objectURL:r}=t;delete Wi[e||ji],r&&self.URL.revokeObjectURL(r),n.terminate()}}(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,n,r,i,o,s,a,l,c){var u,d;l.transmuxing.start=self.performance.now();const{instanceNo:f,transmuxer:h}=this,A=o?o.start:i.start,p=i.decryptdata,g=this.frag,m=!(g&&i.cc===g.cc),v=!(g&&l.level===g.level),y=g?l.sn-g.sn:-1,b=this.part?l.part-this.part.index:-1,E=0===y&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),C=!v&&(1===y||0===y&&(1===b||E&&b<=0)),w=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=w),!o||!b&&C||(o.stats.parsing.start=w);const S=!(g&&(null==(u=i.initSegment)?void 0:u.url)===(null==(d=g.initSegment)?void 0:d.url)),T=new us(m,C,a,v,A,S);if(!C||m||S){this.hls.logger.log("[transmuxer-interface]: Starting new transmux session for ".concat(i.type," sn: ").concat(l.sn).concat(l.part>-1?" part: "+l.part:""," ").concat(this.id===Ie?"level":"track",": ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(m,"\n        trackSwitch: ").concat(v,"\n        contiguous: ").concat(C,"\n        accurateTimeOffset: ").concat(a,"\n        timeOffset: ").concat(A,"\n        initSegmentChange: ").concat(S));const e=new cs(n,r,t,s,c);this.configureTransmuxer(e)}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({instanceNo:f,cmd:"demux",data:e,decryptdata:p,chunkMeta:l,state:T},e instanceof ArrayBuffer?[e]:[]);else if(h){const t=h.push(e,p,l,T);ls(t)?t.then((e=>{this.handleTransmuxComplete(e)})).catch((e=>{this.transmuxerError(e,l,"transmuxer-interface push error")})):this.handleTransmuxComplete(t)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(n){const t=n.flush(e);ls(t)?t.then((t=>{this.handleFlushResult(t,e)})).catch((t=>{this.transmuxerError(t,e,"transmuxer-interface flush error")})):this.handleFlushResult(t,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach((e=>{this.handleTransmuxComplete(e)})),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}class hs extends Ne{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,n){const r=null==t?void 0:t.renditionReports;if(r){let o=-1;for(let n=0;n<r.length;n++){const s=r[n];let a;try{a=new self.URL(s.URI,t.url).href}catch(i){this.warn("Could not construct new URL for Rendition Report: ".concat(i)),a=s.URI||""}if(a===e){o=n;break}a===e.substring(0,a.length)&&(o=n)}if(-1!==o){const e=r[o],i=parseInt(e["LAST-MSN"])||(null==t?void 0:t.lastPartSn);let s=parseInt(e["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const e=Math.min(t.age-t.partTarget,t.targetduration);s>=0&&e>t.partTarget&&(s+=1)}const a=n&&an(n);return new ln(i,s>=0?s:void 0,a)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(n){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(n))}return e}playlistLoaded(e,t,n){const{details:r,stats:i}=t,o=self.performance.now(),s=i.loading.first?Math.max(0,o-i.loading.first):0;r.advancedDateTime=Date.now()-s;const a=this.hls.config.timelineOffset;if(a!==r.appliedTimelineOffset){const e=Math.max(a||0,0);r.appliedTimelineOffset=e,r.fragments.forEach((t=>{t.start=t.playlistOffset+e}))}if(r.live||null!=n&&n.live){const a="levelInfo"in t?t.levelInfo:t.track;if(r.reloaded(n),n&&r.fragments.length>0){li(n,r);const e=r.playlistParsingError;if(e){this.warn(e);const n=this.hls;if(!n.config.ignorePlaylistParsingErrors){var l;const{networkDetails:o}=t;return void n.trigger(Se.ERROR,{type:Ce.NETWORK_ERROR,details:we.LEVEL_PARSING_ERROR,fatal:!1,url:r.url,error:e,reason:e.message,level:t.level||void 0,parent:null==(l=r.fragments[0])?void 0:l.type,networkDetails:o,stats:i})}r.playlistParsingError=null}}-1===r.requestScheduled&&(r.requestScheduled=i.loading.start);const c=this.hls.mainForwardBufferInfo,u=c?c.end-c.len:0,d=fi(r,1e3*(r.edge-u));if(r.requestScheduled+d<o?r.requestScheduled=o:r.requestScheduled+=d,this.log("live playlist ".concat(e," ").concat(r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED")),!this.canLoad||!r.live)return;let f,h,A;if(r.canBlockReload&&r.endSN&&r.advanced){const e=this.hls.config.lowLatencyMode,i=r.lastPartSn,s=r.endSN,l=r.lastPartIndex,c=i===s;-1!==l?c?(h=s+1,A=e?0:l):(h=i,A=e?l+1:r.maxPartIndex):h=s+1;const u=r.age,d=u+r.ageHeader;let p=Math.min(d-r.partTarget,1.5*r.targetduration);if(p>0){if(d>3*r.targetduration)this.log("Playlist last advanced ".concat(u.toFixed(2),"s ago. Omitting segment and part directives.")),h=void 0,A=void 0;else if(null!=n&&n.tuneInGoal&&d-r.partTarget>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(n.tuneInGoal," to: ").concat(p," with playlist age: ").concat(r.age)),p=0;else{const e=Math.floor(p/r.targetduration);if(h+=e,void 0!==A){A+=Math.round(p%r.targetduration/r.partTarget)}this.log("CDN Tune-in age: ".concat(r.ageHeader,"s last advanced ").concat(u.toFixed(2),"s goal: ").concat(p," skip sn ").concat(e," to part ").concat(A))}r.tuneInGoal=p}if(f=this.getDeliveryDirectives(r,t.deliveryDirectives,h,A),e||!c)return r.requestScheduled=o,void this.loadingPlaylist(a,f)}else(r.canBlockReload||r.canSkipUntil)&&(f=this.getDeliveryDirectives(r,t.deliveryDirectives,h,A));f&&void 0!==h&&r.canBlockReload&&(r.requestScheduled=i.loading.first+Math.max(d-2*s,d/2)),this.scheduleLoading(a,f,r)}else this.clearTimer()}scheduleLoading(e,t,n){const r=n||e.details;if(!r)return void this.loadingPlaylist(e,t);const i=self.performance.now(),o=r.requestScheduled;if(i>=o)return void this.loadingPlaylist(e,t);const s=o-i;this.log("reload live playlist ".concat(e.name||e.bitrate+"bps"," in ").concat(Math.round(s)," ms")),this.clearTimer(),this.timer=self.setTimeout((()=>this.loadingPlaylist(e,t)),s)}getDeliveryDirectives(e,t,n,r){let i=an(e);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=rn),new ln(n,r,i)}checkRetry(e){const t=e.details,n=kn(e),r=e.errorAction,{action:i,retryCount:o=0,retryConfig:s}=r||{},a=!!r&&!!s&&(i===On||!r.resolved&&i===Bn);if(a){var l;if(o>=s.maxNumRetry)return!1;if(n&&null!=(l=e.context)&&l.deliveryDirectives)this.warn("Retrying playlist loading ".concat(o+1,"/").concat(s.maxNumRetry,' after "').concat(t,'" without delivery-directives')),this.loadPlaylist();else{const e=Ln(s,o);this.clearTimer(),this.timer=self.setTimeout((()=>this.loadPlaylist()),e),this.warn("Retrying playlist loading ".concat(o+1,"/").concat(s.maxNumRetry,' after "').concat(t,'" in ').concat(e,"ms"))}e.levelRetry=!0,r.resolved=!0}return a}}function As(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!ps(e[n].attrs,t[n].attrs))return!1;return!0}function ps(e,t,n){const r=e["STABLE-RENDITION-ID"];return r&&!n?r===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((n=>e[n]!==t[n]))}function gs(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}class ms{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,n){if(null===this.queues||null===this.tracks)return;const r=this.queues[t];r.push(e),1!==r.length||n||this.executeNext(t)}appendBlocker(e){return new Promise((t=>{const n={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)}))}prependBlocker(e){return new Promise((t=>{if(this.queues){const n={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}}))}removeBlockers(){null!==this.queues&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach((e=>{var t;const n=null==(t=e[0])?void 0:t.label;"async-blocker"!==n&&"async-blocker-prepend"!==n||(e[0].execute(),e.splice(0,1))}))}unblockAudio(e){if(null===this.queues)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(null===this.queues||null===this.tracks)return;const t=this.queues[e];if(t.length){const i=t[0];try{i.execute()}catch(r){var n;if(i.onError(r),null===this.queues||null===this.tracks)return;const t=null==(n=this.tracks[e])?void 0:n.buffer;null!=t&&t.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){null!==this.queues&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return(null==(t=this.queues)?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return null===e||null===t?"<destroyed>":"\n".concat(this.list("video"),"\n").concat(this.list("audio"),"\n").concat(this.list("audiovideo"),"}")}list(e){var t,n;return null!=(t=this.queues)&&t[e]||null!=(n=this.tracks)&&n[e]?"".concat(e,": (").concat(this.listSbInfo(e),") ").concat(this.listOps(e)):""}listSbInfo(e){var t;const n=null==(t=this.tracks)?void 0:t[e],r=null==n?void 0:n.buffer;return r?"SourceBuffer".concat(r.updating?" updating":"").concat(n.ended?" ended":"").concat(n.ending?" ending":""):"none"}listOps(e){var t;return(null==(t=this.queues)?void 0:t[e].map((e=>e.label)).join(", "))||""}}const vs=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,ys="HlsJsTrackRemovedError";class bs extends Error{constructor(e){super(e),this.name=ys}}function Es(e){const t=e.querySelectorAll("source");[].slice.call(t).forEach((t=>{e.removeChild(t)}))}function Cs(e){return"audio"===e?1:0}class ws{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Se.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Se.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Se.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Se.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&ye(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&t.logger.log("Setting autoLevelCapping to ".concat(n,": ").concat(e[n].height,"p@").concat(e[n].bitrate," for media ").concat(this.mediaWidth,"x").concat(this.mediaHeight)),t.autoLevelCapping=n,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter(((t,n)=>this.isLevelAllowed(t)&&n<=e));return this.clientRect=null,ws.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(Zl){}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some((t=>e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height))}static getMaxLevelByMediaSize(e,t,n){if(null==e||!e.length)return-1;let r=e.length-1;const i=Math.max(t,n);for(let a=0;a<e.length;a+=1){const t=e[a];if((t.width>=i||t.height>=i)&&(o=t,!(s=e[a+1])||o.width!==s.width||o.height!==s.height)){r=a;break}}var o,s;return r}}const Ss={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Ts={HLS:"h"},ks="CMCD-Object",xs="CMCD-Request",Ls="CMCD-Session",Is="CMCD-Status",Rs={[ks]:["br","d","ot","tb"],[xs]:["bl","dl","mtp","nor","nrr","su"],[Ls]:["cid","pr","sf","sid","st","v"],[Is]:["bs","rtp"]};class Ds{constructor(e,t){Array.isArray(e)&&(e=e.map((e=>e instanceof Ds?e:new Ds(e)))),this.value=e,this.params=t}}function Bs(e,t,n,r){return new Error("failed to ".concat(e,' "').concat((i=t,Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":"object"===typeof i?JSON.stringify(i):String(i)),'" as ').concat(n),{cause:r});var i}function Ps(e,t,n){return Bs("serialize",e,t,n)}class Os{constructor(e){this.description=e}}const Ms="Bare Item";function _s(e){if(!1===ArrayBuffer.isView(e))throw Ps(e,"Byte Sequence");return":".concat((t=e,btoa(String.fromCharCode(...t))),":");var t}function Fs(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw Ps(e,"Integer");return e.toString()}function Ns(e){const t=ro(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw Ps(e,"Decimal");const n=t.toString();return n.includes(".")?n:"".concat(n,".0")}const Us=/[\x00-\x1f\x7f]+/;function Qs(e){const t=(n=e).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t))throw Ps(t,"Token");return t}function Gs(e){switch(typeof e){case"number":if(!ye(e))throw Ps(e,Ms);return Number.isInteger(e)?Fs(e):Ns(e);case"string":return function(e){if(Us.test(e))throw Ps(e,"String");return'"'.concat(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'"')}(e);case"symbol":return Qs(e);case"boolean":return function(e){if("boolean"!==typeof e)throw Ps(e,"Boolean");return e?"?1":"?0"}(e);case"object":if(e instanceof Date)return function(e){return"@".concat(Fs(e.getTime()/1e3))}(e);if(e instanceof Uint8Array)return _s(e);if(e instanceof Os)return Qs(e);default:throw Ps(e,Ms)}}function js(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw Ps(e,"Key");return e}function Ws(e){return null==e?"":Object.entries(e).map((e=>{let[t,n]=e;return!0===n?";".concat(js(t)):";".concat(js(t),"=").concat(Gs(n))})).join("")}function zs(e){return e instanceof Ds?"".concat(Gs(e.value)).concat(Ws(e.params)):Gs(e)}function Hs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{whitespace:!0};if("object"!==typeof e)throw Ps(e,"Dict");const n=e instanceof Map?e.entries():Object.entries(e),r=(null===t||void 0===t?void 0:t.whitespace)?" ":"";return Array.from(n).map((e=>{let[t,n]=e;n instanceof Ds===!1&&(n=new Ds(n));let r=js(t);var i;return!0===n.value?r+=Ws(n.params):(r+="=",Array.isArray(n.value)?r+="(".concat((i=n).value.map(zs).join(" "),")").concat(Ws(i.params)):r+=zs(n)),r})).join(",".concat(r))}const Ys=e=>Math.round(e),Vs=e=>100*Ys(e/100),Ks={br:Ys,d:Ys,bl:Vs,dl:Vs,mtp:Vs,nor:(e,t)=>((null===t||void 0===t?void 0:t.baseUrl)&&(e=function(e,t){const n=new URL(e),r=new URL(t);if(n.origin!==r.origin)return e;const i=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;i[0]===o[0];)i.shift(),o.shift();for(;o.length;)o.shift(),i.unshift("..");return i.join("/")}(e,t.baseUrl)),encodeURIComponent(e)),rtp:Vs,tb:Ys};function qs(e,t){const n={};if(null==e||"object"!==typeof e)return n;const r=Object.keys(e).sort(),i=Me({},Ks,null===t||void 0===t?void 0:t.formatters),o=null===t||void 0===t?void 0:t.filter;return r.forEach((r=>{if(null===o||void 0===o?void 0:o(r))return;let s=e[r];const a=i[r];a&&(s=a(s,t)),"v"===r&&1===s||"pr"==r&&1===s||function(e){return"number"===typeof e?ye(e):null!=e&&""!==e&&!1!==e}(s)&&(function(e){return"ot"===e||"sf"===e||"st"===e}(r)&&"string"===typeof s&&(s=new Os(s)),n[r]=s)})),n}function Xs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?function(e,t){return Hs(e,t)}(qs(e,t),Me({whitespace:!1},t)):""}function Zs(e,t,n){return Me(e,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};if(!e)return n;const r=Object.entries(e),i=Object.entries(Rs).concat(Object.entries((null===t||void 0===t?void 0:t.customHeaderMap)||{})),o=r.reduce(((e,t)=>{var n,r;const[o,s]=t,a=(null===(n=i.find((e=>e[1].includes(o))))||void 0===n?void 0:n[0])||xs;return null!==(r=e[a])&&void 0!==r||(e[a]={}),e[a][o]=s,e}),{});return Object.entries(o).reduce(((e,n)=>{let[r,i]=n;return e[r]=Xs(i,t),e}),n)}(t,n))}const Js=/CMCD=[^&#]+/;function $s(e,t,n){const r=function(e){if(!e)return"";const t=Xs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return"".concat("CMCD","=").concat(encodeURIComponent(t))}(t,n);if(!r)return e;if(Js.test(e))return e.replace(Js,r);const i=e.includes("?")?"&":"?";return"".concat(e).concat(i).concat(r)}function ea(e,t,n,r){e&&Object.keys(t).forEach((i=>{const o=e.filter((e=>e.groupId===i)).map((e=>{const o=Me({},e);return o.details=void 0,o.attrs=new pr(o.attrs),o.url=o.attrs.URI=ta(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),o.groupId=o.attrs["GROUP-ID"]=t[i],o.attrs["PATHWAY-ID"]=r,o}));e.push(...o)}))}function ta(e,t,n,r){const{HOST:i,PARAMS:o,[n]:s}=r;let a;t&&(a=null==s?void 0:s[t],a&&(e=a));const l=new self.URL(e);return i&&!a&&(l.host=i),o&&Object.keys(o).sort().forEach((e=>{e&&l.searchParams.set(e,o[e])})),l.href}class na extends Ne{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=na.CDMCleanupPromise?[na.CDMCleanupPromise]:[],this.onMediaEncrypted=e=>{const{initDataType:t,initData:n}=e,r='"'.concat(e.type,'" event: init data type: "').concat(t,'"');if(this.debug(r),null!==n){if(!this.keyFormatPromise){let e=Object.keys(this.keySystemAccessPromises);e.length||(e=Fr(this.config));const t=e.map(_r).filter((e=>!!e));this.keyFormatPromise=this.getKeyFormatPromise(t)}this.keyFormatPromise.then((i=>{const o=Rr(i);let s,a;if("sinf"===t){if(o!==Tr.FAIRPLAY)return void this.warn('Ignoring unexpected "'.concat(e.type,'" event with init data type: "').concat(t,'" for selected key-system ').concat(o));const i=dt(new Uint8Array(n));try{const e=Tt(Er(JSON.parse(i).sinf));if(!e)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");s=new Uint8Array(e.subarray(8,24)),a=Tr.FAIRPLAY}catch(f){return void this.warn("".concat(r," Failed to parse sinf: ").concat(f))}}else{if(o!==Tr.WIDEVINE&&o!==Tr.PLAYREADY)return void this.warn('Ignoring unexpected "'.concat(e.type,'" event with init data type: "').concat(t,'" for selected key-system ').concat(o));const i=function(e){const t=[];if(e instanceof ArrayBuffer){const n=e.byteLength;let r=0;for(;r+32<n;){const n=Ot(new DataView(e,r));t.push(n),r+=n.size}}return t}(n),l=i.filter((e=>!!e.systemId&&Mr(e.systemId)===o));l.length>1&&this.warn("".concat(r," Using first of ").concat(l.length," pssh found for selected key-system ").concat(o));const c=l[0];if(!c)return void(0===i.length||i.some((e=>!e.systemId))?this.warn("".concat(r," contains incomplete or invalid pssh data")):this.log("ignoring ".concat(r," for ").concat(i.map((e=>Mr(e.systemId))).join(",")," pssh data in favor of playlist keys")));if(a=Mr(c.systemId),0===c.version&&c.data)if(a===Tr.WIDEVINE){const e=c.data.length-22;s=new Uint8Array(c.data.subarray(e,e+16))}else a===Tr.PLAYREADY&&(s=Qr(c.data))}if(!a||!s)return;const l=Ke(s),{keyIdToKeySessionPromise:c,mediaKeySessions:u}=this;let d=c[l];for(let e=0;e<u.length;e++){const r=u[e],i=r.decryptdata;if(!i.keyId)continue;const o=Ke(i.keyId);if(l===o||-1!==i.uri.replace(/-/g,"").indexOf(l)){if(d=c[o],i.pssh)break;delete c[o],i.pssh=new Uint8Array(n),i.keyId=s,d=c[l]=d.then((()=>this.generateRequestWithPreferredKeySession(r,t,n,"encrypted-event-key-match"))),d.catch((e=>this.handleError(e)));break}}if(!d){if(a!==o)return void this.log('Ignoring "'.concat(e.type,'" event with ').concat(a," init data for selected key-system ").concat(o));d=c[l]=this.getKeySystemSelectionPromise([a]).then((e=>{let{keySystem:r,mediaKeys:i}=e;var o;this.throwIfDestroyed();const a=new jr("ISO-23001-7",l,null!=(o=_r(r))?o:"");return a.pssh=new Uint8Array(n),a.keyId=s,this.attemptSetMediaKeys(r,i).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({decryptdata:a,keySystem:r,mediaKeys:i});return this.generateRequestWithPreferredKeySession(e,t,n,"encrypted-event-no-match")}))})),d.catch((e=>this.handleError(e)))}}))}},this.onWaitingForKey=e=>{this.log('"'.concat(e.type,'" event'))},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){const e=this.media;this.unregisterListeners(),this.onMediaDetached(),this._clear(e);const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Se.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Se.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Se.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Se.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,r=t[e];return r?r.licenseUrl:e===Tr.WIDEVINE&&n?n:void 0}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(void 0===t)throw new Error('no license server URL configured for key-system "'.concat(e,'"'));return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t[e];if(n)return n.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(e,'"]'))}attemptKeySystemAccess(e){const t=this.hls.levels,n=(e,t,n)=>!!e&&n.indexOf(e)===t,r=t.map((e=>e.audioCodec)).filter(n),i=t.map((e=>e.videoCodec)).filter(n);return r.length+i.length===0&&i.push("avc1.42e01e"),new Promise(((t,n)=>{const o=e=>{const s=e.shift();this.getMediaKeysPromise(s,r,i).then((e=>t({keySystem:s,mediaKeys:e}))).catch((t=>{e.length?o(e):n(t instanceof ra?t:new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};o(e)}))}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!==typeof n){let e="Configured requestMediaKeySystemAccess is not a function ".concat(n);return null===Nr&&"http:"===self.location.protocol&&(e="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(e))}return n(e,t)}getMediaKeysPromise(e,t,n){const r=function(e,t,n,r){let i;switch(e){case Tr.FAIRPLAY:i=["cenc","sinf"];break;case Tr.WIDEVINE:case Tr.PLAYREADY:i=["cenc"];break;case Tr.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(e))}return function(e,t,n,r){return[{initDataTypes:e,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((e=>({contentType:"audio/mp4; codecs=".concat(e),robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}))),videoCapabilities:n.map((e=>({contentType:"video/mp4; codecs=".concat(e),robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null})))}]}(i,t,n,r)}(e,t,n,this.config.drmSystemOptions),i=this.keySystemAccessPromises[e];let o=null==i?void 0:i.keySystemAccess;if(!o){this.log('Requesting encrypted media "'.concat(e,'" key-system access with config: ').concat(fn(r))),o=this.requestMediaKeySystemAccess(e,r);const t=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch((t=>{this.log('Failed to obtain access to key-system "'.concat(e,'": ').concat(t))})),o.then((n=>{this.log('Access for key-system "'.concat(n.keySystem,'" obtained'));const r=this.fetchServerCertificate(e);return this.log('Create media-keys for "'.concat(e,'"')),t.mediaKeys=n.createMediaKeys().then((t=>(this.log('Media-keys created for "'.concat(e,'"')),r.then((n=>n?this.setMediaKeysServerCertificate(t,e,n):t))))),t.mediaKeys.catch((t=>{this.error('Failed to create media-keys for "'.concat(e,'"}: ').concat(t))})),t.mediaKeys}))}return o.then((()=>i.mediaKeys))}createMediaKeySessionContext(e){let{decryptdata:t,keySystem:n,mediaKeys:r}=e;this.log('Creating key-system session "'.concat(n,'" keyId: ').concat(Ke(t.keyId||[])));const i=r.createSession(),o={decryptdata:t,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t),i="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,i,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Ke(e.keyId)}updateKeySession(e,t){var n;const r=e.mediaKeysSession;return this.log('Updating key-session "'.concat(r.sessionId,'" for keyID ').concat(Ke((null==(n=e.decryptdata)?void 0:n.keyId)||[]),"\n      } (data length: ").concat(t?t.byteLength:t,")")),r.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(e.sn," ").concat(e.type,": ").concat(e.level,") key formats ").concat(t.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise(((t,n)=>{const r=Fr(this.config),i=e.map(Rr).filter((e=>!!e&&-1!==r.indexOf(e)));return this.getKeySystemSelectionPromise(i).then((e=>{let{keySystem:r}=e;const i=_r(r);i?t(i):n(new Error('Unable to find format for key-system "'.concat(r,'"')))})).catch(n)}))}loadKey(e){const t=e.keyInfo.decryptdata,n=this.getKeyIdString(t),r="(keyId: ".concat(n,' format: "').concat(t.keyFormat,'" method: ').concat(t.method," uri: ").concat(t.uri,")");this.log("Starting session for key ".concat(r));let i=this.keyIdToKeySessionPromise[n];if(!i){i=this.getKeySystemForKeyPromise(t).then((n=>{let{keySystem:i,mediaKeys:o}=n;return this.throwIfDestroyed(),this.log("Handle encrypted media sn: ".concat(e.frag.sn," ").concat(e.frag.type,": ").concat(e.frag.level," using key ").concat(r)),this.attemptSetMediaKeys(i,o).then((()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:i,mediaKeys:o,decryptdata:t}))))}));(this.keyIdToKeySessionPromise[n]=i.then((e=>{const n=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(e,"cenc",n,"playlist-key")}))).catch((e=>this.handleError(e)))}return i}throwIfDestroyed(){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof ra?this.hls.trigger(Se.ERROR,e.data):this.hls.trigger(Se.ERROR,{type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){const t=Rr(e.keyFormat),n=t?[t]:Fr(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=Fr(this.config)),0===e.length)throw new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(fn({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){const n=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(e,'"'));const r=Promise.all(n).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(r),r.then((()=>{this.log('Media-keys set for "'.concat(e,'"')),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((e=>-1===n.indexOf(e)))}))}generateRequestWithPreferredKeySession(e,t,n,r){var i,o;const s=null==(i=this.config.drmSystems)||null==(o=i[e.keySystem])?void 0:o.generateRequest;if(s)try{const r=s.call(this.hls,t,n,e);if(!r)throw new Error("Invalid response from configured generateRequest filter");t=r.initDataType,n=r.initData?r.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(h){var a;if(this.warn(h.message),null!=(a=this.hls)&&a.config.debug)throw h}if(null===n)return this.log('Skipping key-session request for "'.concat(r,'" (no initData)')),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'.concat(r,'": ').concat(l," (init data type: ").concat(t," length: ").concat(n?n.byteLength:null,")"));const c=new Gi,u=e._onmessage=t=>{const n=e.mediaKeysSession;if(!n)return void c.emit("error",new Error("invalid state"));const{messageType:r,message:i}=t;this.log('"'.concat(r,'" message event for session "').concat(n.sessionId,'" message size: ').concat(i.byteLength)),"license-request"===r||"license-renewal"===r?this.renewLicense(e,i).catch((e=>{c.eventNames().length?c.emit("error",e):this.handleError(e)})):"license-release"===r?e.keySystem===Tr.FAIRPLAY&&(this.updateKeySession(e,Cr("acknowledged")),this.removeSession(e)):this.warn('unhandled media key message type "'.concat(r,'"'))},d=e._onkeystatuseschange=t=>{if(!e.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const n=e.keyStatus;c.emit("keyStatus",n),"expired"===n&&(this.warn("".concat(e.keySystem," expired for key ").concat(l)),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",u),e.mediaKeysSession.addEventListener("keystatuseschange",d);const f=new Promise(((e,t)=>{c.on("error",t),c.on("keyStatus",(n=>{n.startsWith("usable")?e():"output-restricted"===n?t(new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?t(new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(n,'"'))):"expired"===n?t(new Error("key expired while generating request")):this.warn('unhandled key status change "'.concat(n,'"'))}))}));return e.mediaKeysSession.generateRequest(t,n).then((()=>{var t;this.log('Request generated for key-session "'.concat(null==(t=e.mediaKeysSession)?void 0:t.sessionId,'" keyId: ').concat(l))})).catch((e=>{throw new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: ".concat(e))})).then((()=>f)).catch((t=>{throw c.removeAllListeners(),this.removeSession(e),t})).then((()=>(c.removeAllListeners(),e)))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach(((t,n)=>{if("string"===typeof n&&"object"===typeof t){const e=n;n=t,t=e}this.log('key status change "'.concat(t,'" for keyStatuses keyId: ').concat(Ke("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))," session keyId: ").concat(Ke(new Uint8Array(e.decryptdata.keyId||[]))," uri: ").concat(e.decryptdata.uri)),e.keyStatus=t}))}fetchServerCertificate(e){const t=this.config,n=new(0,t.loader)(t),r=this.getServerCertificateUrl(e);return r?(this.log('Fetching server certificate for "'.concat(e,'"')),new Promise(((i,o)=>{const s={responseType:"arraybuffer",url:r},a=t.certLoadPolicy.default,l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,n,r)=>{i(e.data)},onError:(t,n,i,a)=>{o(new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:Fe({url:s.url,data:void 0},t)},'"'.concat(e,'" certificate request failed (').concat(r,"). Status: ").concat(t.code," (").concat(t.text,")")))},onTimeout:(t,n,i)=>{o(new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:s.url,data:void 0}},'"'.concat(e,'" certificate request timed out (').concat(r,")")))},onAbort:(e,t,n)=>{o(new Error("aborted"))}};n.load(s,l,c)}))):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise(((r,i)=>{e.setServerCertificate(n).then((i=>{this.log("setServerCertificate ".concat(i?"success":"not supported by CDM"," (").concat(null==n?void 0:n.byteLength,') on "').concat(t,'"')),r(e)})).catch((e=>{i(new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then((t=>this.updateKeySession(e,new Uint8Array(t)).catch((e=>{throw new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0){let t;for(let n=0,r=i.length;n<r;n++){var o,s;t=i[n];const r=null==(o=t.querySelector("name"))?void 0:o.textContent,a=null==(s=t.querySelector("value"))?void 0:s.textContent;r&&a&&e.setRequestHeader(r,a)}}const a=r.querySelector("Challenge"),l=null==a?void 0:a.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return Cr(atob(l))}setupLicenseXHR(e,t,n,r){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,t,n,r)})).catch((o=>{if(!n.decryptdata)throw o;return e.open("POST",t,!0),i.call(this.hls,e,t,n,r)})).then((n=>{e.readyState||e.open("POST",t,!0);return{xhr:e,licenseChallenge:n||r}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise(((r,i)=>{const o=this.getLicenseServerUrlOrThrow(e.keySystem);this.log("Sending license request to URL: ".concat(o));const s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(4===s.readyState)if(200===s.status){this._requestLicenseFailureCount=0;let t=s.response;this.log("License received ".concat(t instanceof ArrayBuffer?t.byteLength:t));const n=this.config.licenseResponseCallback;if(n)try{t=n.call(this.hls,s,o,e)}catch(a){this.error(a)}r(t)}else{const a=n.errorRetry,l=a?a.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||s.status>=400&&s.status<500)i(new ra({type:Ce.KEY_SYSTEM_ERROR,details:we.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:o,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed (".concat(o,"). Status: ").concat(s.status," (").concat(s.statusText,")")));else{const n=l-this._requestLicenseFailureCount+1;this.warn("Retrying license request, ".concat(n," attempts left")),this.requestLicense(e,t).then(r,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,this.setupLicenseXHR(s,o,e,t).then((t=>{let{xhr:n,licenseChallenge:r}=t;e.keySystem==Tr.PLAYREADY&&(r=this.unpackPlayReadyKeyMessage(n,r)),n.send(r)}))}))}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null)}_clear(e){var t;const n=this.mediaKeySessions;this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},jr.clearKeyUriToKeyIdMap();const r=n.length;na.CDMCleanupPromise=Promise.all(n.map((e=>this.removeSession(e))).concat(null==e||null==(t=e.setMediaKeys(null))?void 0:t.catch((e=>{var t;this.log("Could not clear media keys: ".concat(e)),null==(t=this.hls)||t.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error("Could not clear media keys: ".concat(e))})})))).then((()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)})).catch((e=>{var t;this.log("Could not close sessions and clear media keys: ".concat(e)),null==(t=this.hls)||t.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error("Could not close sessions and clear media keys: ".concat(e))})}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,t){let{sessionKeys:n}=t;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){const e=n.reduce(((e,t)=>(-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e)),[]);this.log("Selecting key-system from session-keys ".concat(e.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(e)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n}=e;if(t){this.log("Remove licenses and keys and close session ".concat(t.sessionId)),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(e);r>-1&&this.mediaKeySessions.splice(r,1);const{drmSystemOptions:i}=this.config,o=function(e){var t;return"persistent-license"===e.sessionType||!(null==(t=e.sessionTypes)||!t.some((e=>"persistent-license"===e)))}(i)?new Promise(((e,n)=>{self.setTimeout((()=>n(new Error("MediaKeySession.remove() timeout"))),8e3),t.remove().then(e)})):Promise.resolve();return o.catch((e=>{var t;this.log("Could not remove session: ".concat(e)),null==(t=this.hls)||t.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error("Could not remove session: ".concat(e))})})).then((()=>t.close())).catch((e=>{var t;this.log("Could not close session: ".concat(e)),null==(t=this.hls)||t.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error("Could not close session: ".concat(e))})}))}}}na.CDMCleanupPromise=void 0;class ra extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}function ia(e,t){let n;try{n=new Event("addtrack")}catch(Jl){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function oa(e,t){const n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: ".concat(t))}catch(Jl){ze.debug("[texttrack-utils]: ".concat(Jl));try{const n=new self.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,e.addCue(n)}catch(r){ze.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: ".concat(r))}}"disabled"===n&&(e.mode=n)}function sa(e,t){const n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues)for(let r=e.cues.length;r--;)t&&e.cues[r].removeEventListener("enter",t),e.removeCue(e.cues[r]);"disabled"===n&&(e.mode=n)}function aa(e,t,n,r){const i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0){const i=function(e,t,n){const r=[],i=function(e,t){if(t<=e[0].startTime)return 0;const n=e.length-1;if(t>e[n].endTime)return-1;let r,i=0,o=n;for(;i<=o;)if(r=Math.floor((o+i)/2),t<e[r].startTime)o=r-1;else{if(!(t>e[r].startTime&&i<n))return r;i=r+1}return e[i].startTime-t<t-e[o].startTime?i:o}(e,t);if(i>-1)for(let o=i,s=e.length;o<s;o++){const i=e[o];if(i.startTime>=t&&i.endTime<=n)r.push(i);else if(i.startTime>n)return r}return r}(e.cues,t,n);for(let t=0;t<i.length;t++)r&&!r(i[t])||e.removeCue(i[t])}"disabled"===i&&(e.mode=i)}function la(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[n])}return t}function ca(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}const ua=.025;let da=function(e){return e[e.Point=0]="Point",e[e.Range=1]="Range",e}({});function fa(e,t,n){return"".concat(e.identifier,"-").concat(n+1,"-").concat(ca(t))}class ha{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,null==(e=this.assetListLoader)||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){if(e>=this.assetList.length)return!0;const t=this.playoutLimit;if(e<=0||isNaN(t))return!1;return this.assetList[e].startOffset>t}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return Aa(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(0===this.startTime||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime;return t-Aa(t,e)<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=ye(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return Aa(e,t)}return e}get appendInPlace(){return!!this.appendInPlaceStarted||!this.appendInPlaceDisabled&&!(this.cue.once||this.cue.pre||!this.startIsAligned||!(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ua))}set appendInPlace(e){this.appendInPlaceStarted?this.resetOnResume=!e:this.appendInPlaceDisabled=!e}get timelineStart(){return null!==this._timelineStart?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return t=null!==this._duration?this._duration:this.dateRange.duration?this.dateRange.duration:this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return"RANGE"===this.dateRange.attr["X-TIMELINE-OCCUPIES"]?da.Range:da.Point}get supplementsPrimary(){return"PRIMARY"===this.dateRange.attr["X-TIMELINE-STYLE"]}get contentMayVary(){return"NO"!==this.dateRange.attr["X-CONTENT-MAY-VARY"]}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||null!==this.assetListResponse}toString(){return'["'.concat((e=this).identifier,'" ').concat(e.cue.pre?"<pre>":e.cue.post?"<post>":"").concat(e.timelineStart.toFixed(2),"-").concat(e.resumeTime.toFixed(2),"]");var e}}function Aa(e,t){return e-t.start<t.duration/2&&!(Math.abs(e-(t.start+t.duration))<ua)?t.start:t.start+t.duration}function pa(e,t,n){const r=new self.URL(e,n);return"data:"!==r.protocol&&r.searchParams.set("_HLS_primary_id",t),r}function ga(e){const t=e.timelineStart,n=e.duration||0;return'["'.concat(e.identifier,'" ').concat(t.toFixed(2),"-").concat((t+n).toFixed(2),"]")}class ma{constructor(e,t,n,r){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{const e=this.interstitial.playoutLimit,t=this.currentTime;this.startOffset+t>=e&&this.hls.trigger(Se.PLAYOUT_LIMIT_REACHED,{})};const i=this.hls=new e(t);this.interstitial=n,this.assetItem=r;let o=r.uri;try{o=pa(o,i.sessionId).href}catch(a){}i.loadSource(o);const s=()=>{this.hasDetails=!0};i.once(Se.LEVEL_LOADED,s),i.once(Se.AUDIO_TRACK_LOADED,s),i.once(Se.SUBTITLE_TRACK_LOADED,s),i.on(Se.MEDIA_ATTACHING,((e,t)=>{let{media:n}=t;this.removeMediaListeners(),this.mediaAttached=n;this.interstitial.playoutLimit&&n.addEventListener("timeupdate",this.checkPlayout)}))}bufferedInPlaceToEnd(e){var t;if(!this.interstitial.appendInPlace)return!1;if(null!=(t=this.hls)&&t.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const n=this.timelineOffset,r=ar.bufferInfo(e,n,0);return this.getAssetTime(r.end)>=this._bufferedEosTime-.02}get destroyed(){var e;return!(null!=(e=this.hls)&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return(null==(e=this.hls)?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=ar.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return(null==(e=this.hls)?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const n=e-t;if(Math.abs(n)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-t),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){var e;this.mediaAttached&&(null!=(e=this.hls)&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd))}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}on(e,t,n){this.hls.on(e,t)}once(e,t,n){this.hls.once(e,t)}off(e,t,n){this.hls.off(e,t)}toString(){var e,t;return"HlsAssetPlayer: ".concat(ga(this.assetItem)," ").concat(null==(e=this.hls)?void 0:e.sessionId," ").concat(null!=(t=this.interstitial)&&t.appendInPlace?"append-in-place":"")}}class va extends Ne{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach((e=>e.reset())),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce(((n,r)=>e<=r.startOffset&&t>r.startOffset?(delete r.error,n+1):n),0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const r=this.items;if(r)for(r[n]||(void 0===t&&(t=e.start),n=this.findItemIndexAtTime(t));n>=0&&null!=(i=r[n])&&i.event;){var i;n--}return n}findItemIndexAtTime(e,t){const n=this.items;if(n)for(let r=0;r<n.length;r++){let i=n[r];if(t&&"primary"!==t&&(i=i[t]),e===i.start||e>i.start&&e<i.end)return r}return-1}findJumpRestrictedIndex(e,t){const n=this.items;if(n)for(let r=e;r<=t&&n[r];r++){const e=n[r].event;if(null!=e&&e.restrictions.jump&&!e.appendInPlace)return r}return-1}findEventIndex(e){const t=this.items;if(t)for(let r=t.length;r--;){var n;if((null==(n=t[r].event)?void 0:n.identifier)===e)return r}return-1}findAssetIndex(e,t){const n=e.assetList,r=n.length;if(r>1)for(let i=0;i<r;i++){const e=n[i];if(!e.error){const n=e.timelineStart;if(t===n||t>n&&t<n+(e.duration||0))return i}}return 0}get assetIdAtEnd(){var e,t;const n=null==(e=this.items)||null==(t=e[this.length-1])?void 0:t.event;if(n){const e=n.assetList,t=e[e.length-1];if(t)return t.identifier}return null}parseInterstitialDateRanges(e,t){const n=e.main.details,{dateRanges:r}=n,i=this.events,o=this.parseDateRanges(r,{url:n.url},t),s=Object.keys(r),a=i?i.filter((e=>!s.includes(e.identifier))):[];o.length&&o.sort(((e,t)=>{const n=e.cue.pre,r=e.cue.post,i=t.cue.pre,o=t.cue.post;if(n&&!i)return-1;if(i&&!n)return 1;if(r&&!o)return 1;if(o&&!r)return-1;if(!n&&!i&&!r&&!o){const n=e.startTime,r=t.startTime;if(n!==r)return n-r}return e.dateRange.tagOrder-t.dateRange.tagOrder})),this.events=o,a.forEach((e=>{this.removeEvent(e)})),this.updateSchedule(e,a)}updateSchedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=this.events||[];if(n.length||t.length||this.length<2){const r=this.items,i=this.parseSchedule(n,e);(t.length||(null==r?void 0:r.length)!==i.length||i.some(((e,t)=>Math.abs(e.playout.start-r[t].playout.start)>.005||Math.abs(e.playout.end-r[t].playout.end)>.005)))&&(this.items=i,this.onScheduleUpdate(t,r))}}parseDateRanges(e,t,n){const r=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(a.isInterstitial){let e=this.eventMap[s];e?e.setDateRange(a):(e=new ha(a,t),this.eventMap[s]=e,!1===n&&(e.appendInPlace=n)),r.push(e)}}return r}parseSchedule(e,t){const n=[],r=t.main.details,i=r.live?1/0:r.edge;let o=0;if((e=e.filter((e=>!e.error&&!(e.cue.once&&e.hasPlayed)))).length){this.resolveOffsets(e,t);let r=0,a=0;if(e.forEach(((t,s)=>{const l=t.cue.pre,c=t.cue.post,u=e[s-1]||null,d=t.appendInPlace,f=c?i:t.startOffset,h=t.duration,A=t.timelineOccupancy===da.Range?h:0,p=t.resumptionOffset,g=(null==u?void 0:u.startTime)===f,m=f+t.cumulativeDuration;let v=d?m+h:f+p;if(l||!c&&f<=0){const e=a;a+=A,t.timelineStart=m;const r=o;o+=h,n.push({event:t,start:m,end:v,playout:{start:r,end:o},integrated:{start:e,end:a}})}else{if(!(f<=i))return;{if(!g){const i=f-r;if(i>.033){const l=r,c=a;a+=i;const u=o;o+=i;const d={previousEvent:e[s-1]||null,nextEvent:t,start:l,end:l+i,playout:{start:u,end:o},integrated:{start:c,end:a}};n.push(d)}else i>0&&u&&(u.cumulativeDuration+=i,n[n.length-1].end=f)}c&&(v=m),t.timelineStart=m;const i=a;a+=A;const l=o;o+=h,n.push({event:t,start:m,end:v,playout:{start:l,end:o},integrated:{start:i,end:a}})}}const y=t.resumeTime;r=c||y>i?i:y})),r<i){var s;const e=r,t=a,l=i-r;a+=l;const c=o;o+=l,n.push({previousEvent:(null==(s=n[n.length-1])?void 0:s.event)||null,nextEvent:null,start:r,end:e+l,playout:{start:c,end:o},integrated:{start:t,end:a}})}this.setDurations(i,o,a)}else{const e=0;n.push({previousEvent:null,nextEvent:null,start:e,end:i,playout:{start:e,end:i},integrated:{start:e,end:i}}),this.setDurations(i,i,i)}return n}setDurations(e,t,n){this.durations={primary:e,playout:t,integrated:n}}resolveOffsets(e,t){const n=t.main.details,r=n.live?1/0:n.edge;let i=0,o=-1;e.forEach(((s,a)=>{const l=s.cue.pre,c=s.cue.post,u=l?0:c?r:s.startTime;this.updateAssetDurations(s);if(o===u?s.cumulativeDuration=i:(i=0,o=u),!c&&s.snapOptions.in&&(s.resumeAnchor=Cn(null,n.fragments,s.startOffset+s.resumptionOffset,0,0)||void 0),s.appendInPlace&&!s.appendInPlaceStarted){this.primaryCanResumeInPlaceAt(s,t)||(s.appendInPlace=!1)}if(!s.appendInPlace&&a+1<e.length){e[a+1].startTime-e[a].resumeTime<.033&&(e[a+1].appendInPlace=!1,e[a+1].appendInPlace&&this.warn("Could not change append strategy for abutting event ".concat(s)))}const d=ye(s.resumeOffset)?s.resumeOffset:s.duration;i+=d}))}primaryCanResumeInPlaceAt(e,t){const n=e.resumeTime,r=e.startTime+e.resumptionOffset;if(Math.abs(n-r)>ua)return this.log('"'.concat(e.identifier,'" resumption ').concat(n," not aligned with estimated timeline end ").concat(r)),!1;if(!t)return this.log('"'.concat(e.identifier,'" resumption ').concat(n," can not be aligned with media (none selected)")),!1;return!Object.keys(t).some((r=>{const i=t[r].details,o=i.edge;if(n>=o)return this.log('"'.concat(e.identifier,'" resumption ').concat(n," past ").concat(r," playlist end ").concat(o)),!1;const s=Cn(null,i.fragments,n);if(!s)return this.log('"'.concat(e.identifier,'" resumption ').concat(n," does not align with any fragments in ").concat(r," playlist (").concat(i.fragStart,"-").concat(i.fragmentEnd,")")),!0;const a="audio"===r?.175:0;return!(Math.abs(s.start-n)<ua+a||Math.abs(s.end-n)<ua+a)&&(this.log('"'.concat(e.identifier,'" resumption ').concat(n," not aligned with ").concat(r," fragment bounds (").concat(s.start,"-").concat(s.end," sn: ").concat(s.sn," cc: ").concat(s.cc,")")),!0)}))}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let n=0,r=!1,i=!1;e.assetList.forEach(((e,o)=>{const s=t+n;e.startOffset=n,e.timelineStart=s,r||(r=null===e.duration),i||(i=!!e.error);const a=e.error?0:e.duration||0;n+=a})),e.duration=r&&!i?Math.max(n,e.duration):n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function ya(e){return"[".concat(e.event?'"'+e.event.identifier+'"':"primary",": ").concat(e.start.toFixed(2),"-").concat(e.end.toFixed(2),"]")}class ba{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const n=e.assetListUrl;let r;try{r=pa(n,this.hls.sessionId,e.baseUrl)}catch(u){const t=this.assignAssetListError(e,we.ASSET_LIST_LOAD_ERROR,u,n);return void this.hls.trigger(Se.ERROR,t)}t&&"data:"!==r.protocol&&r.searchParams.set("_HLS_start_offset",""+t);const i=this.hls.config,o=new(0,i.loader)(i),s={responseType:"json",url:r.href},a=i.interstitialAssetListLoadPolicy.default,l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(t,n,r,i)=>{const o=t.data,s=null==o?void 0:o.ASSETS;if(Array.isArray(s))e.assetListResponse=o,this.hls.trigger(Se.ASSET_LIST_LOADED,{event:e,assetListResponse:o,networkDetails:i});else{const t=this.assignAssetListError(e,we.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),r.url,n,i);this.hls.trigger(Se.ERROR,t)}},onError:(t,n,r,i)=>{const o=this.assignAssetListError(e,we.ASSET_LIST_LOAD_ERROR,new Error("Error loading X-ASSET-LIST: HTTP status ".concat(t.code," ").concat(t.text," (").concat(n.url,")")),n.url,i,r);this.hls.trigger(Se.ERROR,o)},onTimeout:(t,n,r)=>{const i=this.assignAssetListError(e,we.ASSET_LIST_LOAD_TIMEOUT,new Error("Timeout loading X-ASSET-LIST (".concat(n.url,")")),n.url,t,r);this.hls.trigger(Se.ERROR,i)}};return o.load(s,l,c),this.hls.trigger(Se.ASSET_LIST_LOADING,{event:e}),o}assignAssetListError(e,t,n,r,i,o){return e.error=n,{type:Ce.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:r,error:n,networkDetails:o,stats:i}}}function Ea(e,t,n){Ca(e,t,n),e.addEventListener(t,n)}function Ca(e,t,n){e.removeEventListener(t,n)}function wa(e){null==e||e.play().catch((()=>{}))}class Sa{constructor(e){this.buffered=void 0;const t=(t,n,r)=>{if((n>>>=0)>r-1)throw new DOMException("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(n,") is greater than the maximum bound (").concat(r,")"));return e[n][t]};this.buffered={get length(){return e.length},end:n=>t("end",n,e.length),start:n=>t("start",n,e.length)}}}const Ta={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ka=e=>String.fromCharCode(Ta[e]||e),xa=15,La=100,Ia={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ra={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Da={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ba={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Pa=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Oa{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n="function"===typeof t?t():t;ze.log("".concat(this.time," [").concat(e,"] ").concat(n))}}}const Ma=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class _a{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Fa{constructor(){this.uchar=" ",this.penState=new _a}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Na{constructor(e){this.chars=[],this.pos=0,this.currPenState=new _a,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<La;t++)this.chars.push(new Fa);this.logger=e}equals(e){for(let t=0;t<La;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<La;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<La;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>La&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=La)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=ka(e);this.pos>=La?this.logger.log(0,(()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(e){let t;for(t=e;t<La;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<La;n++){const r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e);this.chars[this.pos].setPenState(this.currPenState)}}class Ua{constructor(e){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<xa;t++)this.rows.push(new Na(e));this.logger=e}reset(){for(let e=0;e<xa;e++)this.rows[e].clear();this.currRow=14}equals(e){let t=!0;for(let n=0;n<xa;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<xa;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<xa;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e);this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,(()=>"pacData = "+fn(e)));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let t=0;t<xa;t++)this.rows[t].clear();const e=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[e].cueStartTime,i=this.logger.time;if(null!==r&&null!==i&&r<i)for(let o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(n.rows[e+o])}}this.currRow=t;const n=this.rows[this.currRow];if(null!==e.indent){const t=e.indent,r=Math.max(t-1,0);n.setCursor(e.indent),e.color=n.chars[r].penState.foreground}const r={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(e){this.logger.log(2,(()=>"bkgData = "+fn(e))),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",r=-1;for(let i=0;i<xa;i++){const n=this.rows[i].getTextString();n&&(r=i+1,e?t.push("Row "+r+": '"+n+"'"):t.push(n.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}getTextAndFormat(){return this.rows}}class Qa{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Ua(n),this.nonDisplayedMemory=new Ua(n),this.lastOutputScreen=new Ua(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(()=>"MODE="+e)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>t+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}this.logger.log(2,"MIDROW: "+fn(t)),this.writeScreen.setPen(t)}outputDataUpdate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class Ga{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const r=this.logger=new Oa;this.channels=[null,new Qa(e,t,r),new Qa(e+1,n,r)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let n=0;n<t.length;n+=2){const e=127&t[n],r=127&t[n+1];let i=!1,o=null;if(0===e&&0===r)continue;this.logger.log(3,(()=>"["+Ma([t[n],t[n+1]])+"] -> ("+Ma([e,r])+")"));const s=this.cmdHistory;if(e>=16&&e<=31){if(Wa(e,r,s)){ja(null,null,s),this.logger.log(3,(()=>"Repeated command ("+Ma([e,r])+") is dropped"));continue}ja(e,r,this.cmdHistory),i=this.parseCmd(e,r),i||(i=this.parseMidrow(e,r)),i||(i=this.parsePAC(e,r)),i||(i=this.parseBackgroundAttributes(e,r))}else ja(null,null,s);if(!i&&(o=this.parseChars(e,r),o)){const e=this.currentChannel;if(e&&e>0){this.channels[e].insertChars(o)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}i||o||this.logger.log(2,(()=>"Couldn't parse cleaned data "+Ma([e,r])+" orig: "+Ma([t[n],t[n+1]])))}}parseCmd(e,t){if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;const n=20===e||21===e||23===e?1:2,r=this.channels[n];return 20===e||21===e||28===e||29===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.currentChannel=n,!0}parseMidrow(e,t){let n=0;if((17===e||25===e)&&t>=32&&t<=47){if(n=17===e?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(t),this.logger.log(3,(()=>"MIDROW ("+Ma([e,t])+")")),!0)}return!1}parsePAC(e,t){let n;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;const r=e<=23?1:2;n=t>=64&&t<=95?1===r?Ia[e]:Da[e]:1===r?Ra[e]:Ba[e];const i=this.channels[r];return!!i&&(i.setPAC(this.interpretPAC(n,t)),this.currentChannel=r,!0)}interpretPAC(e,t){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(e,t){let n,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){let e;e=17===i?t+80:18===i?t+112:t+144,this.logger.log(2,(()=>"Special char '"+ka(e)+"' in channel "+n)),r=[e]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);return r&&this.logger.log(3,(()=>"Char codes =  "+Ma(r).join(","))),r}parseBackgroundAttributes(e,t){if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;let n;const r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=Pa[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));const i=e<=23?1:2;return this.channels[i].setBkgData(r),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}ja(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function ja(e,t,n){n.a=e,n.b=t}function Wa(e,t,n){return n.a===e&&n.b===t}var za=function(){if(null!=Sr&&Sr.VTTCue)return self.VTTCue;const e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;const n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=1;for(;i<arguments.length;i++){const t=arguments[i];for(const n in t)e[n]=t[n]}return e}function o(t,o,s){const a=this,l={enumerable:!0};a.hasBeenReset=!1;let c="",u=!1,d=t,f=o,h=s,A=null,p="",g=!0,m="auto",v="start",y=50,b="middle",E=50,C="middle";Object.defineProperty(a,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(a,"pauseOnExit",i({},l,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(a,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",i({},l,{get:function(){return A},set:function(e){A=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",i({},l,{get:function(){return p},set:function(t){const r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");p=r,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",i({},l,{get:function(){return m},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",i({},l,{get:function(){return v},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",i({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",i({},l,{get:function(){return b},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",i({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",i({},l,{get:function(){return C},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),a.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class Ha{decode(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function Ya(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}const n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}class Va{constructor(){this.values=Object.create(null)}set(e,t){this.get(e)||""===t||(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function Ka(e,t,n,r){const i=r?e.split(r):[e];for(const o in i){if("string"!==typeof i[o])continue;const e=i[o].split(n);if(2!==e.length)continue;t(e[0],e[1])}}const qa=new za(0,0,""),Xa="middle"===qa.align?"middle":"center";function Za(e,t,n){const r=e;function i(){const t=Ya(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),o(),t.endTime=i(),o(),function(e,t){const r=new Va;Ka(e,(function(e,t){let i;switch(e){case"region":for(let i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",Xa,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",Xa,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",Xa,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");let i=r.get("line","auto");"auto"===i&&-1===qa.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",Xa);let o=r.get("position","auto");"auto"===o&&50===qa.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}(e,t)}function Ja(e){return e.replace(/<br(?: \/)?>/gi,"\n")}class $a{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Ha,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;function n(){let e=t.buffer,n=0;for(e=Ja(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;const r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{let e="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;e=n();const r=e.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let r=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(r?r=!1:e=n(),t.state){case"HEADER":/:/.test(e)?Ka(e,(function(e,t){}),/:/):e||(t.state="ID");continue;case"NOTE":e||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){t.state="NOTE";break}if(!e)continue;if(t.cue=new za(0,0,""),t.state="CUE",-1===e.indexOf("--\x3e")){t.cue.id=e;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Za(e,t.cue,t.regionList)}catch(Zl){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==e.indexOf("--\x3e");if(!e||n&&(r=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=e}continue;case"BADCUE":e||(t.state="ID")}}}catch(Zl){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(Zl){e.onparsingerror&&e.onparsingerror(Zl)}return e.onflush&&e.onflush(),this}}const el=/\r\n|\n\r|\n|\r/g,tl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(n,n+t.length)===t};function nl(e,t,n){return ca(e.toString())+ca(t.toString())+ca(n)}function rl(e,t,n,r,i,o,s){const a=new $a,l=Ve(new Uint8Array(e)).trim().replace(el,"\n").split("\n"),c=[],u=t?function(e){return Ko(e,9e4,1/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}(t.baseTime,t.timescale):0;let d,f="00:00.000",h=0,A=0,p=!0;a.oncue=function(e){const o=n[r];let s=n.ccOffset;const a=(h-u)/9e4;if(null!=o&&o.new&&(void 0!==A?s=n.ccOffset=o.start:function(e,t,n){let r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!=(o=i)&&o.new;){var o;e.ccOffset+=r.start-i.start,r.new=!1,r=i,i=e[r.prevCC]}e.presentationOffset=n}(n,r,a)),a){if(!t)return void(d=new Error("Missing initPTS for VTT MPEGTS"));s=a-n.presentationOffset}const l=e.endTime-e.startTime,f=ts(9e4*(e.startTime+s-A),9e4*i)/9e4;e.startTime=Math.max(f,0),e.endTime=Math.max(f+l,0);const p=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(p)),e.id||(e.id=nl(e.startTime,e.endTime,p)),e.endTime>0&&c.push(e)},a.onparsingerror=function(e){d=e},a.onflush=function(){d?s(d):o(c)},l.forEach((e=>{if(p){if(tl(e,"X-TIMESTAMP-MAP=")){p=!1,e.slice(16).split(",").forEach((e=>{tl(e,"LOCAL:")?f=e.slice(6):tl(e,"MPEGTS:")&&(h=parseInt(e.slice(7)))}));try{A=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!ye(t)||!ye(n)||!ye(r)||!ye(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(e));return t+=1e3*n,t+=6e4*r,t+=36e5*i,t}(f)/1e3}catch(t){d=t}return}""===e&&(p=!1)}a.parse(e+"\n")})),a.flush()}const il="stpp.ttml.im1t",ol=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,sl=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,al={left:"start",center:"center",right:"end",start:"start",end:"end"};function ll(e,t,n,r){const i=mt(new Uint8Array(e),["mdat"]);if(0===i.length)return void r(new Error("Could not parse IMSC1 mdat"));const o=i.map((e=>Ve(e))),s=function(e,t){return Ko(e,t,1/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1),arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(t.baseTime,1,t.timescale);try{o.forEach((e=>n(function(e,t){const n=(new DOMParser).parseFromString(e,"text/xml"),r=n.getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(i).reduce(((e,t)=>(e[t]=r.getAttribute("ttp:".concat(t))||i[t],e)),{}),s="preserve"!==r.getAttribute("xml:space"),a=ul(cl(r,"styling","style")),l=ul(cl(r,"layout","region")),c=cl(r,"body","[begin]");return[].map.call(c,(e=>{const n=dl(e,s);if(!n||!e.hasAttribute("begin"))return null;const r=Al(e.getAttribute("begin"),o),i=Al(e.getAttribute("dur"),o);let c=Al(e.getAttribute("end"),o);if(null===r)throw hl(e);if(null===c){if(null===i)throw hl(e);c=r+i}const u=new za(r-t,c-t,n);u.id=nl(u.startTime,u.endTime,u.text);const d=function(e,t,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;s&&n.hasOwnProperty(s)&&(i=n[s]);return o.reduce(((n,o)=>{const s=fl(t,r,o)||fl(e,r,o)||fl(i,r,o);return s&&(n[o]=s),n}),{})}(l[e.getAttribute("region")],a[e.getAttribute("style")],a),{textAlign:f}=d;if(f){const e=al[f];e&&(u.lineAlign=e),u.align=f}return Me(u,d),u})).filter((e=>null!==e))}(e,s))))}catch(a){r(a)}}function cl(e,t,n){const r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function ul(e){return e.reduce(((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function dl(e,t){return[].slice.call(e.childNodes).reduce(((e,n,r)=>{var i;return"br"===n.nodeName&&r?e+"\n":null!=(i=n.childNodes)&&i.length?dl(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function fl(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function hl(e){return new Error("Could not parse ttml timestamp ".concat(e))}function Al(e,t){if(!e)return null;let n=Ya(e);return null===n&&(ol.test(e)?n=function(e,t){const n=ol.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):sl.test(e)&&(n=function(e,t){const n=sl.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}class pl{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}function gl(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function ml(e,t){return!!e&&e.kind===gl(t)&&gs(t,e)}const vl=/\s/,yl={newCue(e,t,n,r){const i=[];let o,s,a,l,c;const u=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(o=r.rows[f],a=!0,l=0,c="",!o.isEmpty()){var d;for(let e=0;e<o.chars.length;e++)vl.test(o.chars[e].uchar)&&a?l++:(c+=o.chars[e].uchar,a=!1);o.cueStartTime=t,t===n&&(n+=1e-4),l>=16?l--:l++;const r=Ja(c.trim()),h=nl(t,n,r);null!=e&&null!=(d=e.cues)&&d.getCueById(h)||(s=new u(t,n,r),s.id=h,s.line=f+1,s.align="left",s.position=10+Math.min(80,10*Math.floor(8*l/32)),i.push(s))}return e&&i.length&&(i.sort(((e,t)=>"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line)),i.forEach((t=>oa(e,t)))),i}};const bl=/(\d+)-(\d+)\/(\d+)/;class El{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Cl,this.controller=new self.AbortController,this.stats=new $e}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const i=function(e,t){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(Me({},e.headers))};e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return n}(e,this.controller.signal),o="arraybuffer"===e.responseType,s=o?"byteLength":"length",{maxTimeToFirstByteMs:a,maxLoadTimeMs:l}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),t.timeout=a&&ye(a)?a:l,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,e,this.response))}),t.timeout);(ls(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then((n=>{var i;this.response=this.loader=n;const s=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=l,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,e,this.response))}),l-(s-r.loading.start)),!n.ok){const{status:e,statusText:t}=n;throw new wl(t||"fetch, bad network response",e,n)}r.loading.first=s,r.total=function(e){const t=e.get("Content-Range");if(t){const e=function(e){const t=bl.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(ye(e))return e}const n=e.get("Content-Length");if(n)return parseInt(n)}(n.headers)||r.total;const a=null==(i=this.callbacks)?void 0:i.onProgress;return a&&ye(t.highWaterMark)?this.loadProgressively(n,r,e,t.highWaterMark,a):o?n.arrayBuffer():"json"===e.responseType?n.json():n.text()})).then((n=>{var i,o;const a=this.response;if(!a)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=n[s];l&&(r.loaded=r.total=l);const c={url:a.url,data:n,code:a.status},u=null==(i=this.callbacks)?void 0:i.onProgress;u&&!ye(t.highWaterMark)&&u(r,e,n,a),null==(o=this.callbacks)||o.onSuccess(c,r,e,a)})).catch((t=>{var n;if(self.clearTimeout(this.requestTimeout),r.aborted)return;const i=t&&t.code||0,o=t?t.message:null;null==(n=this.callbacks)||n.onError({code:i,text:o},e,t?t.details:null,r)}))}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;const o=new Fi,s=e.body.getReader(),a=()=>s.read().then((s=>{if(s.done)return o.dataLength&&i(t,n,o.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const l=s.value,c=l.length;return t.loaded+=c,c<r||o.dataLength?(o.push(l),o.dataLength>=r&&i(t,n,o.flush().buffer,e)):i(t,n,l.buffer,e),a()})).catch((()=>Promise.reject()));return a()}}function Cl(e,t){return new self.Request(e.url,t)}class wl extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const Sl=/^age:\s*[\d.]+\s*$/im;class Tl{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new $e,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then((()=>{if(this.loader===n&&!this.stats.aborted)return i(n,t.url)})).catch((e=>{if(this.loader===n&&!this.stats.aborted)return n.open("GET",t.url,!0),i(n,t.url)})).then((()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,t,e)})).catch((e=>{var i;null==(i=this.callbacks)||i.onError({code:n.status,text:e.message},t,n,r)})):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const r=t.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:o}=n.loadPolicy;if(r)for(const s in r)e.setRequestHeader(s,r[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=i&&ye(i)?i:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const r=t.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const r=t.status,l="text"===t.responseType?t.responseText:null;if(r>=200&&r<300){const i=null!=l?l:t.response;if(null!=i){var o,s;n.loading.end=Math.max(self.performance.now(),n.loading.first);const a="arraybuffer"===t.responseType?i.byteLength:i.length;n.loaded=n.total=a,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first);const l=null==(o=this.callbacks)?void 0:o.onProgress;l&&l(n,e,i,t);const c={url:t.responseURL,data:i,code:r};return void(null==(s=this.callbacks)||s.onSuccess(c,n,e,t))}}const c=i.loadPolicy.errorRetry;var a;if(Rn(c,n.retry,!1,{url:e.url,data:void 0,code:r}))this.retry(c);else ze.error("".concat(r," while loading ").concat(e.url)),null==(a=this.callbacks)||a.onError({code:r,text:t.statusText},e,t,n)}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry;if(Rn(e,this.stats.retry,!0))this.retry(e);else{var t;ze.warn("timeout while loading ".concat(null==(t=this.context)?void 0:t.url));const e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=Ln(e,n.retry),n.retry++,ze.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(null==t?void 0:t.url,", retrying ").concat(n.retry,"/").concat(e.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&Sl.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp("^".concat(e,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const kl=Fe(Fe({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Tl,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class extends Ne{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=e=>{var t;const{fragCurrent:n,partCurrent:r,hls:i}=this,{autoLevelEnabled:o,media:s}=i;if(!n||!s)return;const a=performance.now(),l=r?r.stats:n.stats,c=r?r.duration:n.duration,u=a-l.loading.start,d=i.minAutoLevel,f=n.level,h=this._nextAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||f<=d)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o)return;const A=h>-1&&h!==f,p=!!e||A;if(!p&&(s.paused||!s.playbackRate||!s.readyState))return;const g=i.mainForwardBufferInfo;if(!p&&null===g)return;const m=this.bwEstimator.getEstimateTTFB(),v=Math.abs(s.playbackRate);if(u<=Math.max(m,c/(2*v)*1e3))return;const y=g?g.len/v:0,b=l.loading.first?l.loading.first-l.loading.start:-1,E=l.loaded&&b>-1,C=this.getBwEstimate(),w=i.levels,S=w[f],T=Math.max(l.loaded,Math.round(c*(n.bitrate||S.averageBitrate)/8));let k=E?u-b:u;k<1&&E&&(k=Math.min(u,8*l.loaded/C));const x=E?1e3*l.loaded/k:0,L=m/1e3,I=x?(T-l.loaded)/x:8*T/C+L;if(I<=y)return;const R=x?8*x:C,D=!0===(null==(t=(null==e?void 0:e.details)||this.hls.latestLevelDetails)?void 0:t.live),B=this.hls.config.abrBandWidthUpFactor;let P,O=Number.POSITIVE_INFINITY;for(P=f-1;P>d;P--){const e=w[P].maxBitrate,t=!w[P].details||D;if(O=this.getTimeToLoadFrag(L,R,c*e,t),O<Math.min(y,c+L))break}if(O>=I)return;if(O>10*c)return;E?this.bwEstimator.sample(u-Math.min(m,b),l.loaded):this.bwEstimator.sampleTTFB(u);const M=w[P].maxBitrate;this.getBwEstimate()*B>M&&this.resetEstimator(M);const _=this.findBestLevel(M,d,P,0,y,1,1);_>-1&&(P=_),this.warn("Fragment ".concat(n.sn).concat(r?" part "+r.index:""," of level ").concat(f," is loading too slowly;\n      Fragment duration: ").concat(n.duration.toFixed(3),"\n      Time to underbuffer: ").concat(y.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(I.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(O.toFixed(3)," s\n      TTFB estimate: ").concat(0|b," ms\n      Current BW estimate: ").concat(ye(C)?0|C:"Unknown"," bps\n      New BW estimate: ").concat(0|this.getBwEstimate()," bps\n      Switching to level ").concat(P," @ ").concat(0|M," bps")),i.nextLoadLevel=i.nextAutoLevel=P,this.clearTimer();const F=()=>{if(this.clearTimer(),this.fragCurrent===n&&this.hls.loadLevel===P&&P>0){const e=this.getStarvationDelay();if(this.warn("Aborting inflight request ".concat(P>0?"and switching down":"","\n      Fragment duration: ").concat(n.duration.toFixed(3)," s\n      Time to underbuffer: ").concat(e.toFixed(3)," s")),n.abortRequests(),this.fragCurrent=this.partCurrent=null,P>d){let t=this.findBestLevel(this.hls.levels[d].bitrate,d,P,0,e,1,1);-1===t&&(t=d),this.hls.nextLoadLevel=this.hls.nextAutoLevel=t,this.resetEstimator(this.hls.levels[t].bitrate)}}};A||I>2*O?F():this.timer=self.setInterval(F,1e3*O),i.trigger(Se.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log("setting initial bwe to ".concat(e)),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Pe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.FRAG_LOADING,this.onFragLoading,this),e.on(Se.FRAG_LOADED,this.onFragLoaded,this),e.on(Se.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Se.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Se.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Se.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.FRAG_LOADING,this.onFragLoading,this),e.off(Se.FRAG_LOADED,this.onFragLoaded,this),e.off(Se.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Se.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Se.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Se.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){var r;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case we.BUFFER_ADD_CODEC_ERROR:case we.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case we.FRAG_LOAD_TIMEOUT:{const e=t.frag,{fragCurrent:n,partCurrent:r}=this;if(e&&n&&e.sn===n.sn&&e.level===n.level){const t=performance.now(),n=r?r.stats:e.stats,i=t-n.loading.start,o=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&o>-1){const e=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(i-Math.min(e,o),n.loaded)}else this.bwEstimator.sampleTTFB(i)}break}}}getTimeToLoadFrag(e,t,n,r){return e+n/t+(r?e+this.lastLevelLoadSec:0)}onLevelLoaded(e,t){const n=this.hls.config,{loading:r}=t.stats,i=r.end-r.first;ye(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,t){let{frag:n,part:r}=t;const i=r?r.stats:n.stats;if(n.type===Ie&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const e=r?r.duration:n.duration,t=this.hls.levels[n.level],o=(t.loaded?t.loaded.bytes:0)+i.loaded,s=(t.loaded?t.loaded.duration:0)+e;t.loaded={bytes:o,duration:s},t.realBitrate=Math.round(8*o/s)}if(n.bitrateTest){const e={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(Se.FRAG_BUFFERED,e),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,t){const{frag:n,part:r}=t,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(i.aborted)return;if(this.ignoreFragment(n))return;const o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Ie||"initSegment"===e.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,i=this.findBestLevel(n,t,e,0,r,1,1);if(i>-1)return i;const o=this.hls.firstLevel,s=Math.min(Math.max(o,t),e);return this.warn("Could not find best starting auto level. Defaulting to first in playlist ".concat(o," clamped to ").concat(s)),s}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(-1!==e&&(!t||!n||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const r=t&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){const t=this.hls.levels;if(t.length>Math.max(e,r)&&t[e].loadError<=t[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return"".concat(this.getBwEstimate(),"_").concat(this.getStarvationDelay().toFixed(2))}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:r,config:i,minAutoLevel:o}=n,s=t?t.duration:e?e.duration:0,a=this.getBwEstimate(),l=this.getStarvationDelay();let c=i.abrBandWidthFactor,u=i.abrBandWidthUpFactor;if(l){const e=this.findBestLevel(a,o,r,l,0,c,u);if(e>=0)return this.rebufferNotice=-1,e}let d=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay;if(!l){const e=this.bitrateTestDelay;if(e){d=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-e,this.info("bitrate test took ".concat(Math.round(1e3*e),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*d)," ms")),c=u=1}}const f=this.findBestLevel(a,o,r,l,d,c,u);if(this.rebufferNotice!==f&&(this.rebufferNotice=f,this.info("".concat(l?"rebuffering expected":"buffer is empty",", optimal quality level ").concat(f))),f>-1)return f;const h=n.levels[o],A=n.loadLevelObj;return A&&(null==h?void 0:h.bitrate)<A.bitrate?o:n.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const n=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,r,i,o,s){var a;const l=r+i,c=this.lastLoadedFragLevel,u=-1===c?this.hls.firstLevel:c,{fragCurrent:d,partCurrent:f}=this,{levels:h,allAudioTracks:A,loadLevel:p,config:g}=this.hls;if(1===h.length)return 0;const m=h[u],v=!(null==(a=this.hls.latestLevelDetails)||!a.live),y=-1===p||-1===c;let b,E="SDR",C=(null==m?void 0:m.frameRate)||0;const{audioPreference:w,videoPreference:S}=g,T=this.audioTracksByGroup||(this.audioTracksByGroup=An(A));let k=-1;if(y){if(-1!==this.firstSelection)return this.firstSelection;const r=this.codecTiers||(this.codecTiers=function(e,t,n,r){return e.slice(n,r+1).reduce(((e,n,r)=>{if(!n.codecSet)return e;const i=n.audioGroups;let o=e[n.codecSet];o||(e[n.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:r,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!i,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,n.bitrate);const s=Math.min(n.height,n.width);return o.minHeight=Math.min(o.minHeight,s),o.minFramerate=Math.min(o.minFramerate,n.frameRate),o.minIndex=Math.min(o.minIndex,r),o.maxScore=Math.max(o.maxScore,n.score),o.fragmentError+=n.fragmentError,o.videoRanges[n.videoRange]=(o.videoRanges[n.videoRange]||0)+1,i&&i.forEach((e=>{if(!e)return;const n=t.groups[e];n&&(o.hasDefaultAudio=o.hasDefaultAudio||t.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(n.channels).forEach((e=>{o.channels[e]=(o.channels[e]||0)+n.channels[e]})))})),e}),{})}(h,T,t,n)),i=function(e,t,n,r,i){const o=Object.keys(e),s=null==r?void 0:r.channels,a=null==r?void 0:r.audioCodec,l=null==i?void 0:i.videoCodec,c=s&&2===parseInt(s);let u=!1,d=!1,f=1/0,h=1/0,A=1/0,p=1/0,g=0,m=[];const{preferHDR:v,allowedVideoRanges:y}=dn(t,i);for(let w=o.length;w--;){const t=e[o[w]];u||(u=t.channels[2]>0),f=Math.min(f,t.minHeight),h=Math.min(h,t.minFramerate),A=Math.min(A,t.minBitrate),y.filter((e=>t.videoRanges[e]>0)).length>0&&(d=!0)}f=ye(f)?f:0,h=ye(h)?h:0;const b=Math.max(1080,f),E=Math.max(30,h);A=ye(A)?A:n,n=Math.max(A,n),d||(t=void 0);const C=o.length>1;return{codecSet:o.reduce(((t,r)=>{const i=e[r];if(r===t)return t;if(m=d?y.filter((e=>i.videoRanges[e]>0)):[],C){if(i.minBitrate>n)return hn(r,"min bitrate of ".concat(i.minBitrate," > current estimate of ").concat(n)),t;if(!i.hasDefaultAudio)return hn(r,"no renditions with default or auto-select sound found"),t;if(a&&r.indexOf(a.substring(0,4))%5!==0)return hn(r,'audio codec preference "'.concat(a,'" not found')),t;if(s&&!c){if(!i.channels[s])return hn(r,"no renditions with ".concat(s," channel sound found (channels options: ").concat(Object.keys(i.channels),")")),t}else if((!a||c)&&u&&0===i.channels[2])return hn(r,"no renditions with stereo sound found"),t;if(i.minHeight>b)return hn(r,"min resolution of ".concat(i.minHeight," > maximum of ").concat(b)),t;if(i.minFramerate>E)return hn(r,"min framerate of ".concat(i.minFramerate," > maximum of ").concat(E)),t;if(!m.some((e=>i.videoRanges[e]>0)))return hn(r,"no variants with VIDEO-RANGE of ".concat(fn(m)," found")),t;if(l&&r.indexOf(l.substring(0,4))%5!==0)return hn(r,'video codec preference "'.concat(l,'" not found')),t;if(i.maxScore<g)return hn(r,"max score of ".concat(i.maxScore," < selected max of ").concat(g)),t}return t&&(jt(r)>=jt(t)||i.fragmentError>e[t].fragmentError)?t:(p=i.minIndex,g=i.maxScore,r)}),void 0),videoRanges:m,preferHDR:v,minFramerate:h,minBitrate:A,minIndex:p}}(r,E,e,w,S),{codecSet:o,videoRanges:s,minFramerate:a,minBitrate:l,minIndex:c,preferHDR:u}=i;k=c,b=o,E=u?s[s.length-1]:s[0],C=a,e=Math.max(e,l),this.log("picked start tier ".concat(fn(i)))}else b=null==m?void 0:m.codecSet,E=null==m?void 0:m.videoRange;const x=f?f.duration:d?d.duration:0,L=this.bwEstimator.getEstimateTTFB()/1e3,I=[];for(let D=n;D>=t;D--){var R;const t=h[D],a=D>u;if(!t)continue;if(g.useMediaCapabilities&&!t.supportedResult&&!t.supportedPromise){const n=navigator.mediaCapabilities;"function"===typeof(null==n?void 0:n.decodingInfo)&&($t(t,T,E,C,e,w)||It(t.videoCodec))?(t.supportedPromise=en(t,T,n),t.supportedPromise.then((e=>{if(!this.hls)return;t.supportedResult=e;const n=this.hls.levels,r=n.indexOf(t);e.error?this.warn('MediaCapabilities decodingInfo error: "'.concat(e.error,'" for level ').concat(r," ").concat(fn(e))):e.supported||(this.warn("Unsupported MediaCapabilities decodingInfo result for level ".concat(r," ").concat(fn(e))),r>-1&&n.length>1&&(this.log("Removing unsupported level ".concat(r)),this.hls.removeLevel(r),-1===this.hls.loadLevel&&(this.hls.nextLoadLevel=0)))}))):t.supportedResult=Xt}if((b&&t.codecSet!==b||E&&t.videoRange!==E||a&&C>t.frameRate||!a&&C>0&&C<t.frameRate||t.supportedResult&&(null==(R=t.supportedResult.decodingInfoResults)||!R[0].smooth))&&(!y||D!==k)){I.push(D);continue}const d=t.details,A=(f?null==d?void 0:d.partTarget:null==d?void 0:d.averagetargetduration)||x;let m;m=a?s*e:o*e;const S=x&&r>=2*x&&0===i?t.averageBitrate:t.maxBitrate,B=this.getTimeToLoadFrag(L,m,S*A,void 0===d);if(m>=S&&(D===c||0===t.loadError&&0===t.fragmentError)&&(B<=L||!ye(B)||v&&!this.bitrateTestDelay||B<l)){const e=this.forcedAutoLevel;return D===p||-1!==e&&e===p||(I.length&&this.trace("Skipped level(s) ".concat(I.join(",")," of ").concat(n,' max with CODECS and VIDEO-RANGE:"').concat(h[I[0]].codecs,'" ').concat(h[I[0]].videoRange,'; not compatible with "').concat(b,'" ').concat(E)),this.info("switch candidate:".concat(u,"->").concat(D," adjustedbw(").concat(Math.round(m),")-bitrate=").concat(Math.round(m-S)," ttfb:").concat(L.toFixed(1)," avgDuration:").concat(A.toFixed(1)," maxFetchDuration:").concat(l.toFixed(1)," fetchDuration:").concat(B.toFixed(1)," firstSelection:").concat(y," codecSet:").concat(t.codecSet," videoRange:").concat(t.videoRange," hls.loadLevel:").concat(p))),y&&(this.firstSelection=D),D}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),t)}},bufferController:class extends Ne{constructor(e,t){var n;super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=e=>{var t;this.hls&&"open"===(null==(t=this.mediaSource)?void 0:t.readyState)&&this.hls.pauseBuffering()},this._onStartStreaming=e=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=e=>{const{media:t,mediaSource:n}=this;e&&this.log("Media source opened"),t&&n&&(n.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Se.MEDIA_ATTACHED,{media:t,mediaSource:n}),null!==this.mediaSource&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:e,_objectUrl:t}=this;e!==t&&this.error("Media element src was set while attaching MediaSource (".concat(t," > ").concat(e,")"))},this.hls=e,this.fragmentTracker=t,this.appendSource=(n=He(e.config.preferManagedMediaSource),"undefined"!==typeof self&&n===self.ManagedMediaSource),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Se.BUFFER_RESET,this.onBufferReset,this),e.on(Se.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Se.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Se.BUFFER_EOS,this.onBufferEos,this),e.on(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Se.FRAG_PARSED,this.onFragParsed,this),e.on(Se.FRAG_CHANGED,this.onFragChanged,this),e.on(Se.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Se.BUFFER_RESET,this.onBufferReset,this),e.off(Se.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Se.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Se.BUFFER_EOS,this.onBufferEos,this),e.off(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Se.FRAG_PARSED,this.onFragParsed,this),e.off(Se.FRAG_CHANGED,this.onFragChanged,this),e.off(Se.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const n={};if(this.operationQueue){const e=this.isUpdating();e||this.operationQueue.removeBlockers();const t=this.isQueued();(e||t)&&this.warn("Transfering MediaSource with".concat(t?" operations in queue":"").concat(e?" updating SourceBuffer(s)":""," ").concat(this.operationQueue)),this.operationQueue.destroy()}const r=this.transferData;return!this.sourceBufferCount&&r&&r.mediaSource===t?Me(n,r.tracks):this.sourceBuffers.forEach((e=>{const[t]=e;t&&(n[t]=Me({},this.tracks[t]),this.removeBuffer(t)),e[0]=e[1]=null})),{media:e,mediaSource:t,tracks:n}}initTracks(){this.sourceBuffers=[[null,null],[null,null]],this.tracks={},this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var n;let r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsTotal=r,this.log("".concat(r," bufferCodec event(s) expected.")),null!=(n=this.transferData)&&n.mediaSource&&this.sourceBufferCount&&r&&this.bufferCreated()}onMediaAttaching(e,t){const n=this.media=t.media,r=He(this.appendSource);if(this.transferData=this.overrides=void 0,n&&r){const e=!!t.mediaSource;(e||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const o=this.mediaSource=t.mediaSource||new r;if(this.assignMediaSource(o),e)this._objectUrl=n.src,this.attachTransferred();else{const e=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{n.removeAttribute("src");const t=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||t&&o instanceof t,Es(n),function(e,t){const n=self.document.createElement("source");n.type="video/mp4",n.src=t,e.appendChild(n)}(n,e),n.load()}catch(i){n.src=e}else n.src=e}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,n;this.log("".concat((null==(t=this.transferData)?void 0:t.mediaSource)===e?"transferred":"created"," media source: ").concat(null==(n=e.constructor)?void 0:n.name)),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const n=this.tracks,r=t.tracks,i=r?Object.keys(r):null,o=i?i.length:0,s=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(r&&i&&o){if(!this.tracksReady)return this.hls.config.startFragPrefetch=!0,void this.log("attachTransferred: waiting for SourceBuffer track info");if(this.log("attachTransferred: (bufferCodecEventsTotal ".concat(this.bufferCodecEventsTotal,")\nrequired tracks: ").concat(fn(n,((e,t)=>"initSegment"===e?void 0:t)),";\ntransfer tracks: ").concat(fn(r,((e,t)=>"initSegment"===e?void 0:t)),"}")),!Ye(r,n)){t.mediaSource=null,t.tracks=void 0;const i=e.currentTime,o=this.details,s=Math.max(i,(null==o?void 0:o.fragments[0].start)||0);return s-i>1?void this.log("attachTransferred: waiting for playback to reach new tracks start time ".concat(i," -> ").concat(s)):(this.warn('attachTransferred: resetting MediaSource for incompatible tracks ("'.concat(Object.keys(r),'"->"').concat(Object.keys(n),'") start time: ').concat(s," currentTime: ").concat(i)),this.onMediaDetaching(Se.MEDIA_DETACHING,{}),this.onMediaAttaching(Se.MEDIA_ATTACHING,t),void(e.currentTime=s))}this.transferData=void 0,i.forEach((e=>{const t=e,n=r[t];if(n){const e=n.buffer;if(e){const r=this.fragmentTracker,i=n.id;if(r.hasFragments(i)||r.hasParts(i)){const n=ar.getBuffered(e);r.detectEvictedFragments(t,n,i,null,!0)}const o=Cs(t),s=[t,e];this.sourceBuffers[o]=s,e.updating&&this.operationQueue&&this.operationQueue.prependBlocker(t),this.trackSourceBuffer(t,n)}}})),s(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),s()}get mediaSourceOpenOrEnded(){var e;const t=null==(e=this.mediaSource)?void 0:e.readyState;return"open"===t||"ended"===t}onMediaDetaching(e,t){const n=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:r,mediaSource:i,_objectUrl:o}=this;if(i){if(this.log("media source ".concat(n?"transferring":"detaching")),n)this.sourceBuffers.forEach((e=>{let[t]=e;t&&this.removeBuffer(t)})),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const e="open"===i.readyState;try{const t=i.sourceBuffers;for(let n=t.length;n--;)e&&t[n].abort(),i.removeSourceBuffer(t[n]);e&&i.endOfStream()}catch(Jl){this.warn("onMediaDetaching: ".concat(Jl.message," while calling endOfStream"))}}this.sourceBufferCount&&this.onBufferReset()}i.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("sourceended",this._onMediaSourceEnded),i.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(i.removeEventListener("startstreaming",this._onStartStreaming),i.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}r&&(r.removeEventListener("emptied",this._onMediaEmptied),n||(o&&self.URL.revokeObjectURL(o),this.mediaSrc===o?(r.removeAttribute("src"),this.appendSource&&Es(r),r.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Se.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach((e=>{let[t]=e;t&&this.resetBuffer(t)})),this.initTracks()}resetBuffer(e){var t;const n=null==(t=this.tracks[e])?void 0:t.buffer;if(this.removeBuffer(e),n)try{var r;null!=(r=this.mediaSource)&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(Jl){this.warn("onBufferReset ".concat(e),Jl)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Cs(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new ms(this.tracks)}onBufferCodecs(e,t){const n=this.tracks,r=Object.keys(t);this.log('BUFFER_CODECS: "'.concat(r,'" (current SB count ').concat(this.sourceBufferCount,")"));const i="audiovideo"in t&&(n.audio||n.video)||n.audiovideo&&("audio"in t||"video"in t),o=!i&&this.sourceBufferCount&&this.media&&r.some((e=>!n[e]));i||o?this.warn('Unsupported transition between "'.concat(Object.keys(n),'" and "').concat(r,'" SourceBuffers')):(r.forEach((e=>{var r,i,o;const s=t[e],{id:a,codec:l,levelCodec:c,container:u,metadata:d,supplemental:f}=s;let h=n[e];const A=null==(r=this.transferData)||null==(i=r.tracks)?void 0:i[e],p=null!=A&&A.buffer?A:h,g=(null==p?void 0:p.pendingCodec)||(null==p?void 0:p.codec),m=null==p?void 0:p.levelCodec;h||(h=n[e]={buffer:void 0,listeners:[],codec:l,supplemental:f,container:u,levelCodec:c,metadata:d,id:a});const v=Yt(g,m),y=null==v?void 0:v.replace(vs,"$1");let b=Yt(l,c);const E=null==(o=b)?void 0:o.replace(vs,"$1");b&&v&&y!==E&&("audio"===e.slice(0,5)&&(b=Ht(b,this.appendSource)),this.log("switching codec ".concat(g," to ").concat(b)),b!==(h.pendingCodec||h.codec)&&(h.pendingCodec=b),h.container=u,this.appendChangeType(e,u,b))})),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),this.sourceBufferCount||this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce(((e,t)=>{const n=this.tracks[t];return e[t]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e}),{})}appendChangeType(e,t,n){const r="".concat(t,";codecs=").concat(n),i={label:"change-type=".concat(r),execute:()=>{const i=this.tracks[e];if(i){const o=i.buffer;null!=o&&o.changeType&&(this.log("changing ".concat(e," sourceBuffer type to ").concat(r)),o.changeType(r),i.codec=n,i.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn("Failed to change ".concat(e," SourceBuffer type"),t)}};this.append(i,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const n=e.start,r=n+.05*e.duration;if(!0===(null==(t=this.fragmentTracker.getAppendedFrag(n,Ie))?void 0:t.gap))return;const i={label:"block-audio",execute:()=>{var e;const t=this.tracks.video;(this.lastVideoAppendEnd>r||null!=t&&t.buffer&&ar.isBuffered(t.buffer,r)||!0===(null==(e=this.fragmentTracker.getAppendedFrag(r,Ie))?void 0:e.gap))&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn("Error executing block-audio operation",e)}};this.blockedAudioAppend={op:i,frag:e},this.append(i,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:n}=this,{data:r,type:i,parent:o,frag:s,part:a,chunkMeta:l}=t,c=l.buffering[i],u=s.sn,d=self.performance.now();c.start=d;const f=s.stats.buffering,h=a?a.stats.buffering:null;0===f.start&&(f.start=d),h&&0===h.start&&(h.start=d);const A=n.audio;let p=!1;"audio"===i&&"audio/mpeg"===(null==A?void 0:A.container)&&(p=!this.lastMpegAudioChunk||1===l.id||this.lastMpegAudioChunk.sn!==l.sn,this.lastMpegAudioChunk=l);const g=this.tracks.video,m=null==g?void 0:g.buffer;if(m&&"initSegment"!==u){const e=a||s,t=this.blockedAudioAppend;if("audio"!==i||"main"===o||this.blockedAudioAppend){if("video"===i){const n=e.end;if(t){const e=t.frag.start;(n>e||n<this.lastVideoAppendEnd||ar.isBuffered(m,e))&&this.unblockAudio()}this.lastVideoAppendEnd=n}}else{const t=e.start+.05*e.duration,n=m.buffered,r=this.currentOp("video");n.length||r?!r&&!ar.isBuffered(m,t)&&this.lastVideoAppendEnd<t&&this.blockAudio(e):this.blockAudio(e)}}const v=(a||s).start,y={label:"append-".concat(i),execute:()=>{if(c.executeStart=self.performance.now(),p){const e=this.tracks[i];if(e){const t=e.buffer;if(t){const e=v-t.timestampOffset;Math.abs(e)>=.1&&(this.log("Updating audio SourceBuffer timestampOffset to ".concat(v," (delta: ").concat(e,") sn: ").concat(u,")")),t.timestampOffset=v)}}}this.appendExecutor(r,i)},onStart:()=>{},onComplete:()=>{const e=self.performance.now();c.executeEnd=c.end=e,0===f.first&&(f.first=e),h&&0===h.first&&(h.first=e);const t={};this.sourceBuffers.forEach((e=>{let[n,r]=e;n&&(t[n]=ar.getBuffered(r))})),this.appendErrors[i]=0,"audio"===i||"video"===i?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Se.BUFFER_APPENDED,{type:i,frag:s,part:a,chunkMeta:l,parent:s.type,timeRanges:t})},onError:e=>{var t;const n={type:Ce.MEDIA_ERROR,parent:s.type,details:we.BUFFER_APPEND_ERROR,sourceBufferName:i,frag:s,part:a,chunkMeta:l,error:e,err:e,fatal:!1},r=null==(t=this.media)?void 0:t.error;if(e.code===DOMException.QUOTA_EXCEEDED_ERR)n.details=we.BUFFER_FULL_ERROR;else if(e.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!r)n.errorAction=Nn(!0);else if(e.name===ys&&0===this.sourceBufferCount)n.errorAction=Nn(!0);else{const e=++this.appendErrors[i];this.warn("Failed ".concat(e,"/").concat(this.hls.config.appendErrorMaxRetry,' times to append segment in "').concat(i,'" sourceBuffer (').concat(r||"no media error",")")),(e>=this.hls.config.appendErrorMaxRetry||r)&&(n.fatal=!0)}this.hls.trigger(Se.ERROR,n)}};this.append(y,i,this.isPending(this.tracks[i]))}getFlushOp(e,t,n){return this.log('queuing "'.concat(e,'" remove ').concat(t,"-").concat(n)),{label:"remove",execute:()=>{this.removeExecutor(e,t,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Se.BUFFER_FLUSHED,{type:e})},onError:r=>{this.warn("Failed to remove ".concat(t,"-").concat(n,' from "').concat(e,'" SourceBuffer'),r)}}}onBufferFlushing(e,t){const{type:n,startOffset:r,endOffset:i}=t;n?this.append(this.getFlushOp(n,r,i),n):this.sourceBuffers.forEach((e=>{let[t]=e;t&&this.append(this.getFlushOp(t,r,i),t)}))}onFragParsed(e,t){const{frag:n,part:r}=t,i=[],o=r?r.elementaryStreams:n.elementaryStreams;o[nt]?i.push("audiovideo"):(o[et]&&i.push("audio"),o[tt]&&i.push("video"));0===i.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(n.type," level: ").concat(n.level," sn: ").concat(n.sn)),this.blockBuffers((()=>{const e=self.performance.now();n.stats.buffering.end=e,r&&(r.stats.buffering.end=e);const t=r?r.stats:n.stats;this.hls.trigger(Se.FRAG_BUFFERED,{frag:n,part:r,stats:t,id:n.type})}),i).catch((e=>{this.warn("Fragment buffered callback ".concat(e)),this.stepOperationQueue(this.sourceBufferTypes)}))}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some((e=>{let[t]=e;var n,r;return t&&(!(null!=(n=this.tracks[t])&&n.ended)||(null==(r=this.tracks[t])?void 0:r.ending))}))}onBufferEos(e,t){var n;this.sourceBuffers.forEach((e=>{let[n]=e;if(n){const e=this.tracks[n];t.type&&t.type!==n||(e.ending=!0,e.ended||(e.ended=!0,this.log("".concat(n," buffer reached EOS"))))}}));const r=!1!==(null==(n=this.overrides)?void 0:n.endOfStream);this.sourceBufferCount>0&&!this.sourceBuffers.some((e=>{let[t]=e;var n;return t&&!(null!=(n=this.tracks[t])&&n.ended)}))&&(r?(this.log("Queueing EOS"),this.blockUntilOpen((()=>{this.tracksEnded();const{mediaSource:e}=this;e&&"open"===e.readyState?(this.log("Calling mediaSource.endOfStream()"),e.endOfStream(),this.hls.trigger(Se.BUFFERED_TO_END,void 0)):e&&this.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(e.readyState))}))):(this.tracksEnded(),this.hls.trigger(Se.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach((e=>{let[t]=e;if(null!==t){const e=this.tracks[t];e&&(e.ending=!1)}}))}onLevelUpdated(e,t){let{details:n}=t;n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){const e=this.getDurationAndRange();e&&this.blockUntilOpen((()=>this.updateMediaSource(e)))}onError(e,t){if(t.details===we.BUFFER_APPEND_ERROR&&t.frag){var n;const e=null==(n=t.errorAction)?void 0:n.nextAutoLevel;ye(e)&&e!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||null===t)return;if(!this.sourceBufferCount)return;const r=e.config,i=n.currentTime,o=t.levelTargetDuration,s=t.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(ye(s)&&s>=0){const e=Math.max(s,o),t=Math.floor(i/o)*o-e;this.flushBackBuffer(i,o,t)}if(ye(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const e=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),t=Math.max(e,o),n=Math.floor(i/o)*o+t;this.flushFrontBuffer(i,o,n)}}flushBackBuffer(e,t,n){this.sourceBuffers.forEach((e=>{let[t,r]=e;if(r){const e=ar.getBuffered(r);if(e.length>0&&n>e.start(0)){var i;this.hls.trigger(Se.BACK_BUFFER_REACHED,{bufferEnd:n});const e=this.tracks[t];if(null!=(i=this.details)&&i.live)this.hls.trigger(Se.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(null!=e&&e.ended)return void this.log("Cannot flush ".concat(t," back buffer while SourceBuffer is in ended state"));this.hls.trigger(Se.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:t})}}}))}flushFrontBuffer(e,t,n){this.sourceBuffers.forEach((t=>{let[r,i]=t;if(i){const t=ar.getBuffered(i),o=t.length;if(o<2)return;const s=t.start(o-1),a=t.end(o-1);if(n>s||e>=s&&e<=a)return;this.hls.trigger(Se.BUFFER_FLUSHING,{startOffset:s,endOffset:1/0,type:r})}}))}getDurationAndRange(){var e;const{details:t,mediaSource:n}=this;if(!t||!this.media||"open"!==(null==n?void 0:n.readyState))return null;const r=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&t.live&&n.setLiveSeekableRange){const e=Math.max(0,t.fragmentStart);return{duration:1/0,start:e,end:Math.max(e,r)}}return{duration:1/0}}const i=null==(e=this.overrides)?void 0:e.duration;if(i)return ye(i)?{duration:i}:null;const o=this.media.duration;return r>(ye(n.duration)?n.duration:0)&&r>o||!ye(o)?{duration:r}:null}updateMediaSource(e){let{duration:t,start:n,end:r}=e;const i=this.mediaSource;this.media&&i&&"open"===i.readyState&&(i.duration!==t&&(ye(t)&&this.log("Updating MediaSource duration to ".concat(t.toFixed(3))),i.duration=t),void 0!==n&&void 0!==r&&(this.log("MediaSource duration is set to ".concat(i.duration,". Setting seekable range to ").concat(n,"-").concat(r,".")),i.setLiveSeekableRange(n,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:n}=this;if(this.log("checkPendingTracks (pending: ".concat(t," codec events expected: ").concat(e,") ").concat(fn(n))),this.tracksReady){var r;const e=null==(r=this.transferData)?void 0:r.tracks;e&&Object.keys(e).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach((t=>{let[n,r]=t;if(n){const t=this.tracks[n];e[n]={buffer:r,container:t.container,codec:t.codec,supplemental:t.supplemental,levelCodec:t.levelCodec,id:t.id,metadata:t.metadata}}})),this.hls.trigger(Se.BUFFER_CREATED,{tracks:e}),this.log("SourceBuffers created. Running queue: ".concat(this.operationQueue)),this.sourceBuffers.forEach((e=>{let[t]=e;this.executeNext(t)}))}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const o in e){const s=o,a=e[s];if(this.isPending(a)){const e=this.getTrackCodec(a,s),o="".concat(a.container,";codecs=").concat(e);a.codec=e,this.log("creating sourceBuffer(".concat(o,")").concat(this.currentOp(s)?" Queued":""," ").concat(fn(a)));try{const e=n.addSourceBuffer(o),r=Cs(s),i=[s,e];t[r]=i,a.buffer=e}catch(i){var r;return this.error("error while trying to add sourceBuffer: ".concat(i.message)),this.shiftAndExecuteNext(s),null==(r=this.operationQueue)||r.removeBlockers(),delete this.tracks[s],void this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:i,sourceBufferName:s,mimeType:o,parent:a.id})}this.trackSourceBuffer(s,a)}}this.bufferCreated()}getTrackCodec(e,t){const n=e.supplemental;let r=e.codec;n&&("video"===t||"audiovideo"===t)&&Nt(n,"video")&&(r=function(e,t){const n=[];if(e){const t=e.split(",");for(let e=0;e<t.length;e++)Ft(t[e],"video")||n.push(t[e])}return t&&n.push(t),n.join(",")}(r,n));const i=Yt(r,e.levelCodec);return i?"audio"===t.slice(0,5)?Ht(i,this.appendSource):i:""}trackSourceBuffer(e,t){const n=t.buffer;if(!n)return;const r=this.getTrackCodec(t,e);this.tracks[e]={buffer:n,codec:r,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",((e,t)=>{const n=t.removedRanges;null!=n&&n.length&&this.hls.trigger(Se.BUFFER_FLUSHED,{type:e})}))}get mediaSrc(){var e,t;const n=(null==(e=this.media)||null==(t=e.querySelector)?void 0:t.call(e,"source"))||this.media;return null==n?void 0:n.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if("closed"===(null==(t=this.mediaSource)?void 0:t.readyState))return void this.resetBuffer(e);const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var n;const r=new Error("".concat(e," SourceBuffer error. MediaSource readyState: ").concat(null==(n=this.mediaSource)?void 0:n.readyState));this.error("".concat(r),t),this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});const i=this.currentOp(e);i&&i.onError(r)}removeExecutor(e,t,n){const{media:r,mediaSource:i}=this,o=this.tracks[e],s=null==o?void 0:o.buffer;if(!r||!i||!s)return this.warn("Attempting to remove from the ".concat(e," SourceBuffer, but it does not exist")),void this.shiftAndExecuteNext(e);const a=ye(r.duration)?r.duration:1/0,l=ye(i.duration)?i.duration:1/0,c=Math.max(0,t),u=Math.min(n,a,l);u>c&&(!o.ending||o.ended)?(o.ended=!1,this.log("Removing [".concat(c,",").concat(u,"] from the ").concat(e," SourceBuffer")),s.remove(c,u)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.tracks[t],r=null==n?void 0:n.buffer;if(!r)throw new bs("Attempting to append to the ".concat(t," SourceBuffer, but it does not exist"));n.ending=!1,n.ended=!1,r.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch((e=>{this.warn("SourceBuffer blocked callback ".concat(e)),this.stepOperationQueue(this.sourceBufferTypes)}));else try{e()}catch(t){this.warn("Callback run without blocking ".concat(this.operationQueue," ").concat(t))}}isUpdating(){return this.sourceBuffers.some((e=>{let[t,n]=e;return t&&n.updating}))}isQueued(){return this.sourceBuffers.some((e=>{let[t]=e;return t&&!!this.currentOp(t)}))}isPending(e){return!!e&&!e.buffer}blockBuffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.sourceBufferTypes;if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,r=t.map((e=>this.appendBlocker(e)));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(r).then((t=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))}))}stepOperationQueue(e){e.forEach((e=>{var t;const n=null==(t=this.tracks[e])?void 0:t.buffer;n&&!n.updating&&this.shiftAndExecuteNext(e)}))}append(e,t,n){this.operationQueue&&this.operationQueue.append(e,t,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce(((e,t)=>e+(this.isPending(this.tracks[t])?1:0)),0)}get sourceBufferCount(){return this.sourceBuffers.reduce(((e,t)=>{let[n]=t;return e+(n?1:0)}),0)}get sourceBufferTypes(){return this.sourceBuffers.map((e=>{let[t]=e;return t})).filter((e=>!!e))}addBufferListener(e,t,n){const r=this.tracks[e];if(!r)return;const i=r.buffer;if(!i)return;const o=n.bind(this,e);r.listeners.push({event:t,listener:o}),i.addEventListener(t,o)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const n=t.buffer;n&&(t.listeners.forEach((e=>{n.removeEventListener(e.event,e.listener)})),t.listeners.length=0)}},capLevelController:ws,errorController:class extends Ne{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Se.ERROR,this.onError,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Se.ERROR,this.onError,this),e.off(Se.ERROR,this.onErrorOut,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(null==e?void 0:e.type)===Ie?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var n;if(t.fatal)return;const r=this.hls,i=t.context;switch(t.details){case we.FRAG_LOAD_ERROR:case we.FRAG_LOAD_TIMEOUT:case we.KEY_LOAD_ERROR:case we.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case we.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction=Nn());case we.FRAG_GAP:case we.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=Bn);case we.LEVEL_EMPTY_ERROR:case we.LEVEL_PARSING_ERROR:{var o,s;const e=t.parent===Ie?t.level:r.loadLevel;t.details===we.LEVEL_EMPTY_ERROR&&null!=(o=t.context)&&null!=(s=o.levelDetails)&&s.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,e):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e))}return;case we.LEVEL_LOAD_ERROR:case we.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==i?void 0:i.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.level)));case we.AUDIO_TRACK_LOAD_ERROR:case we.AUDIO_TRACK_LOAD_TIMEOUT:case we.SUBTITLE_LOAD_ERROR:case we.SUBTITLE_TRACK_LOAD_TIMEOUT:if(i){const e=r.loadLevelObj;if(e&&(i.type===xe&&e.hasAudioGroup(i.groupId)||i.type===Le&&e.hasSubtitleGroup(i.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.loadLevel),t.errorAction.action=Bn,void(t.errorAction.flags=_n)}return;case we.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const e=r.loadLevelObj,n=null==e?void 0:e.attrs["HDCP-LEVEL"];n?t.errorAction={action:Bn,flags:Fn,hdcpLevel:n}:this.keySystemError(t)}return;case we.BUFFER_ADD_CODEC_ERROR:case we.REMUX_ALLOC_ERROR:case we.BUFFER_APPEND_ERROR:var a;if(!t.errorAction)t.errorAction=this.getLevelSwitchAction(t,null!=(a=t.level)?a:r.loadLevel);return;case we.INTERNAL_EXCEPTION:case we.BUFFER_APPENDING_ERROR:case we.BUFFER_FULL_ERROR:case we.LEVEL_SWITCH_ERROR:case we.BUFFER_STALLED_ERROR:case we.BUFFER_SEEK_OVER_HOLE:case we.BUFFER_NUDGE_ON_STALL:return void(t.errorAction=Nn())}t.type===Ce.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const n=xn(this.hls.config.playlistLoadPolicy,e),r=this.playlistError++;if(Rn(n,r,kn(e),e.response))return{action:On,flags:Mn,retryConfig:n,retryCount:r};const i=this.getLevelSwitchAction(e,t);return n&&(i.retryConfig=n,i.retryCount=r),i}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],{fragLoadPolicy:i,keyLoadPolicy:o}=t.config,s=xn(e.details.startsWith("key")?o:i,e),a=t.levels.reduce(((e,t)=>e+t.fragmentError),0);if(r){e.details!==we.FRAG_GAP&&r.fragmentError++;if(Rn(s,a,kn(e),e.response))return{action:On,flags:Mn,retryConfig:s,retryCount:a}}const l=this.getLevelSwitchAction(e,n);return s&&(l.retryConfig=s,l.retryCount=a),l}getLevelSwitchAction(e,t){const n=this.hls;null!==t&&void 0!==t||(t=n.loadLevel);const r=this.hls.levels[t];if(r){var i,o;const t=e.details;r.loadError++,t===we.BUFFER_APPEND_ERROR&&r.fragmentError++;let l=-1;const{levels:c,loadLevel:u,minAutoLevel:d,maxAutoLevel:f}=n;n.autoLevelEnabled||(n.loadLevel=-1);const h=null==(i=e.frag)?void 0:i.type,A=(h===Re&&t===we.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(t===we.BUFFER_ADD_CODEC_ERROR||t===we.BUFFER_APPEND_ERROR))&&c.some((e=>{let{audioCodec:t}=e;return r.audioCodec!==t})),p="video"===e.sourceBufferName&&(t===we.BUFFER_ADD_CODEC_ERROR||t===we.BUFFER_APPEND_ERROR)&&c.some((e=>{let{codecSet:t,audioCodec:n}=e;return r.codecSet!==t&&r.audioCodec===n})),{type:g,groupId:m}=null!=(o=e.context)?o:{};for(let n=c.length;n--;){const i=(n+u)%c.length;if(i!==u&&i>=d&&i<=f&&0===c[i].loadError){var s,a;const n=c[i];if(t===we.FRAG_GAP&&h===Ie&&e.frag){const t=c[i].details;if(t){const n=Cn(e.frag,t.fragments,e.frag.start);if(null!=n&&n.gap)continue}}else{if(g===xe&&n.hasAudioGroup(m)||g===Le&&n.hasSubtitleGroup(m))continue;if(h===Re&&null!=(s=r.audioGroups)&&s.some((e=>n.hasAudioGroup(e)))||h===De&&null!=(a=r.subtitleGroups)&&a.some((e=>n.hasSubtitleGroup(e)))||A&&r.audioCodec===n.audioCodec||!A&&r.audioCodec!==n.audioCodec||p&&r.codecSet===n.codecSet)continue}l=i;break}}if(l>-1&&n.loadLevel!==l)return e.levelRetry=!0,this.playlistError=0,{action:Bn,flags:Mn,nextAutoLevel:l}}return{action:Bn,flags:_n}}onErrorOut(e,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case Dn:break;case Bn:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===we.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn('MediaSource ended after "'.concat(t.sourceBufferName,'" sourceBuffer append error. Attempting to recover from media error.')),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:r,hdcpLevel:i,nextAutoLevel:o}=n;switch(r){case Mn:this.switchLevel(e,o);break;case Fn:i&&(t.maxHdcpLevel=tn[tn.indexOf(i)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(t.maxHdcpLevel,'" or lower'))}n.resolved||this.switchLevel(e,o)}switchLevel(e,t){if(void 0!==t&&e.errorAction&&(this.warn("switching to level ".concat(t," after ").concat(e.details)),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===we.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&"audiovideo"!==e.sourceBufferName)){const t=qt(e.mimeType),n=this.hls.levels;for(let r=n.length;r--;)n[r]["".concat(e.sourceBufferName,"Codec")]===t&&this.hls.removeLevel(r)}}},fpsController:class{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const e=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=e,e&&"function"===typeof e.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,n){const r=performance.now();if(t){if(this.lastTime){const e=r-this.lastTime,i=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*i/e,a=this.hls;if(a.trigger(Se.FPS_DROP,{currentDropped:i,currentDecoded:o,totalDroppedFrames:n}),s>0&&i>a.config.fpsDroppedMonitoringThreshold*o){let e=a.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+e),e>0&&(-1===a.autoLevelCapping||a.autoLevelCapping>=e)&&(e-=1,a.trigger(Se.FPS_DROP_LEVEL_CAPPING,{level:e,droppedLevel:a.currentLevel}),a.autoLevelCapping=e,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Nr,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:yl,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends Mi{constructor(e,t,n){super(e,t,n,"subtitle-stream-controller",De),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Se.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Se.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Se.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Se.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Se.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Se.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Se.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Se.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Se.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Se.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=Si,this.setInterval(500),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:r}=t;if(it(n)&&(this.fragPrevious=n),this.state=Si,!r)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let o;const s=n.start;for(let l=0;l<i.length;l++)if(s>=i[l].start&&s<=i[l].end){o=i[l];break}const a=n.start+n.duration;o?o.end=a:(o={start:s,end:a},i.push(o)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:n,endOffset:r}=t;if(0===n&&r!==Number.POSITIVE_INFINITY){const e=r-1;if(e<=0)return;t.endOffsetSubtitles=Math.max(0,e),this.tracksBuffered.forEach((t=>{for(let n=0;n<t.length;)if(t[n].end<=e)t.shift();else{if(!(t[n].start<e))break;t[n].start=e,n++}})),this.fragmentTracker.removeFragmentsInRange(n,e,De)}}onError(e,t){const n=t.frag;(null==n?void 0:n.type)===De&&(t.details===we.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==wi&&(this.state=Si))}onSubtitleTracksUpdated(e,t){let{subtitleTracks:n}=t;this.levels&&As(this.levels,n)?this.levels=n.map((e=>new cn(e))):(this.tracksBuffered=[],this.levels=n.map((e=>{const t=new cn(e);return this.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,De),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.state!==wi&&this.setInterval(500)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:r,levels:i}=this,{details:o,id:s}=t;if(!i)return void this.warn("Subtitle tracks were reset while loading level ".concat(s));const a=i[s];if(s>=i.length||!a)return;this.log("Subtitle track ".concat(s," loaded [").concat(o.startSN,",").concat(o.endSN,"]").concat(o.lastPartSn?"[part-".concat(o.lastPartSn,"-").concat(o.lastPartIndex,"]"):"",",duration:").concat(o.totalduration)),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(o.live||null!=(n=a.details)&&n.live){const e=this.mainDetails;if(o.deltaUpdateFailed||!e)return;const t=e.fragments[0];var c;if(a.details)l=this.alignPlaylists(o,a.details,null==(c=this.levelLastLoaded)?void 0:c.details),0===l&&t&&(l=t.start,di(o,l));else o.hasProgramDateTime&&e.hasProgramDateTime?(Ei(o,e),l=o.fragmentStart):t&&(l=t.start,di(o,l))}if(a.details=o,this.levelLastLoaded=a,s===r&&(this.hls.trigger(Se.SUBTITLE_TRACK_UPDATED,{details:o,id:s,groupId:t.groupId}),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===Si)){Cn(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),a.details=void 0)}}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,r=t.decryptdata,i=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&null!=r&&r.key&&r.iv&&yr(r.method)){const e=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer,br(r.method)).catch((e=>{throw i.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((n=>{const r=performance.now();i.trigger(Se.FRAG_DECRYPTED,{frag:t,payload:n,stats:{tstart:e,tdecrypt:r}})})).catch((e=>{this.warn("".concat(e.name,": ").concat(e.message)),this.state=Si}))}}doTick(){if(this.media){if(this.state===Si){const{currentTrackId:e,levels:t}=this,n=null==t?void 0:t[e];if(!n||!t.length||!n.details)return;if(this.waitForLive(n))return;const{config:r}=this,i=this.getLoadPosition(),o=ar.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),{end:s,len:a}=o,l=n.details;if(a>this.hls.maxBufferLength+l.levelTargetDuration)return;const c=l.fragments,u=c.length,d=l.edge;let f=null;const h=this.fragPrevious;if(s<d){const e=r.maxFragLookUpTolerance,t=s>d-e?0:e;f=Cn(h,c,Math.max(c[0].start,s),t),!f&&h&&h.start<c[0].start&&(f=c[0])}else f=c[u-1];if(f=this.filterReplacedPrimary(f,n.details),!f)return;const A=c[f.sn-l.startSN-1];if(A&&A.cc===f.cc&&this.fragmentTracker.getState(A)===Un&&(f=A),this.fragmentTracker.getState(f)===Un){const e=this.mapToInitFragWhenRequired(f);e&&this.loadFragment(e,n,s)}}}else this.state=Si}loadFragment(e,t,n){it(e)?super.loadFragment(e,t,n):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new Sa(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends hs{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=null;const t=la(this.media.textTracks);for(let r=0;r<t.length;r++)if("hidden"===t[r].mode)e=t[r];else if("showing"===t[r].mode){e=t[r];break}const n=this.findTrackForTextTrack(e);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Se.LEVEL_LOADING,this.onLevelLoading,this),e.on(Se.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Se.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Se.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Se.LEVEL_LOADING,this.onLevelLoading,this),e.off(Se.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Se.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Se.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const n=this.media;if(!n)return;const r=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,r)return;la(n.textTracks).forEach((e=>{sa(e)}))}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:r,details:i}=t,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn("Subtitle track with id:".concat(n," and group:").concat(r," not found in active group ").concat(null==o?void 0:o.groupId));const s=o.details;o.details=t.details,this.log("Subtitle track ".concat(n,' "').concat(o.name,'" lang:').concat(o.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,s)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((e=>-1===(null==r?void 0:r.indexOf(e))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!n||-1!==n.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.subtitlePreference;if(!i&&t){this.selectDefaultTrack=!1;const n=gn(t,e);if(n>-1)i=e[n];else{const e=gn(t,this.tracks);i=this.tracks[e]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const o={subtitleTracks:e};this.log("Updating subtitle tracks, ".concat(e.length,' track(s) found in "').concat(null==n?void 0:n.join(","),'" group-id')),this.hls.trigger(Se.SUBTITLE_TRACKS_UPDATED,o),-1!==r&&-1===this.trackId&&this.setSubtitleTrack(r)}}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<t.length;r++){const i=t[r];if((!n||i.default)&&(n||e)&&(!e||mn(i,e)))return r}if(e){for(let n=0;n<t.length;n++){const r=t[n];if(ps(e.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<t.length;n++){const r=t[n];if(ps(e.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){if(gs(t[n],e))return n}}return-1}onError(e,t){!t.fatal&&t.context&&(t.context.type!==Le||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(-1===e.id)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&mn(e,n))return n;const r=gn(e,this.tracksInGroup);if(r>-1){const e=this.tracksInGroup[r];return this.setSubtitleTrack(r),e}if(n)return null;{const n=gn(e,t);if(n>-1)return t[n]}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,r=e.groupId,i=this.getUrlWithDirectives(e.url,t),o=e.details,s=null==o?void 0:o.age;this.log("Loading subtitle ".concat(n,' "').concat(e.name,'" lang:').concat(e.lang," group:").concat(r).concat(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:"").concat(s&&o.live?" age "+s.toFixed(1)+(o.type?" "+o.type||0:""):""," ").concat(i)),this.hls.trigger(Se.SUBTITLE_TRACK_LOADING,{url:i,id:n,groupId:r,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=la(e.textTracks),n=this.currentTrack;let r;if(n&&(r=t.filter((e=>gs(n,e)))[0],r||this.warn('Unable to find subtitle TextTrack with name "'.concat(n.name,'" and language "').concat(n.lang,'"'))),[].slice.call(t).forEach((e=>{"disabled"!==e.mode&&e!==r&&(e.mode="disabled")})),r){const e=this.subtitleDisplay?"showing":"hidden";r.mode!==e&&(r.mode=e)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=e);if(e<-1||e>=t.length||!ye(e))return void this.warn("Invalid subtitle track id: ".concat(e));this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(Se.SUBTITLE_TRACK_SWITCH,{id:e});const i=!!r.details&&!r.details.live;if(e===this.trackId&&r===n&&i)return;this.log("Switching to subtitle-track ".concat(e)+(r?' "'.concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId):""));const{id:o,groupId:s="",name:a,type:l,url:c}=r;this.hls.trigger(Se.SUBTITLE_TRACK_SWITCH,{id:o,groupId:s,name:a,type:l,url:c});const u=this.switchParams(r.url,null==n?void 0:n.details,r.details);this.loadPlaylist(u)}},timelineController:class{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Se.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Se.FRAG_LOADING,this.onFragLoading,this),e.on(Se.FRAG_LOADED,this.onFragLoaded,this),e.on(Se.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Se.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Se.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Se.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Se.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Se.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Se.FRAG_LOADING,this.onFragLoading,this),e.off(Se.FRAG_LOADED,this.onFragLoaded,this),e.off(Se.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Se.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Se.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Se.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new pl(this,"textTrack1"),t=new pl(this,"textTrack2"),n=new pl(this,"textTrack3"),r=new pl(this,"textTrack4");this.cea608Parser1=new Ga(1,e,t),this.cea608Parser2=new Ga(3,n,r)}addCues(e,t,n,r,i){let o=!1;for(let u=i.length;u--;){const e=i[u],r=(s=e[0],a=e[1],l=t,c=n,Math.min(a,c)-Math.max(s,l));if(r>=0&&(e[0]=Math.min(e[0],t),e[1]=Math.max(e[1],n),o=!0,r/(n-t)>.5))return}var s,a,l,c;if(o||i.push([t,n]),this.config.renderTextTracksNatively){const i=this.captionsTracks[e];this.Cues.newCue(i,t,n,r)}else{const i=this.Cues.newCue(null,t,n,r);this.hls.trigger(Se.CUES_PARSED,{type:"captions",cues:i,track:e})}}onInitPtsFound(e,t){let{frag:n,id:r,initPTS:i,timescale:o}=t;const{unparsedVttFrags:s}=this;r===Ie&&(this.initPTS[n.cc]={baseTime:i,timescale:o}),s.length&&(this.unparsedVttFrags=[],s.forEach((e=>{this.onFragLoaded(Se.FRAG_LOADED,e)})))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const i=n.textTracks[r];if(ml(i,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:r}=this,{label:i,languageCode:o}=t[e],s=this.getExistingTrack(i,o);if(s)n[e]=s,sa(n[e]),ia(n[e],r);else{const t=this.createTextTrack("captions",i,o);t&&(t[e]=!0,n[e]=t)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(Se.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(e,t,n){const r=this.media;if(r)return r.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const n=!!t.transferMedia;if(this.media=null,n)return;const{captionsTracks:r}=this;Object.keys(r).forEach((e=>{sa(r[e]),delete r[e]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)sa(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],r=n.some((e=>e.textCodec===il));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(As(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const e=this.media,t=e?la(e.textTracks):null;if(this.tracks.forEach(((e,n)=>{let r;if(t){let n=null;for(let r=0;r<t.length;r++)if(t[r]&&ml(t[r],e)){n=t[r],t[r]=null;break}n&&(r=n)}if(r)sa(r);else{const t=gl(e);r=this.createTextTrack(t,e.name,e.lang),r&&(r.mode="disabled")}r&&this.textTracks.push(r)})),null!=t&&t.length){const e=t.filter((e=>null!==e)).map((e=>e.label));e.length&&this.hls.logger.warn("Media element contains unused subtitle tracks: ".concat(e.join(", "),". Replace media element for each source to clear TextTracks and captions menu."))}}else if(this.tracks.length){const e=this.tracks.map((e=>({label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e})));this.hls.trigger(Se.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:e})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((e=>{const t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(!t)return;const n="textTrack".concat(t[1]),r=this.captionsProperties[n];r&&(r.label=e.name,e.lang&&(r.languageCode=e.lang),r.media=e)}))}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Ie){var n,r;const{cea608Parser1:e,cea608Parser2:i,lastSn:o}=this,{cc:s,sn:a}=t.frag,l=null!=(n=null==(r=t.part)?void 0:r.index)?n:-1;e&&i&&(a!==o+1||a===o&&l!==this.lastPartIndex+1||s!==this.lastCc)&&(e.reset(),i.reset()),this.lastCc=s,this.lastSn=a,this.lastPartIndex=l}}onFragLoaded(e,t){const{frag:n,payload:r}=t;if(n.type===De)if(r.byteLength){const e=n.decryptdata,i="stats"in t;if(null==e||!e.encrypted||i){const e=this.tracks[n.level],i=this.vttCCs;i[n.cc]||(i[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),e&&e.textCodec===il?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(Se.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;ll(t,this.initPTS[e.cc],(t=>{this._appendCues(t,e.level),n.trigger(Se.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(t=>{n.logger.log("Failed to parse IMSC1: ".concat(t)),n.trigger(Se.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}_parseVTTs(e){var t;const{frag:n,payload:r}=e,{initPTS:i,unparsedVttFrags:o}=this,s=i.length-1;if(!i[n.cc]&&-1===s)return void o.push(e);const a=this.hls;rl(null!=(t=n.initSegment)&&t.data?xt(n.initSegment.data,new Uint8Array(r)).buffer:r,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(e=>{this._appendCues(e,n.level),a.trigger(Se.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(t=>{const i="Missing initPTS for VTT MPEGTS"===t.message;i?o.push(e):this._fallbackToIMSC1(n,r),a.logger.log("Failed to parse VTT cue: ".concat(t)),i&&s>n.cc||a.trigger(Se.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:t})}))}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||ll(t,this.initPTS[e.cc],(()=>{n.textCodec=il,this._parseIMSC1(e,t)}),(()=>{n.textCodec="wvtt"}))}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((e=>oa(n,e)))}else{const r=this.tracks[t];if(!r)return;const i=r.default?"default":"subtitles"+t;n.trigger(Se.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===De&&this.onFragLoaded(Se.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:r}=t;if(n.type!==Ie||"NONE"!==this.closedCaptionsForLevel(n))for(let i=0;i<r.length;i++){const e=r[i].bytes;if(e){this.cea608Parser1||this.initCea608Parsers();const t=this.extractCea608Data(e);this.cea608Parser1.addData(r[i].pts,t[0]),this.cea608Parser2.addData(r[i].pts,t[1])}}}onBufferFlushing(e,t){let{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:o}=t;const{media:s}=this;if(s&&!(s.currentTime<r)){if(!o||"video"===o){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>aa(e[t],n,r)))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){const{textTracks:e}=this;Object.keys(e).forEach((t=>aa(e[t],n,i)))}}}extractCea608Data(e){const t=[[],[]],n=31&e[0];let r=2;for(let i=0;i<n;i++){const n=e[r++],i=127&e[r++],o=127&e[r++];if(0===i&&0===o)continue;if(0!==(4&n)){const e=3&n;0!==e&&1!==e||(t[e].push(i),t[e].push(o))}}return t}},audioStreamController:class extends Mi{constructor(e,t,n){super(e,t,n,"audio-stream-controller",Re),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Se.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Se.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Se.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Se.BUFFER_RESET,this.onBufferReset,this),e.on(Se.BUFFER_CREATED,this.onBufferCreated,this),e.on(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Se.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Se.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Se.FRAG_LOADING,this.onFragLoading,this),e.on(Se.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Se.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Se.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Se.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Se.BUFFER_RESET,this.onBufferReset,this),e.off(Se.BUFFER_CREATED,this.onBufferCreated,this),e.off(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Se.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Se.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Se.FRAG_LOADING,this.onFragLoading,this),e.off(Se.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,t){let{frag:n,id:r,initPTS:i,timescale:o}=t;if(r===Ie){const e=n.cc,t=this.fragCurrent;if(this.initPTS[e]={baseTime:i,timescale:o},this.log("InitPTS for cc: ".concat(e," found from main: ").concat(i,"/").concat(o)),this.mainAnchor=n,this.state===Pi){const t=this.waitingData;(!t&&!this.loadingParts||t&&t.frag.cc!==e)&&(this.nextLoadPosition=this.findSyncFrag(n).start),this.tick()}else!this.hls.hasEnoughToStart&&t&&t.cc!==e?(this.startFragRequested=!1,this.nextLoadPosition=this.findSyncFrag(n).start,t.abortRequests(),this.resetLoadingState()):this.state===Si&&this.tick()}}findSyncFrag(e){const t=this.getLevelDetails(),n=e.cc;return function(e,t,n){if(e&&e.startCC<=t&&e.endCC>=t){const r=n.start,i=n.end;let o=e.fragments;if(!n.relurl){const{fragmentHint:t}=e;t&&(o=o.concat(t))}return En(o,(e=>e.cc<t||e.end<=r?1:e.cc>t||e.start>=i?-1:0))}return null}(t,n,e)||t&&Tn(t.fragments,n)||e}startLoad(e,t){if(!this.levels)return this.startPosition=e,void(this.state=wi);const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),n>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @".concat(n.toFixed(3))),e=n,this.state=Si):this.state=Li,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case Si:this.doTickIdle();break;case Li:{const{levels:e,trackId:t}=this,n=null==e?void 0:e[t],r=null==n?void 0:n.details;if(r&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(r))break;this.state=Pi}break}case xi:{var e;const t=performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:e,trackId:t}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==e?void 0:e[t])||null),this.state=Si}break}case Pi:{const e=this.waitingData;if(e){const{frag:t,part:n,cache:r,complete:i}=e,o=this.mainAnchor;if(void 0!==this.initPTS[t.cc]){this.waitingData=null,this.state=ki;const e={frag:t,part:n,payload:r.flush().buffer,networkDetails:null};this._handleFragmentLoadProgress(e),i&&super._handleFragmentLoadComplete(e)}else o&&o.cc!==e.frag.cc&&(this.log("Waiting fragment cc (".concat(t.cc,") cancelled because video is at cc ").concat(o.cc)),this.nextLoadPosition=this.findSyncFrag(o).start,this.clearWaitingFragment())}else this.state=Si}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.state!==wi&&(this.state=Si))}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:n,media:r,trackId:i}=this,o=t.config;if(!this.buffering||!r&&!this.primaryPrefetch&&(this.startFragRequested||!o.startFragPrefetch)||null==n||!n[i])return;const s=n[i],a=s.details;if(!a||this.waitForLive(s)||this.waitForCdnTuneIn(a))return this.state=Li,void(this.startFragRequested=!1);const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,et,Re));const c=this.getFwdBufferInfo(l,Re);if(null===c)return;if(!this.switchingTrack&&this._streamEnded(c,a))return t.trigger(Se.BUFFER_EOS,{type:"audio"}),void(this.state=Di);const u=c.len,d=t.maxBufferLength,f=a.fragments,h=f[0].start,A=this.getLoadPosition(),p=this.flushing?A:c.end;if(this.switchingTrack&&r){const e=A;a.PTSKnown&&e<h&&(c.end>h||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=h+.05)}if(u>=d&&!this.switchingTrack&&p<f[f.length-1].start)return;let g=this.getNextFragment(p,a);if(g&&this.isLoopLoading(g,p)&&(g=this.getNextFragmentLoopLoading(g,a,c,Ie,d)),!g)return void(this.bufferFlushed=!0);let m=(null==(e=this.mainFragLoading)?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&m&&it(g)&&!g.endList&&(!a.live||!this.loadingParts&&p<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(m)===jn&&(this.mainFragLoading=m=null),m&&it(m))){if(g.start>m.end){const e=this.fragmentTracker.getFragAtPos(p,Ie);e&&e.end>m.end&&(m=e,this.mainFragLoading={frag:e,targetBufferTime:null})}if(g.start>m.end)return}this.loadFragment(g,s,p)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,t){let{audioTracks:n}=t;this.resetTransmuxer(),this.levels=n.map((e=>new cn(e)))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==wi&&(this.setInterval(100),this.state=Si,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Se.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,t){var n;const{levels:r}=this,{details:i,id:o,groupId:s,track:a}=t;if(!r)return void this.warn("Audio tracks reset while loading track ".concat(o,' "').concat(a.name,'" of "').concat(s,'"'));const l=this.mainDetails;if(!l||i.endCC>l.endCC||l.expired)return this.cachedTrackLoadedData=t,void(this.state!==wi&&(this.state=Li));this.cachedTrackLoadedData=null,this.log("Audio track ".concat(o,' "').concat(a.name,'" of "').concat(s,'" loaded [').concat(i.startSN,",").concat(i.endSN,"]").concat(i.lastPartSn?"[part-".concat(i.lastPartSn,"-").concat(i.lastPartIndex,"]"):"",",duration:").concat(i.totalduration));const c=r[o];let u=0;if(i.live||null!=(n=c.details)&&n.live){if(this.checkLiveUpdate(i),i.deltaUpdateFailed)return;var d;if(c.details)u=this.alignPlaylists(i,c.details,null==(d=this.levelLastLoaded)?void 0:d.details);i.alignedSliding||(bi(i,l),i.alignedSliding||Ei(i,l),u=i.fragmentStart)}c.details=i,this.levelLastLoaded=c,this.startFragRequested||this.setStartPosition(l,u),this.hls.trigger(Se.AUDIO_TRACK_UPDATED,{details:i,id:o,groupId:t.groupId}),this.state!==Li||this.waitForCdnTuneIn(i)||(this.state=Si),this.tick()}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:r,payload:i}=e,{config:o,trackId:s,levels:a}=this;if(!a)return void this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"));const l=a[s];if(!l)return void this.warn("Audio track is undefined on fragment load progress");const c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const u=o.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new fs(this.hls,Re,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const f=this.initPTS[n.cc],h=null==(t=n.initSegment)?void 0:t.data;if(void 0!==f){const e=!1,t=r?r.index:-1,o=-1!==t,s=new or(n.level,n.sn,n.stats.chunkCount,i.byteLength,t,o);d.push(i,h,u,"",n,r,c.totalduration,e,s,f)}else{this.log("Unknown video PTS for cc ".concat(n.cc,", waiting for video PTS before demuxing audio frag ").concat(n.sn," of [").concat(c.startSN," ,").concat(c.endSN,"],track ").concat(s));const{cache:e}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new Fi,complete:!1};e.push(new Uint8Array(i)),this.state!==wi&&(this.state=Pi)}}_handleFragmentLoadComplete(e){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Ie&&it(t.frag)&&(this.mainFragLoading=t,this.state===Si&&this.tick())}onFragBuffered(e,t){const{frag:n,part:r}=t;if(n.type===Re)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if(it(n)){this.fragPrevious=n;const e=this.switchingTrack;e&&(this.bufferedTrack=e,this.switchingTrack=null,this.hls.trigger(Se.AUDIO_TRACK_SWITCHED,Fe({},e)))}this.fragBufferedComplete(n,r),this.media&&this.tick()}else this.audioOnly||n.type!==Ie||n.elementaryStreams.video||n.elementaryStreams.audiovideo||(this.audioOnly=!0,this.mainFragLoading=null)}onError(e,t){var n;if(t.fatal)this.state=Bi;else switch(t.details){case we.FRAG_GAP:case we.FRAG_PARSING_ERROR:case we.FRAG_DECRYPT_ERROR:case we.FRAG_LOAD_ERROR:case we.FRAG_LOAD_TIMEOUT:case we.KEY_LOAD_ERROR:case we.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Re,t);break;case we.AUDIO_TRACK_LOAD_ERROR:case we.AUDIO_TRACK_LOAD_TIMEOUT:case we.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Li||(null==(n=t.context)?void 0:n.type)!==xe||(this.state=Si);break;case we.BUFFER_ADD_CODEC_ERROR:case we.BUFFER_APPEND_ERROR:if("audio"!==t.parent)return;this.resetLoadingState();break;case we.BUFFER_FULL_ERROR:if("audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case we.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushing(e,t){let{type:n}=t;n!==tt&&(this.flushing=!0)}onBufferFlushed(e,t){let{type:n}=t;if(n!==tt){this.flushing=!1,this.bufferFlushed=!0,this.state===Di&&(this.state=Si);const e=this.mediaBuffer||this.media;e&&(this.afterBufferFlushed(e,n,Re),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:r}=this,{remuxResult:i,chunkMeta:o}=e,s=this.getCurrentContext(o);if(!s)return void this.resetWhenMissingContext(o);const{frag:a,part:l,level:c}=s,{details:u}=c,{audio:d,text:f,id3:h,initSegment:A}=i;if(!this.fragContextChanged(a)&&u){if(this.state=Ii,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=A&&A.tracks){const e=a.initSegment||a;this._bufferInitSegment(c,A.tracks,e,o),r.trigger(Se.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:n,tracks:A.tracks})}if(d){const{startPTS:e,endPTS:t,startDTS:n,endDTS:r}=d;l&&(l.elementaryStreams[et]={startPTS:e,endPTS:t,startDTS:n,endDTS:r}),a.setElementaryStreamInfo(et,e,t,n,r),this.bufferFragmentData(d,a,l,o)}if(null!=h&&null!=(t=h.samples)&&t.length){const e=Me({id:n,frag:a,details:u},h);r.trigger(Se.FRAG_PARSING_METADATA,e)}if(f){const e=Me({id:n,frag:a,details:u},f);r.trigger(Se.FRAG_PARSING_USERDATA,e)}}else this.fragmentTracker.removeFragment(a)}_bufferInitSegment(e,t,n,r){if(this.state!==Ii)return;if(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio)return;const i=t.audio;i.id=Re;const o=e.audioCodec;this.log("Init audio buffer, container:".concat(i.container,", codecs[level/parsed]=[").concat(o,"/").concat(i.codec,"]")),o&&1===o.split(",").length&&(i.levelCodec=o),this.hls.trigger(Se.BUFFER_CODECS,t);const s=i.initSegment;if(null!=s&&s.byteLength){const e={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:s};this.hls.trigger(Se.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);var i;if(this.switchingTrack||r===Un||r===Gn)if(it(e))if(null!=(i=t.details)&&i.live&&!this.initPTS[e.cc]){this.log("Waiting for video PTS in continuity counter ".concat(e.cc," of live stream before loading audio fragment ").concat(e.sn," of level ").concat(this.trackId)),this.state=Pi;const n=this.mainDetails;n&&n.fragmentStart!==t.details.fragmentStart&&Ei(t.details,n)}else super.loadFragment(e,t,n);else this._loadInitSegment(e,t);else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:n,assocLang:r,characteristics:i,audioCodec:o,channels:s}=this.bufferedTrack;mn({name:t,lang:n,assocLang:r,characteristics:i,audioCodec:o,channels:s},e,vn)||(bn(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(Se.AUDIO_TRACK_SWITCHED,Fe({},e))}},audioTrackController:class extends hs{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Se.LEVEL_LOADING,this.onLevelLoading,this),e.on(Se.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Se.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Se.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Se.LEVEL_LOADING,this.onLevelLoading,this),e.off(Se.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Se.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Se.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:r,details:i}=t,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn("Audio track with id:".concat(n," and group:").concat(r," not found in active group ").concat(null==o?void 0:o.groupId));const s=o.details;o.details=t.details,this.log("Audio track ".concat(n,' "').concat(o.name,'" lang:').concat(o.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,s)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((e=>-1===(null==r?void 0:r.indexOf(e))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!n||-1!==n.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.audioPreference;if(!i&&t){const n=gn(t,e,vn);if(n>-1)i=e[n];else{const e=gn(t,this.tracks);i=this.tracks[e]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const s={audioTracks:e};this.log("Updating audio tracks, ".concat(e.length," track(s) found in group(s): ").concat(null==n?void 0:n.join(","))),this.hls.trigger(Se.AUDIO_TRACKS_UPDATED,s);const a=this.trackId;if(-1!==r&&-1===a)this.setAudioTrack(r);else if(e.length&&-1===a){var o;const t=new Error("No audio track selected for current audio group-ID(s): ".concat(null==(o=this.groupIds)?void 0:o.join(",")," track count: ").concat(e.length));this.warn(t.message),this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:t})}}}onError(e,t){!t.fatal&&t.context&&(t.context.type!==xe||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&mn(e,r,vn))return r;const i=gn(e,this.tracksInGroup,vn);if(i>-1){const e=this.tracksInGroup[i];return this.setAudioTrack(i),e}if(r){let r=t.loadLevel;-1===r&&(r=t.firstAutoLevel);const i=function(e,t,n,r,i){const o=t[r],s=t.reduce(((e,t,n)=>{const r=t.uri;return(e[r]||(e[r]=[])).push(n),e}),{})[o.uri];s.length>1&&(r=Math.max.apply(Math,s));const a=o.videoRange,l=o.frameRate,c=o.codecSet.substring(0,4),u=yn(t,r,(t=>{if(t.videoRange!==a||t.frameRate!==l||t.codecSet.substring(0,4)!==c)return!1;const r=t.audioGroups,o=n.filter((e=>!r||-1!==r.indexOf(e.groupId)));return gn(e,o,i)>-1}));return u>-1?u:yn(t,r,(t=>{const r=t.audioGroups,o=n.filter((e=>!r||-1!==r.indexOf(e.groupId)));return gn(e,o,i)>-1}))}(e,t.levels,n,r,vn);if(-1===i)return null;t.nextLoadLevel=i}if(e.channels||e.audioCodec){const t=gn(e,n);if(t>-1)return n[t]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length)return void this.warn("Invalid audio track id: ".concat(e));this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e],i=r.details&&!r.details.live;if(e===this.trackId&&r===n&&i)return;if(this.log("Switching to audio-track ".concat(e,' "').concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId," channels:").concat(r.channels)),this.trackId=e,this.currentTrack=r,this.hls.trigger(Se.AUDIO_TRACK_SWITCHING,Fe({},r)),i)return;const o=this.switchParams(r.url,null==n?void 0:n.details,r.details);this.loadPlaylist(o)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||mn(e,r,vn)))return n}if(e){const{name:n,lang:r,assocLang:i,characteristics:o,audioCodec:s,channels:a}=e;for(let e=0;e<t.length;e++){if(mn({name:n,lang:r,assocLang:i,characteristics:o,audioCodec:s,channels:a},t[e],vn))return e}for(let l=0;l<t.length;l++){const n=t[l];if(ps(e.attrs,n.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<t.length;l++){const n=t[l];if(ps(e.attrs,n.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&bn(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,r=e.groupId,i=this.getUrlWithDirectives(e.url,t),o=e.details,s=null==o?void 0:o.age;this.log("Loading audio-track ".concat(n,' "').concat(e.name,'" lang:').concat(e.lang," group:").concat(r).concat(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:"").concat(s&&o.live?" age "+s.toFixed(1)+(o.type?" "+o.type||0:""):""," ").concat(i)),this.hls.trigger(Se.AUDIO_TRACK_LOADING,{url:i,id:n,groupId:r,deliveryDirectives:t||null,track:e})}},emeController:na,cmcdController:class{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=e=>{try{this.apply(e,{ot:Ss.MANIFEST,su:!this.initialized})}catch(t){this.hls.logger.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=e=>{try{const{frag:t,part:n}=e,r=this.hls.levels[t.level],i=this.getObjectType(t),o={d:1e3*(n||t).duration,ot:i};i!==Ss.VIDEO&&i!==Ss.AUDIO&&i!=Ss.MUXED||(o.br=r.bitrate/1e3,o.tb=this.getTopBandwidth(i)/1e3,o.bl=this.getBufferLength(i));const s=n?this.getNextPart(n):this.getNextFrag(t);null!=s&&s.url&&s.url!==t.url&&(o.nor=s.url),this.apply(e,o)}catch(t){this.hls.logger.warn("Could not generate segment CMCD data.",t)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;null!=n&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Se.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Se.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,r;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer}createData(){var e;return{v:1,sf:Ts.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Me(t,this.createData());const n=t.ot===Ss.INIT||t.ot===Ss.VIDEO||t.ot===Ss.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);const{includeKeys:r}=this;r&&(t=Object.keys(t).reduce(((e,n)=>(r.includes(n)&&(e[n]=t[n]),e)),{}));const i={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),Zs(e.headers,t,i)):e.url=$s(e.url,t,i)}getNextFrag(e){var t;const n=null==(t=this.hls.levels[e.level])?void 0:t.details;if(n){const t=e.sn-n.startSN;return n.fragments[t+1]}}getNextPart(e){var t,n;const{index:r,fragment:i}=e,o=null==(t=this.hls.levels[i.level])||null==(n=t.details)?void 0:n.partList;if(o){const{sn:e}=i;for(let t=o.length-1;t>=0;t--){const n=o[t];if(n.index===r&&n.fragment.sn===e)return o[t+1]}}}getObjectType(e){const{type:t}=e;return"subtitle"===t?Ss.TIMED_TEXT:"initSegment"===e.sn?Ss.INIT:"audio"===t?Ss.AUDIO:"main"===t?this.hls.audioTracks.length?Ss.VIDEO:Ss.MUXED:void 0}getTopBandwidth(e){let t,n=0;const r=this.hls;if(e===Ss.AUDIO)t=r.audioTracks;else{const e=r.maxAutoLevel,n=e>-1?e+1:r.levels.length;t=r.levels.slice(0,n)}for(const i of t)i.bitrate>n&&(n=i.bitrate);return n>0?n:NaN}getBufferLength(e){const t=this.media,n=e===Ss.AUDIO?this.audioBuffer:this.videoBuffer;if(!n||!t)return NaN;return 1e3*ar.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new n(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,n,r){t(e),this.loader.load(e,n,r)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new n(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,n,r){t(e),this.loader.load(e,n,r)}}}},contentSteeringController:class extends Ne{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Se.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Se.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce(((e,t)=>(-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e)),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter((t=>t!==e)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if((null==n?void 0:n.action)===Bn&&n.flags===_n){const e=this.levels;let r=this._pathwayPriority,i=this.pathwayId;if(t.context){const{groupId:n,pathwayId:r,type:o}=t.context;n&&e?i=this.getPathwayForGroupId(n,o,i):r&&(i=r)}i in this.penalizedPathways||(this.penalizedPathways[i]=performance.now()),!r&&e&&(r=this.pathways()),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i),n.resolved||this.warn("Could not resolve ".concat(t.details,' ("').concat(t.error.message,'") with content-steering for Pathway: ').concat(i," levels: ").concat(e?e.length:e," priorities: ").concat(fn(r)," penalized: ").concat(fn(this.penalizedPathways)))}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const n=e[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(n,'"')),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length&&this.log("Found ".concat(t.length,"/").concat(e.length,' levels in Pathway "').concat(this.pathwayId,'"')),t}getLevelsForPathway(e){return null===this.levels?[]:this.levels.filter((t=>e===t.pathwayId))}updatePathwayPriority(e){let t;this._pathwayPriority=e;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((e=>{r-n[e]>3e5&&delete n[e]}));for(let i=0;i<e.length;i++){const r=e[i];if(r in n)continue;if(r===this.pathwayId)return;const o=this.hls.nextLoadLevel,s=this.hls.levels[o];if(t=this.getLevelsForPathway(r),t.length>0){this.log('Setting Pathway to "'.concat(r,'"')),this.pathwayId=r,gi(t),this.hls.trigger(Se.LEVELS_UPDATED,{levels:t});const e=this.hls.levels[o];s&&e&&this.levels&&(e.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&e.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(s.bitrate," to ").concat(e.bitrate)),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,t,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let i=0;i<r.length;i++)if(t===xe&&r[i].hasAudioGroup(e)||t===Le&&r[i].hasSubtitleGroup(e))return r[i].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},r={};e.forEach((e=>{const{ID:i,"BASE-ID":o,"URI-REPLACEMENT":s}=e;if(t.some((e=>e.pathwayId===i)))return;const a=this.getLevelsForPathway(o).map((e=>{const t=new pr(e.attrs);t["PATHWAY-ID"]=i;const o=t.AUDIO&&"".concat(t.AUDIO,"_clone_").concat(i),a=t.SUBTITLES&&"".concat(t.SUBTITLES,"_clone_").concat(i);o&&(n[t.AUDIO]=o,t.AUDIO=o),a&&(r[t.SUBTITLES]=a,t.SUBTITLES=a);const l=ta(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",s),c=new cn({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:l,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(let n=1;n<e.audioGroups.length;n++)c.addGroupId("audio","".concat(e.audioGroups[n],"_clone_").concat(i));if(e.subtitleGroups)for(let n=1;n<e.subtitleGroups.length;n++)c.addGroupId("text","".concat(e.subtitleGroups[n],"_clone_").concat(i));return c}));t.push(...a),ea(this.audioTracks,n,s,i),ea(this.subtitleTracks,r,s,i)}))}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(t);try{r=new self.URL(e)}catch(c){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(e))}if("data:"!==r.protocol){const e=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+e)}const i={responseType:"json",url:r.href},o=t.steeringManifestLoadPolicy.default,s=o.errorRetry||o.timeoutRetry||{},a={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(e,t,n,i)=>{this.log('Loaded steering manifest: "'.concat(r,'"'));const o=e.data;if(1!==(null==o?void 0:o.VERSION))return void this.log("Steering VERSION ".concat(o.VERSION," not supported!"));this.updated=performance.now(),this.timeToLoad=o.TTL;const{"RELOAD-URI":s,"PATHWAY-CLONES":a,"PATHWAY-PRIORITY":l}=o;if(s)try{this.uri=new self.URL(s,r).href}catch(c){return this.enabled=!1,void this.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(s))}this.scheduleRefresh(this.uri||n.url),a&&this.clonePathways(a);const u={steeringManifest:o,url:r.toString()};this.hls.trigger(Se.STEERING_MANIFEST_LOADED,u),l&&this.updatePathwayPriority(l)},onError:(e,t,n,r)=>{if(this.log("Error loading steering manifest: ".concat(e.code," ").concat(e.text," (").concat(t.url,")")),this.stopLoad(),410===e.code)return this.enabled=!1,void this.log("Steering manifest ".concat(t.url," no longer available"));let i=1e3*this.timeToLoad;if(429!==e.code)this.scheduleRefresh(this.uri||t.url,i);else{const e=this.loader;if("function"===typeof(null==e?void 0:e.getResponseHeader)){const t=e.getResponseHeader("Retry-After");t&&(i=1e3*parseFloat(t))}this.log("Steering manifest ".concat(t.url," rate limited"))}},onTimeout:(e,t,n)=>{this.log("Timeout loading steering manifest (".concat(t.url,")")),this.scheduleRefresh(this.uri||t.url)}};this.log("Requesting steering manifest: ".concat(r)),this.loader.load(i,a,l)}scheduleRefresh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var t;const n=null==(t=this.hls)?void 0:t.media;!n||n.ended?this.scheduleRefresh(e,1e3*this.timeToLoad):this.loadSteeringManifest(e)}),t)}},interstitialsController:class extends Ne{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const e=this.currentTime;if(void 0===e||this.playbackDisabled)return;const t=e-this.timelinePos;if(Math.abs(t)<1/7056e5)return;const n=t<=-.01;this.timelinePos=e,this.bufferedPos=e;const r=this.playingItem;if(!r)return void this.checkBuffer();if(n){this.schedule.resetErrorsInRange(e,e-t)&&this.updateSchedule()}if(this.checkBuffer(),n&&e<r.start||e>=r.end){var i;const e=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(r)&&null!=(i=this.media)&&i.paused&&(this.shouldPlay=!1),!n){const t=this.findItemIndex(r);if(e>t){const n=this.schedule.findJumpRestrictedIndex(t+1,e);if(n>t)return void this.setSchedulePosition(n)}}return void this.setSchedulePosition(e)}const o=this.playingAsset;if(!o){if(this.playingLastItem&&this.isInterstitial(r)){const t=r.event.assetList[0];t&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(e,t))}return}const s=o.timelineStart,a=o.duration||0;(n&&e<s||e>=s+a)&&this.setScheduleToAssetAtTime(e,o)},this.onTimeupdate=()=>{const e=this.currentTime;if(void 0===e||this.playbackDisabled)return;if(!(e>this.timelinePos))return;this.timelinePos=e,e>this.bufferedPos&&this.checkBuffer();const t=this.playingItem;if(!t||this.playingLastItem)return;if(e>=t.end){this.timelinePos=t.end;const e=this.findItemIndex(t);this.setSchedulePosition(e+1)}const n=this.playingAsset;if(!n)return;e>=n.timelineStart+(n.duration||0)&&this.setScheduleToAssetAtTime(e,n)},this.onScheduleUpdate=(e,t)=>{const n=this.schedule,r=this.playingItem,i=n.events||[],o=n.items||[],s=n.durations,a=e.map((e=>e.identifier)),l=!(!i.length&&!a.length);if(l&&this.log("INTERSTITIALS_UPDATED (".concat(i.length,"): ").concat(i,"\nSchedule: ").concat(o.map((e=>ya(e))))),a.length&&this.log("Removed events ".concat(a)),this.playerQueue.forEach((e=>{if(e.interstitial.appendInPlace){const t=e.assetItem.timelineStart,n=e.timelineOffset-t;if(n)try{e.timelineOffset=t}catch(Zl){Math.abs(n)>ua&&this.warn("".concat(Zl,' ("').concat(e.assetId,'" ').concat(e.timelineOffset,"->").concat(t,")"))}}})),r){const e=this.updateItem(r,this.timelinePos);this.itemsMatch(r,e)&&(this.playingItem=e,this.waitingItem=this.endedItem=null)}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const c=this.bufferingItem;if(c){const e=this.updateItem(c,this.bufferedPos);this.itemsMatch(c,e)?this.bufferingItem=e:c.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(c.event,null))}if(e.forEach((e=>{e.assetList.forEach((e=>{this.clearAssetPlayer(e.identifier,null)}))})),l||t){if(this.hls.trigger(Se.INTERSTITIALS_UPDATED,{events:i.slice(0),schedule:o.slice(0),durations:s,removedIds:a}),this.isInterstitial(r)&&a.includes(r.event.identifier))return this.warn('Interstitial "'.concat(r.event.identifier,'" removed while playing')),void this.primaryFallback(r.event);this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new ba(e),this.schedule=new va(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Se.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Se.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(Se.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Se.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(Se.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(Se.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(Se.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Se.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Se.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(Se.MEDIA_ENDED,this.onMediaEnded,this),e.on(Se.ERROR,this.onError,this),e.on(Se.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Se.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Se.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(Se.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Se.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(Se.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(Se.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(Se.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Se.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Se.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Se.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(Se.MEDIA_ENDED,this.onMediaEnded,this),e.off(Se.ERROR,this.onError,this),e.off(Se.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;null==(e=this.getBufferingPlayer())||e.resumeBuffering()}pauseBuffering(){var e;null==(e=this.getBufferingPlayer())||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Ca(e,"play",this.onPlay),Ca(e,"pause",this.onPause),Ca(e,"seeking",this.onSeeking),Ca(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const n=this.media=t.media;Ea(n,"seeking",this.onSeeking),Ea(n,"timeupdate",this.onTimeupdate),Ea(n,"play",this.onPlay),Ea(n,"pause",this.onPause)}onMediaAttached(e,t){const n=this.effectivePlayingItem,r=this.detachedData;if(this.detachedData=null,null===n)this.checkStart();else if(!r){this.clearScheduleState();const e=this.findItemIndex(n);this.setSchedulePosition(e)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const n=!!t.transferMedia,r=this.media;if(this.media=null,!n&&(r&&this.removeMediaListeners(r),this.detachedData)){const e=this.getBufferingPlayer();e&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,e.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,t=()=>e.bufferingItem||e.waitingItem,n=t=>t?e.getAssetPlayer(t.identifier):t,r=(t,r,i,s,a)=>{if(t){let l=t[r].start;const c=t.event;if(c){if("playout"===r||c.timelineOccupancy!==da.Point){const e=n(i);(null==e?void 0:e.interstitial)===c&&(l+=e.assetItem.startOffset+e[a])}}else{l+=("bufferedPos"===s?o():e[s])-t.start}return l}return 0},i=(t,n)=>{if(0!==t&&"primary"!==n&&e.schedule.length){var r;const i=e.schedule.findItemIndexAtTime(t),o=null==(r=e.schedule.items)?void 0:r[i];if(o){return t+(o[n].start-o.start)}}return t},o=()=>{const t=e.bufferedPos;return t===Number.MAX_VALUE?s("primary"):Math.max(t,0)},s=t=>{var n;return null!=(n=e.primaryDetails)&&n.live?e.primaryDetails.edge:e.schedule.durations[t]},a=(t,i)=>{var o,s;const a=e.effectivePlayingItem;if(null!=a&&null!=(o=a.event)&&o.restrictions.skip)return;e.log("seek to ".concat(t,' "').concat(i,'"'));const l=e.effectivePlayingItem,c=e.schedule.findItemIndexAtTime(t,i),u=null==(s=e.schedule.items)?void 0:s[c],d=e.getBufferingPlayer(),f=null==d?void 0:d.interstitial,h=null==f?void 0:f.appendInPlace,A=l&&e.itemsMatch(l,u);if(l&&(h||A)){const o=n(e.playingAsset),s=(null==o?void 0:o.media)||e.primaryMedia;if(s){const n="primary"===i?s.currentTime:r(l,i,e.playingAsset,"timelinePos","currentTime"),a=t-n,c=(h?n:s.currentTime)+a;if(c>=0&&(!o||h||c<=o.duration))return void(s.currentTime=c)}}if(u){let n=t;if("primary"!==i){const e=t-u[i].start;n=u.start+e}const r=!e.isInterstitial(u);if(e.isInterstitial(l)&&!l.event.appendInPlace||!r&&!u.event.appendInPlace){if(l){const o=e.findItemIndex(l);if(c>o){const t=e.schedule.findJumpRestrictedIndex(o+1,c);if(t>o)return void e.setSchedulePosition(t)}let s=0;if(r)e.timelinePos=n,e.checkBuffer();else{var p;const e=null==u||null==(p=u.event)?void 0:p.assetList;if(e){const n=t-(u[i]||u).start;for(let t=e.length;t--;){const r=e[t];if(r.duration&&n>=r.startOffset&&n<r.startOffset+r.duration){s=t;break}}}}e.setSchedulePosition(c,s)}}else{const t=e.media||(h?null==d?void 0:d.media:null);t&&(t.currentTime=n)}}},l=()=>{const n=e.effectivePlayingItem;if(e.isInterstitial(n))return n;const r=t();return e.isInterstitial(r)?r:null},c={get currentTime(){const t=l(),n=e.effectivePlayingItem;return n&&n===t?r(n,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-n.playout.start:0},set currentTime(t){const n=l(),r=e.effectivePlayingItem;r&&r===n&&a(t+r.playout.start,"playout")},get duration(){const e=l();return e?e.playout.end-e.playout.start:0},get assetPlayers(){var t;const n=null==(t=l())?void 0:t.event.assetList;return n?n.map((t=>e.getAssetPlayer(t.identifier))):[]},get playingIndex(){var t;const n=null==(t=l())?void 0:t.event;return n&&e.effectivePlayingAsset?n.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return l()}};this.manager={get events(){var t,n;return(null==(t=e.schedule)||null==(n=t.events)?void 0:n.slice(0))||[]},get schedule(){var t,n;return(null==(t=e.schedule)||null==(n=t.items)?void 0:n.slice(0))||[]},get interstitialPlayer(){return l()?c:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const n=t();return e.findItemIndex(n)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const t=e.effectivePlayingItem;return e.findItemIndex(t)},primary:{get bufferedEnd(){return o()},get currentTime(){const t=e.timelinePos;return t>0?t:0},set currentTime(e){a(e,"primary")},get duration(){return s("primary")},get seekableStart(){var t;return(null==(t=e.primaryDetails)?void 0:t.fragmentStart)||0}},integrated:{get bufferedEnd(){return r(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return r(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(e){a(e,"integrated")},get duration(){return s("integrated")},get seekableStart(){var t;return i((null==(t=e.primaryDetails)?void 0:t.fragmentStart)||0,"integrated")}},skip:()=>{const t=e.effectivePlayingItem,n=null==t?void 0:t.event;if(n&&!n.restrictions.skip){const r=e.findItemIndex(t);if(n.appendInPlace){const e=t.playout.start+t.event.duration;a(e+.001,"playout")}else e.advanceAfterAssetEnded(n,r,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,n=null==(e=this.schedule)?void 0:e.items;return!!(this.playbackStarted&&t&&n)&&this.findItemIndex(t)===n.length-1}get playbackStarted(){return null!==this.effectivePlayingItem}get currentTime(){var e,t,n;if(null===this.mediaSelection)return;const r=this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&!r.event.appendInPlace)return;let i=this.media;!i&&null!=(e=this.bufferingItem)&&null!=(t=e.event)&&t.appendInPlace&&(i=this.primaryMedia);const o=null==(n=i)?void 0:n.currentTime;return void 0!==o&&ye(o)?o:void 0}get primaryMedia(){var e;return this.media||(null==(e=this.detachedData)?void 0:e.media)||null}isInterstitial(e){return!(null==e||!e.event)}retreiveMediaSource(e,t){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,t)}transferMediaFromPlayer(e,t){const n=e.interstitial.appendInPlace,r=e.media;if(n&&r===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&r)return void(this.detachedData={media:r});const n=e.transferMedia();this.log("transfer MediaSource from ".concat(e," ").concat(fn(n))),this.detachedData=n}else t&&r&&(this.shouldPlay||(this.shouldPlay=!r.paused))}transferMediaTo(e,t){var n,r;if(e.media===t)return;let i=null;const o=this.hls,s=e!==o,a=s&&e.interstitial.appendInPlace,l=null==(n=this.detachedData)?void 0:n.mediaSource;let c;if(o.media)a&&(i=o.transferMedia(),this.detachedData=i),c="Primary";else if(l){const e=this.getBufferingPlayer();e?(i=e.transferMedia(),c="".concat(e)):c="detached MediaSource"}else c="detached media";if(!i)if(l)i=this.detachedData,this.log("using detachedData: MediaSource ".concat(fn(i)));else if(!this.detachedData||o.media===t){const e=this.playerQueue;e.length>1&&e.forEach((e=>{if(s&&e.interstitial.appendInPlace!==a){const t=e.interstitial;this.clearInterstitial(e.interstitial,null),t.appendInPlace=!1,t.appendInPlace&&this.warn("Could not change append strategy for queued assets ".concat(t))}})),this.hls.detachMedia(),this.detachedData={media:t}}const u=i&&"mediaSource"in i&&"closed"!==(null==(r=i.mediaSource)?void 0:r.readyState),d=u&&i?i:t;if(this.log("".concat(u?"transfering MediaSource":"attaching media"," to ").concat(s?e:"Primary"," from ").concat(c)),d===i){const t=s&&e.assetId===this.schedule.assetIdAtEnd;d.overrides={duration:this.schedule.duration,endOfStream:!s||t,cueRemoval:!s}}e.attachMedia(d)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e.events;if(!t||this.playbackDisabled||!this.media)return;-1===this.bufferedPos&&(this.bufferedPos=0);const n=this.timelinePos,r=this.effectivePlayingItem;if(-1===n){const n=this.hls.startPosition;if(this.timelinePos=n,t.length&&t[0].cue.pre){const n=e.findEventIndex(t[0].identifier);this.setSchedulePosition(n)}else if(n>=0||!this.primaryLive){const t=this.timelinePos=n>0?n:0,r=e.findItemIndexAtTime(t);this.setSchedulePosition(r)}}else if(r&&!this.playingItem){const t=e.findItemIndex(r);this.setSchedulePosition(t)}}advanceAfterAssetEnded(e,t,n){const r=n+1;if(e.isAssetPastPlayoutLimit(r)||e.assetList[r].error){const n=this.schedule.items;if(n){const r=t+1;if(r>=n.length)return void this.setSchedulePosition(-1);const i=e.resumeTime;this.timelinePos<i&&(this.timelinePos=i,this.checkBuffer()),this.setSchedulePosition(r)}}else this.setSchedulePosition(t,r)}setScheduleToAssetAtTime(e,t){const n=this.schedule,r=t.parentIdentifier,i=n.getEvent(r);if(i){const t=n.findEventIndex(r),o=n.findAssetIndex(i,e);this.setSchedulePosition(t,o)}}setSchedulePosition(e,t){const n=this.schedule.items;if(!n||this.playbackDisabled)return;this.log("setSchedulePosition ".concat(e,", ").concat(t));const r=e>=0?n[e]:null,i=this.playingItem,o=this.playingLastItem;if(this.isInterstitial(i)){var s;const l=i.event,c=this.playingAsset,u=null==c?void 0:c.identifier,d=u?this.getAssetPlayer(u):null;if(d&&u&&(!this.eventItemsMatch(i,r)||void 0!==t&&u!==(null==(s=l.assetList)?void 0:s[t].identifier))){var a;const t=l.findAssetIndex(c);this.log("INTERSTITIAL_ASSET_ENDED ".concat(t+1,"/").concat(l.assetList.length," ").concat(ga(c))),this.endedAsset=c,this.playingAsset=null,this.hls.trigger(Se.INTERSTITIAL_ASSET_ENDED,{asset:c,assetListIndex:t,event:l,schedule:n.slice(0),scheduleIndex:e,player:d}),this.retreiveMediaSource(u,r),!d.media||null!=(a=this.detachedData)&&a.mediaSource||d.detachMedia()}if(!this.eventItemsMatch(i,r)&&(this.endedItem=i,this.playingItem=null,this.log("INTERSTITIAL_ENDED ".concat(l," ").concat(ya(i))),l.hasPlayed=!0,this.hls.trigger(Se.INTERSTITIAL_ENDED,{event:l,schedule:n.slice(0),scheduleIndex:e}),l.cue.once)){this.updateSchedule();const e=this.schedule.items;if(r&&e){const n=this.schedule.findItemIndex(r);this.advanceSchedule(n,e,t,i,o)}return}}this.advanceSchedule(e,n,t,i,o)}advanceSchedule(e,t,n,r,i){const o=e>=0?t[e]:null,s=this.primaryMedia,a=this.playerQueue;if(a.length&&a.forEach((t=>{const n=t.interstitial,r=this.schedule.findEventIndex(n.identifier);(r<e||r>e+1)&&this.clearInterstitial(n,o)})),this.isInterstitial(o)){this.timelinePos=Math.min(Math.max(this.timelinePos,o.start),o.end);const i=o.event;void 0===n&&(n=this.schedule.findAssetIndex(i,this.timelinePos));const a=this.waitingItem;this.assetsBuffered(o,s)||this.setBufferingItem(o);let l=this.preloadAssets(i,n);if(this.eventItemsMatch(o,a||r)||(this.waitingItem=o,this.log("INTERSTITIAL_STARTED ".concat(ya(o)," ").concat(i.appendInPlace?"append in place":"")),this.hls.trigger(Se.INTERSTITIAL_STARTED,{event:i,schedule:t.slice(0),scheduleIndex:e})),!i.assetListLoaded)return void this.log("Waiting for ASSET-LIST to complete loading ".concat(i));if(i.assetListLoader&&(i.assetListLoader.destroy(),i.assetListLoader=void 0),!s)return void this.log("Waiting for attachMedia to start Interstitial ".concat(i));this.waitingItem=this.endedItem=null,this.playingItem=o;const c=i.assetList[n];if(!c){const r=t[e+1],o=this.media;return r&&o&&!this.isInterstitial(r)&&o.currentTime<r.start&&(o.currentTime=this.timelinePos=r.start),void this.advanceAfterAssetEnded(i,e,n||0)}if(l||(l=this.getAssetPlayer(c.identifier)),null===l||l.destroyed){const e=i.assetList.length;this.warn("asset ".concat(n+1,"/").concat(e," player destroyed ").concat(i)),l=this.createAssetPlayer(i,c,n)}if(!this.eventItemsMatch(o,this.bufferingItem)&&i.appendInPlace&&this.isAssetBuffered(c))return;this.startAssetPlayer(l,n,t,e,s),this.shouldPlay&&wa(l.media)}else null!==o?(this.resumePrimary(o,e,r),this.shouldPlay&&wa(this.hls.media)):i&&this.isInterstitial(r)&&(this.endedItem=null,this.playingItem=r,r.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return!1===this.hls.config.enableInterstitialPlayback}get primaryDetails(){var e,t;return null==(e=this.mediaSelection)||null==(t=e.main)?void 0:t.details}get primaryLive(){var e;return!(null==(e=this.primaryDetails)||!e.live)}resumePrimary(e,t,n){var r;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log("resuming ".concat(ya(e))),null==(r=this.detachedData)||!r.mediaSource){let n=this.timelinePos;(n<e.start||n>=e.end)&&(n=this.getPrimaryResumption(e,t),this.timelinePos=n),this.attachPrimary(n,e)}if(!n)return;const i=this.schedule.items;i&&(this.log("resumed ".concat(ya(e))),this.hls.trigger(Se.INTERSTITIALS_PRIMARY_RESUMED,{schedule:i.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const n=e.start;if(this.primaryLive){const e=this.primaryDetails;if(0===t)return this.hls.startPosition;if(e&&(n<e.fragmentStart||n>e.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);if(null!=t&&t.hls)return t.hls.bufferedToEnd;return ar.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,n){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const r=this.primaryMedia;if(!r)return;const i=this.hls;i.media?this.checkBuffer():(this.transferMediaTo(i,r),n&&this.startLoadingPrimaryAt(e,n)),n||(this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,t){var n;const r=this.hls;!r.loadingEnabled||!r.media||Math.abs(((null==(n=r.mainForwardBufferInfo)?void 0:n.start)||r.media.currentTime)-e)>.5?r.startLoad(e,t):r.bufferingEnabled||r.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Se.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Se.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(-1===t.level)return;const n=this.hls.levels[t.level],r=Fe(Fe({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=r,this.schedule.parseInterstitialDateRanges(r,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const n=this.hls.audioTracks[t.id],r=this.mediaSelection;if(!r)return void(this.altSelection=Fe(Fe({},this.altSelection),{},{audio:n}));const i=Fe(Fe({},r),{},{audio:n});this.mediaSelection=i}onSubtitleTrackUpdated(e,t){const n=this.hls.subtitleTracks[t.id],r=this.mediaSelection;if(!r)return void(this.altSelection=Fe(Fe({},this.altSelection),{},{subtitles:n}));const i=Fe(Fe({},r),{},{subtitles:n});this.mediaSelection=i}onAudioTrackSwitching(e,t){const n=pn(t);this.playerQueue.forEach((e=>e.hls.setAudioOption(t)||e.hls.setAudioOption(n)))}onSubtitleTrackSwitch(e,t){const n=pn(t);this.playerQueue.forEach((e=>e.hls.setSubtitleOption(t)||-1!==t.id&&e.hls.setSubtitleOption(n)))}onBufferCodecs(e,t){const n=t.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const e=this.timelinePos;this.bufferedPos=e,this.checkBuffer()}}onBufferedToEnd(e){const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let e=0;e<t.length;e++){const r=t[e];if(r.cue.post){var n;const e=this.schedule.findEventIndex(r.identifier),t=null==(n=this.schedule.items)?void 0:n[e];this.isInterstitial(t)&&this.eventItemsMatch(t,this.bufferingItem)&&this.bufferedToItem(t,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const e=this.findItemIndex(t);this.setSchedulePosition(e+1)}else this.shouldPlay=!1}updateItem(e,t){const n=this.schedule.items;if(e&&n){return n[this.findItemIndex(e,t)]||null}return null}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var n;return!!t&&(e===t||e.event.identifier===(null==(n=t.event)?void 0:n.identifier))}findItemIndex(e,t){return e?this.schedule.findItemIndex(e,t):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const t=this.schedule.items;if(!t)return;const n=ar.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=n.len<1),this.updateBufferedPos(n.end,t,e)}updateBufferedPos(e,t,n){const r=this.schedule,i=this.bufferingItem;if(this.bufferedPos>e)return;if(1===t.length&&this.itemsMatch(t[0],i))return void(this.bufferedPos=e);const o=this.playingItem,s=this.findItemIndex(o);let a=r.findItemIndexAtTime(e);if(this.bufferedPos<e){var l,c;const n=this.findItemIndex(i),r=Math.min(n+1,t.length-1),o=t[r];if((-1===a&&i&&e>=i.end||null!=(l=o.event)&&l.appendInPlace&&e+.01>=o.start)&&(a=r),r-s>1&&!1===(null==i||null==(c=i.event)?void 0:c.appendInPlace))return;if(this.bufferedPos=e,a>n&&a>s)this.bufferedToItem(o);else{const t=this.primaryDetails;this.primaryLive&&t&&e>t.edge-t.targetduration&&o.start<t.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(o)&&this.preloadAssets(o.event,0)}}else n&&o&&!this.itemsMatch(o,i)&&(a===s?this.bufferedToItem(o):a===s+1&&this.bufferedToItem(t[a]))}assetsBuffered(e,t){return 0!==e.event.assetList.length&&!e.event.assetList.some((e=>{const n=this.getAssetPlayer(e.identifier);return!(null!=n&&n.bufferedInPlaceToEnd(t))}))}setBufferingItem(e){const t=this.bufferingItem,n=this.schedule;if(this.itemsMatch(e,t))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:r,events:i}=n;if(!r||!i)return t;const o=this.isInterstitial(e),s=this.getBufferingPlayer();if(this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos)),!this.playbackDisabled){const n=s?s.remaining:t?t.end-this.timelinePos:0;this.log("buffered to boundary ".concat(ya(e))+(t?" (".concat(n.toFixed(2)," remaining)"):"")),o?e.event.assetList.forEach((e=>{const t=this.getAssetPlayer(e.identifier);t&&t.resumeBuffering()})):(this.hls.resumeBuffering(),this.playerQueue.forEach((e=>e.pauseBuffering())))}this.hls.trigger(Se.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:i.slice(0),schedule:r.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return t}bufferedToItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.setBufferingItem(e);if(!this.playbackDisabled)if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(null!==n){this.bufferingAsset=null;const t=this.detachedData;if(t)if(t.mediaSource){const t=!0;this.attachPrimary(e.start,e,t)}else this.preloadPrimary(e);else this.preloadPrimary(e)}}preloadPrimary(e){const t=this.findItemIndex(e),n=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,t){const n=e.event,r=0===n.assetList.length&&!n.assetListLoader,i=n.cue.once;if(r||!i){const e=this.preloadAssets(n,t);if(null!=e&&e.interstitial.appendInPlace){const r=n.assetList[t],i=this.primaryMedia;r&&i&&this.bufferAssetPlayer(e,i)}}}preloadAssets(e,t){const n=e.assetUrl,r=e.assetList.length,i=0===r&&!e.assetListLoader,o=e.cue.once;if(i){const i=e.timelineStart;if(e.appendInPlace){var s;const t=this.playingItem;this.isInterstitial(t)||(null==t||null==(s=t.nextEvent)?void 0:s.identifier)!==e.identifier||this.flushFrontBuffer(i+.25)}let o,a=0;if(!this.playingItem&&this.primaryLive&&(a=this.hls.startPosition,-1===a&&(a=this.hls.liveSyncPosition||0)),a&&!e.cue.pre&&!e.cue.post){const e=a-i;e>0&&(o=Math.round(1e3*e)/1e3)}if(this.log("Load interstitial asset ".concat(t+1,"/").concat(n?1:r," ").concat(e).concat(o?" live-start: ".concat(a," start-offset: ").concat(o):"")),n)return this.createAsset(e,0,0,i,e.duration,n);const l=this.assetListLoader.loadAssetList(e,o);l&&(e.assetListLoader=l)}else if(!o&&r){for(let n=t;n<r;n++){const t=e.assetList[n],r=this.getAssetPlayerQueueIndex(t.identifier);-1!==r&&!this.playerQueue[r].destroyed||t.error||this.createAssetPlayer(e,t,n)}return this.getAssetPlayer(e.assetList[t].identifier)}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log("Removing front buffer starting at ".concat(e));Object.keys(t).forEach((t=>{this.hls.trigger(Se.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:t})}))}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let n=0;n<t.length;n++)if(e===t[n].assetId)return n;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t)for(let n=0;n<e.length;n++)if(e[n].media===t)return e[n];return null}createAsset(e,t,n,r,i,o){const s={parentIdentifier:e.identifier,identifier:fa(e,o,t),duration:i,startOffset:n,timelineStart:r,uri:o};return this.createAssetPlayer(e,s,t)}createAssetPlayer(e,t,n){this.log("create HLSAssetPlayer for ".concat(ga(t)));const r=this.hls,i=r.userConfig;let o=i.videoPreference;const s=r.loadLevelObj||r.levels[r.currentLevel];(o||s)&&(o=Me({},o),s.videoCodec&&(o.videoCodec=s.videoCodec),s.videoRange&&(o.allowedVideoRanges=[s.videoRange]));const a=r.audioTracks[r.audioTrack],l=r.subtitleTracks[r.subtitleTrack];let c=0;if(this.primaryLive||e.appendInPlace){const e=this.timelinePos-t.timelineStart;if(e>1){const n=t.duration;n&&e<n&&(c=e)}}const u=t.identifier,d=Fe(Fe({},i),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:r.sessionId,assetPlayerId:u,abrEwmaDefaultEstimate:r.bandwidthEstimate,interstitialsController:void 0,startPosition:c,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:o,audioPreference:a||i.audioPreference,subtitlePreference:l||i.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(d.timelineOffset=t.timelineStart));const f=d.cmcd;null!=f&&f.sessionId&&f.contentId&&(d.cmcd=Me({},f,{contentId:ca(t.uri)})),this.getAssetPlayer(u)&&this.warn("Duplicate date range identifier ".concat(e," and asset ").concat(u));const h=new ma(this.HlsPlayerClass,d,e,t);this.playerQueue.push(h),e.assetList[n]=t;const A=r=>{if(r.live){const t=new Error("Interstitials MUST be VOD assets ".concat(e)),r={fatal:!0,type:Ce.OTHER_ERROR,details:we.INTERSTITIAL_ASSET_ITEM_ERROR,error:t};return void this.handleAssetItemError(r,e,this.schedule.findEventIndex(e.identifier),n,t.message)}const i=r.edge-r.fragmentStart,o=t.duration;(null===o||i>o)&&(this.log('Interstitial asset "'.concat(u,'" duration change ').concat(o," > ").concat(i)),t.duration=i,this.updateSchedule())};h.on(Se.LEVEL_UPDATED,((e,t)=>{let{details:n}=t;return A(n)})),h.on(Se.LEVEL_PTS_UPDATED,((e,t)=>{let{details:n}=t;return A(n)}));const p=(e,t)=>{const n=this.getAssetPlayer(u);if(n&&t.tracks){n.off(Se.BUFFER_CODECS,p),n.tracks=t.tracks;const e=this.primaryMedia;this.bufferingAsset===n.assetItem&&e&&!n.media&&this.bufferAssetPlayer(n,e)}};h.on(Se.BUFFER_CODECS,p);const g=()=>{var n;const r=this.getAssetPlayer(u);if(this.log("buffered to end of asset ".concat(r)),!r)return;const i=this.schedule.findEventIndex(e.identifier),o=e.findAssetIndex(t),s=o+1,a=null==(n=this.schedule.items)?void 0:n[i];if(this.isInterstitial(a))if(-1===o||e.isAssetPastPlayoutLimit(s)||e.assetList[s].error){var l;const e=null==(l=this.schedule.items)?void 0:l[i+1];e&&this.bufferedToItem(e)}else this.bufferedToItem(a,s)};h.on(Se.BUFFERED_TO_END,g);const m=t=>()=>{if(!this.getAssetPlayer(u))return;this.shouldPlay=!0;const n=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,n,t)};return h.once(Se.MEDIA_ENDED,m(n)),h.once(Se.PLAYOUT_LIMIT_REACHED,m(1/0)),h.on(Se.ERROR,((t,r)=>{const i=this.getAssetPlayer(u);if(r.details!==we.BUFFER_STALLED_ERROR)this.handleAssetItemError(r,e,this.schedule.findEventIndex(e.identifier),n,"Asset player error ".concat(r.error," ").concat(e));else if(null!=i&&i.media){const t=i.currentTime,n=i.duration-t;t&&e.appendInPlace&&n/i.media.playbackRate<.5?(this.log("Advancing buffer past end of asset ".concat(u," ").concat(e," at ").concat(i.media.currentTime)),g()):(this.warn("Stalled at ".concat(t," of ").concat(t+n," in asset ").concat(u," ").concat(e)),this.onTimeupdate(),this.checkBuffer(!0))}})),h.on(Se.DESTROYING,(()=>{if(!this.getAssetPlayer(u))return;const t=new Error("Asset player destroyed unexpectedly ".concat(u)),r={fatal:!0,type:Ce.OTHER_ERROR,details:we.INTERSTITIAL_ASSET_ITEM_ERROR,error:t};this.handleAssetItemError(r,e,this.schedule.findEventIndex(e.identifier),n,t.message)})),this.hls.trigger(Se.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:n,event:e,player:h}),h}clearInterstitial(e,t){e.assetList.forEach((e=>{this.clearAssetPlayer(e.identifier,t)})),e.reset()}clearAssetPlayer(e,t){const n=this.getAssetPlayerQueueIndex(e);if(-1!==n){this.log('clearAssetPlayer "'.concat(e,'" toSegment: ').concat(t?ya(t):t));const r=this.playerQueue[n];this.transferMediaFromPlayer(r,t),this.playerQueue.splice(n,1),r.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,n,r,i){const{interstitial:o,assetItem:s,assetId:a}=e,l=o.assetList.length,c=this.playingAsset;this.endedAsset=null,this.playingAsset=s,c&&c.identifier===a||(c&&(this.clearAssetPlayer(c.identifier,n[r]),delete c.error),this.log("INTERSTITIAL_ASSET_STARTED ".concat(t+1,"/").concat(l," ").concat(e)),this.hls.trigger(Se.INTERSTITIAL_ASSET_STARTED,{asset:s,assetListIndex:t,event:o,schedule:n.slice(0),scheduleIndex:r,player:e})),this.bufferAssetPlayer(e,i)}bufferAssetPlayer(e,t){var n,r;const{interstitial:i,assetItem:o,assetId:s}=e,a=this.schedule.findEventIndex(i.identifier),l=null==(n=this.schedule.items)?void 0:n[a];if(!l)return;this.setBufferingItem(l),this.bufferingAsset=o;const c=this.getBufferingPlayer();if(c===e)return;const u=i.appendInPlace;if(u&&!1===(null==c?void 0:c.interstitial.appendInPlace))return;const d=(null==c?void 0:c.tracks)||(null==(r=this.detachedData)?void 0:r.tracks)||this.requiredTracks;if(u&&o!==this.playingAsset){if(!e.tracks)return;if(d&&!Ye(d,e.tracks)){const t=new Error('Asset "'.concat(s,"\" SourceBuffer tracks ('").concat(Object.keys(e.tracks),"') are not compatible with primary content tracks ('").concat(Object.keys(d),"')")),n={fatal:!0,type:Ce.OTHER_ERROR,details:we.INTERSTITIAL_ASSET_ITEM_ERROR,error:t},r=i.findAssetIndex(o);return void this.handleAssetItemError(n,i,a,r,t.message)}}this.transferMediaTo(e,t)}handleAssetItemError(e,t,n,r,i){if(e.details===we.BUFFER_STALLED_ERROR)return;const o=t.assetList[r]||null;let s=null;if(o){const e=this.getAssetPlayerQueueIndex(o.identifier);s=this.playerQueue[e]||null}const a=this.schedule.items,l=Me({},e,{fatal:!1,errorAction:Nn(!0),asset:o,assetListIndex:r,event:t,schedule:a,scheduleIndex:n,player:s});if(this.warn("Asset item error: ".concat(e.error)),this.hls.trigger(Se.INTERSTITIAL_ASSET_ERROR,l),!e.fatal)return;const c=new Error(i);o&&(this.playingAsset!==o&&this.clearAssetPlayer(o.identifier,null),o.error=c),t.assetList.some((e=>!e.error))?t.appendInPlace&&(t.error=c):t.error=c,this.primaryFallback(t)}primaryFallback(e){const t=e.timelineStart,n=this.effectivePlayingItem;if(this.updateSchedule(),n){this.log('Fallback to primary from event "'.concat(e.identifier,'" start: ').concat(t," pos: ").concat(this.timelinePos," playing: ").concat(n?ya(n):"<none>"," error: ").concat(e.error)),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t));let r=this.timelinePos;-1===r&&(r=this.hls.startPosition);const i=this.updateItem(n,r);if(this.itemsMatch(n,i))this.clearInterstitial(e,null);else{const e=this.schedule.findItemIndexAtTime(r);this.setSchedulePosition(e)}}else this.checkStart()}onAssetListLoaded(e,t){var n;const r=t.event,i=r.identifier,o=t.assetListResponse.ASSETS;if(!this.schedule.hasEvent(i))return;const s=r.timelineStart,a=r.duration;let l=0;o.forEach(((e,t)=>{const n=parseFloat(e.DURATION);this.createAsset(r,t,l,s+l,n,e.URI),l+=n})),r.duration=l,this.log("Loaded asset-list with duration: ".concat(l," (was: ").concat(a,") ").concat(r));const c=this.waitingItem,u=(null==c?void 0:c.event.identifier)===i;this.updateSchedule();const d=null==(n=this.bufferingItem)?void 0:n.event;if(u){var f;const e=this.schedule.findEventIndex(i),t=null==(f=this.schedule.items)?void 0:f[e];if(t){if(!this.playingItem&&this.timelinePos>t.end){if(this.schedule.findItemIndexAtTime(this.timelinePos)!==e)return r.error=new Error("Interstitial no longer within playback range ".concat(this.timelinePos," ").concat(r)),void this.primaryFallback(r)}this.setBufferingItem(t)}this.setSchedulePosition(e)}else if((null==d?void 0:d.identifier)===i&&d.appendInPlace){const e=r.assetList[0],t=this.getAssetPlayer(e.identifier),n=this.primaryMedia;e&&t&&n&&this.bufferAssetPlayer(t,n)}}onError(e,t){switch(t.details){case we.ASSET_LIST_PARSING_ERROR:case we.ASSET_LIST_LOAD_ERROR:case we.ASSET_LIST_LOAD_TIMEOUT:{const e=t.interstitial;e&&this.primaryFallback(e);break}case we.BUFFER_STALLED_ERROR:this.onTimeupdate(),this.checkBuffer(!0)}}}});function xl(e){return e&&"object"===typeof e?Array.isArray(e)?e.map(xl):Object.keys(e).reduce(((t,n)=>(t[n]=xl(e[n]),t)),{}):e}function Ll(e,t){const n=e.loader;if(n!==El&&n!==Tl)t.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(Zl){}return!1})()&&(e.loader=El,e.progressive=!0,e.enableSoftwareAES=!0,t.log("[config]: Progressive streaming enabled, using FetchLoader"))}}class Il extends ir{constructor(e,t){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var e;null!=(e=this.media)&&e.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{var e;this.hls&&(this.ended=(null==(e=this.media)?void 0:e.currentTime)||1,this.hls.trigger(Se.MEDIA_ENDED,{stalled:!1}))},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(100),this.mediaSource=t.mediaSource;const n=this.media=t.media;Ea(n,"playing",this.onMediaPlaying),Ea(n,"waiting",this.onMediaWaiting),Ea(n,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:n}=this;n&&(Ca(n,"playing",this.onMediaPlaying),Ca(n,"waiting",this.onMediaWaiting),Ca(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(null==(e=this.media)||!e.readyState||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var n,r;const i=null==(n=this.hls)?void 0:n.config;if(!i)return;const{media:o,stalled:s}=this;if(!o)return;const{seeking:a}=o,l=this.seeking&&!a,c=!this.seeking&&a,u=o.paused&&!a||o.ended||0===o.playbackRate;if(this.seeking=a,e!==t)return t&&(this.ended=0),this.moved=!0,a||(this.nudgeRetry=0,i.nudgeOnVideoHole&&!u&&e>t&&this.nudgeOnVideoHole(e,t)),void(0===this.waiting&&this.stallResolved(e));if(c||l)return void(l&&this.stallResolved(e));if(u)return this.nudgeRetry=0,this.stallResolved(e),void(!this.ended&&o.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(Se.MEDIA_ENDED,{stalled:!1})));if(!ar.getBuffered(o).length)return void(this.nudgeRetry=0);const d=ar.bufferInfo(o,e,0),f=d.nextStart||0,h=this.fragmentTracker;if(a&&h&&this.hls){const t=Rl(this.hls.inFlightFragments,e),n=d.len>2,r=!f||t||f-e>2&&!h.getPartialFragment(e);if(n||r)return;this.moved=!1}const A=null==(r=this.hls)?void 0:r.latestLevelDetails;if(!this.moved&&null!==this.stalled&&h){if(!(d.len>0)&&!f)return;const t=Math.max(f,d.start||0)-e,n=!(null==A||!A.live)?2*A.targetduration:2,r=h.getPartialFragment(e);if(t>0&&(t<=n||r))return void(o.paused||this._trySkipBufferHole(r))}const p=i.detectStallWithCurrentTimeMs,g=self.performance.now(),m=this.waiting;if(null===s)return void(this.stalled=m>0&&g-m<p?m:g);const v=g-s;if(!a&&(v>=p||m)&&this.hls){var y;if("ended"===(null==(y=this.mediaSource)?void 0:y.readyState)&&(null==A||!A.live)&&Math.abs(e-((null==A?void 0:A.edge)||0))<1){if(this.ended)return;return this.ended=e||1,void this.hls.trigger(Se.MEDIA_ENDED,{stalled:!0})}if(this._reportStall(d),!this.media||!this.hls)return}const b=ar.bufferInfo(o,e,i.maxBufferHole);this._tryFixBufferStall(b,v)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-t;this.log("playback not stuck anymore @".concat(e,", after ").concat(Math.round(n),"ms")),this.stallReported=!1,this.waiting=0,this.hls.trigger(Se.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var n;const r=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&null!=(n=this.buffered.audio)&&n.length&&r&&r.length>1&&e>r.end(0)){const n=ar.bufferedInfo(ar.timeRangesToArray(this.buffered.audio),e,0);if(n.len>1&&t>=n.start){const n=ar.timeRangesToArray(r),i=ar.bufferedInfo(n,t,0).bufferedIndex;if(i>-1&&i<n.length-1){const t=ar.bufferedInfo(n,e,0).bufferedIndex,r=n[i].end,o=n[i+1].start;if((-1===t||t>i)&&o-r<1&&e-r<2){const n=new Error("nudging playhead to flush pipeline after video hole. currentTime: ".concat(e," hole: ").concat(r," -> ").concat(o," buffered index: ").concat(t));this.warn(n.message),this.media.currentTime+=1e-6;const i=this.fragmentTracker.getPartialFragment(e)||void 0,s=ar.bufferInfo(this.media,e,0);this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:n,reason:n.message,frag:i,buffer:s.len,bufferInfo:s})}}}}}_tryFixBufferStall(e,t){var n,r;const{fragmentTracker:i,media:o}=this,s=null==(n=this.hls)?void 0:n.config;if(!o||!i||!s)return;const a=o.currentTime,l=null==(r=this.hls)?void 0:r.latestLevelDetails,c=i.getPartialFragment(a);if(c||null!=l&&l.live&&a<l.fragmentStart){if(this._trySkipBufferHole(c)||!this.media)return}const u=e.buffered;(u&&u.length>1&&e.len>s.maxBufferHole||e.nextStart&&e.nextStart-a<s.maxBufferHole)&&(t>1e3*s.highBufferWatchdogPeriod||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}_reportStall(e){const{hls:t,media:n,stallReported:r,stalled:i}=this;if(!r&&null!==i&&n&&t){this.stallReported=!0;const r=new Error("Playback stalling at @".concat(n.currentTime," due to low buffer (").concat(fn(e),")"));this.warn(r.message),t.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len,bufferInfo:e,stalled:{start:i}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:n,media:r}=this,i=null==(t=this.hls)?void 0:t.config;if(!r||!n||!i)return 0;const o=r.currentTime,s=ar.bufferInfo(r,o,0),a=o<s.start?s.start:s.nextStart;if(a&&this.hls){const t=s.len<=i.maxBufferHole,c=s.len>0&&s.len<1&&r.readyState<3,u=a-o;if(u>0&&(t||c)){if(u>i.maxBufferHole){let t=!1;if(0===o){const e=n.getAppendedFrag(0,Ie);e&&a<e.end&&(t=!0)}if(!t){const t=e||n.getAppendedFrag(o,Ie);if(t){var l;if(null==(l=this.hls.loadLevelObj)||!l.details)return 0;if(Rl(this.hls.inFlightFragments,a))return 0;let e=!1,r=t.end;for(;r<a;){const t=n.getPartialFragment(r);if(!t){e=!0;break}r+=t.duration}if(e)return 0}}}const t=Math.max(a+.05,o+.1);if(this.warn("skipping hole, adjusting currentTime from ".concat(o," to ").concat(t)),this.moved=!0,r.currentTime=t,null==e||!e.gap){const n=new Error("fragment loaded with buffer holes, seeking from ".concat(o," to ").concat(t));this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:n,reason:n.message,frag:e||void 0,buffer:s.len,bufferInfo:s})}return t}}return 0}_tryNudgeBuffer(e){const{hls:t,media:n,nudgeRetry:r}=this,i=null==t?void 0:t.config;if(!n||!i)return 0;const o=n.currentTime;if(this.nudgeRetry++,r<i.nudgeMaxRetry){const s=o+(r+1)*i.nudgeOffset,a=new Error("Nudging 'currentTime' from ".concat(o," to ").concat(s));this.warn(a.message),n.currentTime=s,t.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1,buffer:e.len,bufferInfo:e})}else{const n=new Error("Playhead still not moving while enough data buffered @".concat(o," after ").concat(i.nudgeMaxRetry," nudges"));this.error(n.message),t.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.BUFFER_STALLED_ERROR,error:n,fatal:!0,buffer:e.len,bufferInfo:e})}}}function Rl(e,t){const n=Dl(e.main);if(n&&n.start<=t)return n;const r=Dl(e.audio);return r&&r.start<=t?r:null}function Dl(e){if(!e)return null;switch(e.state){case Si:case wi:case Di:case Bi:return null}return e.frag}function Bl(){if("undefined"!==typeof self)return self.VTTCue||self.TextTrackCue}function Pl(e,t,n,r,i){let o=new e(t,n,"");try{o.value=r,i&&(o.type=i)}catch(Zl){o=new e(t,n,fn(i?Fe({type:i},r):r))}return o}const Ol=(()=>{const e=Bl();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(Zl){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class Ml{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Se.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Se.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(Se.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Se.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Se.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,t){var n;this.media=t.media,!1===(null==(n=t.overrides)?void 0:n.cueRemoval)&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,t){this.media=null;!!t.transferMedia||(this.id3Track&&(this.removeCues&&sa(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if("metadata"===n.kind&&"id3"===n.label)return ia(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:i}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=Bl();if(o)for(let s=0;s<i.length;s++){const e=i[s].type;if(e===ho.emsg&&!n||!r)continue;const t=lo(i[s].data);if(t){const n=i[s].pts;let r=n+i[s].duration;r>Ol&&(r=Ol);r-n<=0&&(r=n+.25);for(let i=0;i<t.length;i++){const s=t[i];if(!co(s)){this.updateId3CueEnds(n,e);const t=Pl(o,n,r,s,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(e,t){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let i=r.length;i--;){const n=r[i];n.type===t&&n.startTime<e&&n.endTime===Ol&&(n.endTime=e)}}onBufferFlushing(e,t){let{startOffset:n,endOffset:r,type:i}=t;const{id3Track:o,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=s;if(o&&(a||l)){let e;e="audio"===i?e=>e.type===ho.audioId3&&l:"video"===i?e=>e.type===ho.emsg&&a:e=>e.type===ho.audioId3&&l||e.type===ho.emsg&&a,aa(o,n,r,e)}}onLevelUpdated(e,t){let{details:n}=t;this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:n}=this,{dateRanges:r}=e,i=Object.keys(r);let o=this.dateRangeCuesAppended;var s;if(n&&t)if(null!=(s=n.cues)&&s.length){const e=Object.keys(o).filter((e=>!i.includes(e)));for(let t=e.length;t--;){const r=e[t],i=o[r].cues;delete o[r],Object.keys(i).forEach((e=>{try{const t=i[e];t.removeEventListener("enter",this.onEventCueEnter),n.removeCue(t)}catch(Zl){}}))}}else o=this.dateRangeCuesAppended={};const a=e.fragments[e.fragments.length-1];if(0===i.length||!ye(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=Bl();for(let d=0;d<i.length;d++){const e=i[d],t=r[e],n=t.startTime,s=o[e],a=(null==s?void 0:s.cues)||{};let f=(null==s?void 0:s.durationKnown)||!1,h=Ol;const{duration:A,endDate:p}=t;if(p&&null!==A)h=n+A,f=!0;else if(t.endOnNext&&!f){const e=i.reduce(((e,n)=>{if(n!==t.id){const i=r[n];if(i.class===t.class&&i.startDate>t.startDate&&(!e||t.startDate<e.startDate))return i}return e}),null);e&&(h=e.startTime,f=!0)}const g=Object.keys(t.attr);for(let r=0;r<g.length;r++){const i=g[r];if("ID"===(u=i)||"CLASS"===u||"CUE"===u||"START-DATE"===u||"DURATION"===u||"END-DATE"===u||"END-ON-NEXT"===u)continue;const o=a[i];if(o)f&&!s.durationKnown?o.endTime=h:Math.abs(o.startTime-n)>.01&&(o.startTime=n,o.endTime=h);else if(l){let r=t.attr[i];gr(i)&&(c=r,r=Uint8Array.from(c.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const o=Pl(l,n,h,{key:i,data:r},ho.dateRange);o&&(o.id=e,this.id3Track.addCue(o),a[i]=o,this.hls.config.interstitialsController&&("X-ASSET-LIST"!==i&&"X-ASSET-URL"!==i||o.addEventListener("enter",this.onEventCueEnter)))}}o[e]={cues:a,dateRange:t,durationKnown:f}}var c,u}}class _l{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:e}=this,t=this.levelDetails;if(!e||!t)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:i}=this.config;if(!r||1===i||!t.live)return;const o=this.targetLatency;if(null===o)return;const s=n-o;if(s<Math.min(this.maxLatency,o+t.targetduration)&&s>.05&&this.forwardBufferLength>1){const t=Math.min(2,Math.max(1,i)),n=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20,r=Math.min(t,Math.max(1,n));this.changeMediaPlaybackRate(e,r)}else 1!==e.playbackRate&&0!==e.playbackRate&&this.changeMediaPlaybackRate(e,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return(null==(e=this.hls)?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(void 0!==e.liveMaxLatencyDuration)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(null===e||null===this.hls)return null;const{holdBack:t,partHoldBack:n,targetduration:r}=e,{liveSyncDuration:i,liveSyncDurationCount:o,lowLatencyMode:s}=this.config,a=this.hls.userConfig;let l=s&&n||t;(this._targetLatencyUpdated||a.liveSyncDuration||a.liveSyncDurationCount||0===l)&&(l=void 0!==i?i:o*r);const c=r;return l+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,c)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(null===e||null===t)return null;const n=this.levelDetails;if(null===n)return null;const r=n.edge,i=e-t-this.edgeStalled,o=r-n.totalduration,s=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),s)}get drift(){const e=this.levelDetails;return null===e?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(null===e)return 0;const t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Se.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Se.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Se.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Se.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,t){let{details:n}=t;n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var n;t.details===we.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&null!=(n=this.levelDetails)&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var n,r;e.playbackRate!==t&&(null==(n=this.hls)||n.logger.debug("[latency-controller]: latency=".concat(this.latency.toFixed(3),", targetLatency=").concat(null==(r=this.targetLatency)?void 0:r.toFixed(3),", forwardBufferLength=").concat(this.forwardBufferLength.toFixed(3),": adjusting playback rate from ").concat(e.playbackRate," to ").concat(t)),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return null===e?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}class Fl extends hs{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Se.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Se.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Se.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Se.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((e=>{e.loadError=0,e.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,r=[],i={},o={};let s=!1,a=!1,l=!1;t.levels.forEach((e=>{var t;const c=e.attrs;let{audioCodec:u,videoCodec:d}=e;u&&(e.audioCodec=u=Ht(u,n)||void 0),0===(null==(t=d)?void 0:t.indexOf("avc1"))&&(d=e.videoCodec=function(e){const t=e.split(",");for(let n=0;n<t.length;n++){const e=t[n].split(".");if(e.length>2){let r=e.shift()+".";r+=parseInt(e.shift()).toString(16),r+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t[n]=r}}return t.join(",")}(d));const{width:f,height:h,unknownCodecs:A}=e;let p=A?A.length:0;if(A)for(let n=p;n--;){const t=A[n];this.isAudioSupported(t)?(e.audioCodec=u=u?"".concat(u,",").concat(t):t,p--,_t.audio[u.substring(0,4)]=2):this.isVideoSupported(t)&&(e.videoCodec=d=d?"".concat(d,",").concat(t):t,p--,_t.video[d.substring(0,4)]=2)}if(s||(s=!(!f||!h)),a||(a=!!d),l||(l=!!u),p||u&&!this.isAudioSupported(u)||d&&!this.isVideoSupported(d))return void this.log('Some or all CODECS not supported "'.concat(c.CODECS,'"'));const{CODECS:g,"FRAME-RATE":m,"HDCP-LEVEL":v,"PATHWAY-ID":y,RESOLUTION:b,"VIDEO-RANGE":E}=c,C="".concat(y||".","-"),w="".concat(C).concat(e.bitrate,"-").concat(b,"-").concat(m,"-").concat(g,"-").concat(E,"-").concat(v);if(i[w])if(i[w].uri===e.url||e.attrs["PATHWAY-ID"])i[w].addGroupId("audio",c.AUDIO),i[w].addGroupId("text",c.SUBTITLES);else{const t=o[w]+=1;e.attrs["PATHWAY-ID"]=new Array(t+1).join(".");const n=this.createLevel(e);i[w]=n,r.push(n)}else{const t=this.createLevel(e);i[w]=t,o[w]=1,r.push(t)}})),this.filterAndSortMediaOptions(r,t,s,a,l)}createLevel(e){const t=new cn(e),n=e.supplemental;if(null!=n&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const e=new Error('SUPPLEMENTAL-CODECS not supported "'.concat(n.videoCodec,'"'));this.log(e.message),t.supportedResult=Zt(e,[])}return t}isAudioSupported(e){return Nt(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Nt(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,n,r,i){let o=[],s=[],a=e;if((n||r)&&i&&(a=a.filter((e=>{let{videoCodec:t,videoRange:n,width:r,height:i}=e;return(!!t||!(!r||!i))&&(!!(o=n)&&nn.indexOf(o)>-1);var o}))),0===a.length)return void Promise.resolve().then((()=>{if(this.hls){let e="no level with compatible codecs found in manifest",n=e;t.levels.length&&(n="one or more CODECS in variant not supported: ".concat(fn(t.levels.map((e=>e.attrs.CODECS)).filter(((e,t,n)=>n.indexOf(e)===t)))),this.warn(n),e+=" (".concat(n,")"));const r=new Error(e);this.hls.trigger(Se.ERROR,{type:Ce.MEDIA_ERROR,details:we.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:r,reason:n})}}));t.audioTracks&&(o=t.audioTracks.filter((e=>!e.audioCodec||this.isAudioSupported(e.audioCodec))),Nl(o)),t.subtitles&&(s=t.subtitles,Nl(s));const l=a.slice(0);a.sort(((e,t)=>{if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return nn.indexOf(e.videoRange)-nn.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){const n=Gt(e.videoCodec),r=Gt(t.videoCodec);if(n!==r)return r-n}if(e.uri===t.uri&&e.codecSet!==t.codecSet){const n=jt(e.codecSet),r=jt(t.codecSet);if(n!==r)return r-n}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));let c=l[0];if(this.steering&&(a=this.steering.filterParsedLevels(a),a.length!==l.length))for(let p=0;p<l.length;p++)if(l[p].pathwayId===a[0].pathwayId){c=l[p];break}this._levels=a;for(let p=0;p<a.length;p++)if(a[p]===c){var u;this._firstLevel=p;const e=c.bitrate,t=this.hls.bandwidthEstimate;if(this.log("manifest loaded, ".concat(a.length," level(s) found, first bitrate: ").concat(e)),void 0===(null==(u=this.hls.userConfig)?void 0:u.abrEwmaDefaultEstimate)){const n=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);n>t&&t===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=n)}break}const d=i&&!r,f=this.hls.config,h=!(!f.audioStreamController||!f.audioTrackController),A={levels:a,audioTracks:o,subtitleTracks:s,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:r,altAudio:h&&!d&&o.some((e=>!!e.url))};this.hls.trigger(Se.MANIFEST_PARSED,A)}get levels(){return 0===this._levels.length?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(0===t.length)return;if(e<0||e>=t.length){const n=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:n,reason:n.message}),r)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,i=r?r.attrs["PATHWAY-ID"]:void 0,o=t[e],s=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,n===e&&r&&i===s)return;this.log("Switching to level ".concat(e," (").concat(o.height?o.height+"p ":"").concat(o.videoRange?o.videoRange+" ":"").concat(o.codecSet?o.codecSet+" ":"","@").concat(o.bitrate,")").concat(s?" with Pathway "+s:""," from level ").concat(n).concat(i?" with Pathway "+i:""));const a={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(Se.LEVEL_SWITCHING,a);const l=o.details;if(!l||l.live){const e=this.switchParams(o.uri,null==r?void 0:r.details,l);this.loadPlaylist(e)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(void 0===this._startLevel){const e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),n=e.filter((e=>-1!==t.indexOf(e)));if(e.length<1)return void this.warn("pathwayPriority ".concat(e," should contain at least one pathway from list: ").concat(t));this.steering.pathwayPriority=n}}onError(e,t){!t.fatal&&t.context&&t.context.type===ke&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,t){let{frag:n}=t;if(void 0!==n&&n.type===Ie){const e=n.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return;const t=this._levels[n.level];null!=t&&t.loadError&&(this.log("Resetting level error count of ".concat(t.loadError," on frag buffered")),t.loadError=0)}}onLevelLoaded(e,t){var n;const{level:r,details:i}=t,o=t.levelInfo;var s;if(!o)return this.warn("Invalid level index ".concat(r)),void(null!=(s=t.deliveryDirectives)&&s.skip&&(i.deltaUpdateFailed=!0));if(o===this.currentLevel||t.withoutMultiVariant){0===o.fragmentError&&(o.loadError=0);let e=o.details;e===t.details&&e.advanced&&(e=void 0),this.playlistLoaded(r,t,e)}else null!=(n=t.deliveryDirectives)&&n.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=this.getUrlWithDirectives(e.uri,t),r=this.currentLevelIndex,i=e.attrs["PATHWAY-ID"],o=e.details,s=null==o?void 0:o.age;this.log("Loading level index ".concat(r).concat(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:"").concat(i?" Pathway "+i:"").concat(s&&o.live?" age "+s.toFixed(1)+(o.type?" "+o.type||0:""):""," ").concat(n)),this.hls.trigger(Se.LEVEL_LOADING,{url:n,level:r,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(1===this._levels.length)return;const n=this._levels.filter(((t,n)=>n!==e||(this.steering&&this.steering.removeLevel(t),t===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((e=>e.level=-1))),!1)));gi(n),this._levels=n,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const r=n.length-1;this._firstLevel=Math.min(this._firstLevel,r),this._startLevel&&(this._startLevel=Math.min(this._startLevel,r)),this.hls.trigger(Se.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,t){let{levels:n}=t;this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(Se.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function Nl(e){const t={};e.forEach((e=>{const n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function Ul(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ql(){if(!He())return!1;const e=Ul();return!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove}class Gl extends Mi{constructor(e,t,n){super(e,t,n,"stream-controller",Ie),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const e=this.media,t=e?e.currentTime:null;if(null===t||!ye(t))return;if(this.log("Media seeked to ".concat(t.toFixed(3))),!this.getBufferedFrag(t))return;const n=this.getFwdBufferInfoAtPos(e,t,Ie,0);null!==n&&0!==n.len?this.tick():this.warn("Main forward buffer length at ".concat(t,' on "seeked" event ').concat(n?n.len:"empty",")"))},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Se.LEVEL_LOADING,this.onLevelLoading,this),e.on(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Se.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Se.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Se.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Se.BUFFER_CREATED,this.onBufferCreated,this),e.on(Se.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Se.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Se.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Se.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Se.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Se.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Se.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Se.BUFFER_CREATED,this.onBufferCreated,this),e.off(Se.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Se.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Se.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let e=r.startLevel;-1===e&&(r.config.testBandwidth&&this.levels.length>1?(e=0,this.bitrateTest=!0):e=r.firstAutoLevel),r.nextLoadLevel=e,this.level=r.loadLevel,this._hasEnoughToStart=!!t}n>0&&-1===e&&!t&&(this.log("Override startPosition with lastCurrentTime @".concat(n.toFixed(3))),e=n),this.state=Si,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=wi}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Oi:{const{levels:e,level:t}=this,n=null==e?void 0:e[t],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(r))break;this.state=Si;break}if(this.hls.nextLoadLevel!==this.level){this.state=Si;break}break}case xi:{var e;const t=self.performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:e,level:t}=this,n=null==e?void 0:e[t];this.resetStartWhenNotLoaded(n||null),this.state=Si}}}this.state===Si&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),null!=(e=this.media)&&e.readyState&&!1===this.media.seeking&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:r}=this;if(null===t||!r&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const i=this.buffering?e.nextLoadLevel:e.loadLevel;if(null==n||!n[i])return;const o=n[i],s=this.getMainFwdBufferInfo();if(null===s)return;const a=this.getLevelDetails();if(a&&this._streamEnded(s,a)){const e={};return 2===this.altAudio&&(e.type="video"),this.hls.trigger(Se.BUFFER_EOS,e),void(this.state=Di)}if(!this.buffering)return;e.loadLevel!==i&&-1===e.manualLevel&&this.log("Adapting to level ".concat(i," from level ").concat(this.level)),this.level=e.nextLoadLevel=i;const l=o.details;if(!l||this.state===Oi||this.waitForLive(o))return this.level=i,this.state=Oi,void(this.startFragRequested=!1);const c=s.len,u=this.getMaxBufferLength(o.maxBitrate);if(c>=u)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:s.end;let f=this.getNextFragment(d,l);if(this.couldBacktrack&&!this.fragPrevious&&f&&it(f)&&this.fragmentTracker.getState(f)!==jn){var h;const e=(null!=(h=this.backtrackFragment)?h:f).sn-l.startSN,t=l.fragments[e-1];t&&f.cc===t.cc&&(f=t,this.fragmentTracker.removeFragment(t))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,d)){if(!f.gap){const e=this.audioOnly&&!this.altAudio?et:tt,t=(e===tt?this.videoBuffer:this.mediaBuffer)||this.media;t&&this.afterBufferFlushed(t,e,Ie)}f=this.getNextFragmentLoopLoading(f,l,s,Ie,u)}f&&(!f.initSegment||f.initSegment.data||this.bitrateTest||(f=f.initSegment),this.loadFragment(f,o,d))}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);r===Un||r===Gn?it(e)?this.bitrateTest?(this.log("Fragment ".concat(e.sn," of level ").concat(e.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,n):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Ie)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(null!=t&&t.readyState){let n;const r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const i=this.getLevelDetails();if(null!=i&&i.live){const e=this.getMainFwdBufferInfo();if(!e||e.len<2*i.targetduration)return}if(!t.paused&&e){const t=e[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*t.maxBitrate/(1e3*r)+1:0}else n=0;const o=this.getBufferedFrag(t.currentTime+n);if(o){const e=this.followingBufferedFrag(o);if(e){this.abortCurrentFrag();const t=e.maxStartPTS?e.maxStartPTS:e.start,n=e.duration,r=Math.max(o.end,t+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Ti:case ki:case xi:case Ii:case Ri:this.state=Si}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,2===this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;Ea(n,"playing",this.onMediaPlaying),Ea(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:n}=this;n&&(Ca(n,"playing",this.onMediaPlaying),Ca(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t);!!t.transferMedia||(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Se.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let n=!1,r=!1;t.levels.forEach((e=>{const t=e.audioCodec;t&&(n=n||-1!==t.indexOf("mp4a.40.2"),r=r||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=n&&r&&!function(){var e;const t=Ul();return"function"===typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==Si)return;const r=t.levelInfo;(!r.details||r.details.live&&(this.levelLastLoaded!==r||r.details.expired)||this.waitForCdnTuneIn(r.details))&&(this.state=Oi)}onLevelLoaded(e,t){var n;const{levels:r,startFragRequested:i}=this,o=t.level,s=t.details,a=s.totalduration;if(!r)return void this.warn("Levels were reset while loading level ".concat(o));this.log("Level ".concat(o," loaded [").concat(s.startSN,",").concat(s.endSN,"]").concat(s.lastPartSn?"[part-".concat(s.lastPartSn,"-").concat(s.lastPartIndex,"]"):"",", cc [").concat(s.startCC,", ").concat(s.endCC,"] duration:").concat(a));const l=t.levelInfo,c=this.fragCurrent;!c||this.state!==ki&&this.state!==xi||c.level!==t.level&&c.loader&&this.abortCurrentFrag();let u=0;if(s.live||null!=(n=l.details)&&n.live){var d;if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;u=this.alignPlaylists(s,l.details,null==(d=this.levelLastLoaded)?void 0:d.details)}if(l.details=s,this.levelLastLoaded=l,i||this.setStartPosition(s,u),this.hls.trigger(Se.LEVEL_UPDATED,{details:s,level:o}),this.state===Oi){if(this.waitForCdnTuneIn(s))return;this.state=Si}i&&s.live&&this.synchronizeToLiveEdge(s),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,i=this.getLoadPosition(),o=e.fragmentStart,s=e.edge,a=i>=o-t.maxFragLookUpTolerance&&i<=s;if(null!==r&&n.duration>r&&(i<r||!a)){const o=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!a&&n.readyState<4||i<s-o)&&(this._hasEnoughToStart||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: ".concat(i.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(s,", reset currentTime to : ").concat(r.toFixed(3))),n.currentTime=r))}}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:r,payload:i}=e,{levels:o}=this;if(!o)return void this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"));const s=o[n.level];if(!s)return void this.warn("Level ".concat(n.level," not found on progress"));const a=s.details;if(!a)return this.warn("Dropping fragment ".concat(n.sn," of level ").concat(n.level," after level details were reset")),void this.fragmentTracker.removeFragment(n);const l=s.videoCodec,c=a.PTSKnown||!a.live,u=null==(t=n.initSegment)?void 0:t.data,d=this._getAudioCodec(s),f=this.transmuxer=this.transmuxer||new fs(this.hls,Ie,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=r?r.index:-1,A=-1!==h,p=new or(n.level,n.sn,n.stats.chunkCount,i.byteLength,h,A),g=this.initPTS[n.cc];f.push(i,u,d,l,n,r,a.totalduration,c,p,g)}onAudioTrackSwitching(e,t){const n=this.hls,r=2===this.altAudio;if(bn(t.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const e=this.fragCurrent;e&&(this.log("Switching to main audio track, cancel main fragment load"),e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(r)return this.fragmentTracker.removeAllFragments(),n.once(Se.BUFFER_FLUSHED,(()=>{var e;null==(e=this.hls)||e.trigger(Se.AUDIO_TRACK_SWITCHED,t)})),void n.trigger(Se.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});n.trigger(Se.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=bn(t.url,this.hls);if(n){const e=this.videoBuffer;e&&this.mediaBuffer!==e&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,t){const n=t.tracks;let r,i,o=!1;for(const s in n){const e=n[s];if("main"===e.id){if(i=s,r=e,"video"===s){const e=n[s];e&&(this.videoBuffer=e.buffer)}}else o=!0}o&&r?(this.log("Alternate track found, use ".concat(i,".buffered to schedule main fragment loading")),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:r}=t,i=n.type===Ie;if(i){if(this.fragContextChanged(n))return this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===Ri&&(this.state=Si));const e=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*e.total/(e.buffering.end-e.loading.first)),it(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}const o=this.media;o&&(!this._hasEnoughToStart&&ar.getBuffered(o).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),i&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var n;if(t.fatal)this.state=Bi;else switch(t.details){case we.FRAG_GAP:case we.FRAG_PARSING_ERROR:case we.FRAG_DECRYPT_ERROR:case we.FRAG_LOAD_ERROR:case we.FRAG_LOAD_TIMEOUT:case we.KEY_LOAD_ERROR:case we.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ie,t);break;case we.LEVEL_LOAD_ERROR:case we.LEVEL_LOAD_TIMEOUT:case we.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Oi||(null==(n=t.context)?void 0:n.type)!==ke||(this.state=Si);break;case we.BUFFER_ADD_CODEC_ERROR:case we.BUFFER_APPEND_ERROR:if("main"!==t.parent)return;this.resetLoadingState();break;case we.BUFFER_FULL_ERROR:if("main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case we.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onFragLoadEmergencyAborted(){this.state=Si,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,t){let{type:n}=t;if(n!==et||!this.altAudio){const e=(n===tt?this.videoBuffer:this.mediaBuffer)||this.media;e&&(this.afterBufferFlushed(e,n,Ie),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,-1===this.level&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void this.log("could not seek to ".concat(n,", already seeking at ").concat(t));const r=this.timelineOffset;r&&n&&(n+=r);const i=this.getLevelDetails(),o=ar.getBuffered(e),s=o.length?o.start(0):0,a=s-n,l=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);a>0&&(a<l||this.loadingParts&&a<2*((null==i?void 0:i.partTarget)||0))&&(this.log("adjusting start position by ".concat(a," to match buffer start")),n+=a,this.startPosition=n),t<n&&(this.log("seek to target start position ".concat(n," from current time ").concat(t," buffer start ").concat(s)),e.currentTime=n)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then((e=>{const{hls:n}=this,r=null==e?void 0:e.frag;if(!r||this.fragContextChanged(r))return;t.fragmentError=0,this.state=Si,this.startFragRequested=!1,this.bitrateTest=!1;const i=r.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),n.trigger(Se.FRAG_LOADED,e),r.bitrateTest=!1}))}_handleTransmuxComplete(e){var t;const n=this.playlistType,{hls:r}=this,{remuxResult:i,chunkMeta:o}=e,s=this.getCurrentContext(o);if(!s)return void this.resetWhenMissingContext(o);const{frag:a,part:l,level:c}=s,{video:u,text:d,id3:f,initSegment:h}=i,{details:A}=c,p=this.altAudio?void 0:i.audio;if(this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else{if(this.state=Ii,h){if(null!=h&&h.tracks){const e=a.initSegment||a;this._bufferInitSegment(c,h.tracks,e,o),r.trigger(Se.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:n,tracks:h.tracks})}const e=h.initPTS,t=h.timescale;ye(e)&&(this.initPTS[a.cc]={baseTime:e,timescale:t},r.trigger(Se.INIT_PTS_FOUND,{frag:a,id:n,initPTS:e,timescale:t}))}if(u&&A){p&&"audiovideo"===u.type&&this.logMuxedErr(a);const e=A.fragments[a.sn-1-A.startSN],t=a.sn===A.startSN,n=!e||a.cc>e.cc;if(!1!==i.independent){const{startPTS:e,endPTS:r,startDTS:i,endDTS:s}=u;if(l)l.elementaryStreams[u.type]={startPTS:e,endPTS:r,startDTS:i,endDTS:s};else if(u.firstKeyFrame&&u.independent&&1===o.id&&!n&&(this.couldBacktrack=!0),u.dropped&&u.independent){const i=this.getMainFwdBufferInfo(),o=(i?i.end:this.getLoadPosition())+this.config.maxBufferHole,l=u.firstKeyFramePTS?u.firstKeyFramePTS:e;if(!t&&o<l-this.config.maxBufferHole&&!n)return void this.backtrack(a);n&&(a.gap=!0),a.setElementaryStreamInfo(u.type,a.start,r,a.start,s,!0)}else t&&e-(A.appliedTimelineOffset||0)>2&&(a.gap=!0);a.setElementaryStreamInfo(u.type,e,r,i,s),this.backtrackFragment&&(this.backtrackFragment=a),this.bufferFragmentData(u,a,l,o,t||n)}else{if(!t&&!n)return void this.backtrack(a);a.gap=!0}}if(p){const{startPTS:e,endPTS:t,startDTS:n,endDTS:r}=p;l&&(l.elementaryStreams[et]={startPTS:e,endPTS:t,startDTS:n,endDTS:r}),a.setElementaryStreamInfo(et,e,t,n,r),this.bufferFragmentData(p,a,l,o)}if(A&&null!=f&&null!=(t=f.samples)&&t.length){const e={id:n,frag:a,details:A,samples:f.samples};r.trigger(Se.FRAG_PARSING_METADATA,e)}if(A&&d){const e={id:n,frag:a,details:A,samples:d.samples};r.trigger(Se.FRAG_PARSING_USERDATA,e)}}}logMuxedErr(e){this.warn("".concat(it(e)?"Media":"Init"," segment with muxed audiovideo where only video expected: ").concat(e.url))}_bufferInitSegment(e,t,n,r){if(this.state!==Ii)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(n));const{audio:i,video:o,audiovideo:s}=t;if(i){let n=Yt(i.codec,e.audioCodec);"mp4a"===n&&(n="mp4a.40.5");const r=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){n&&(n=-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const e=i.metadata;e&&"channelCount"in e&&1!==(e.channelCount||1)&&-1===r.indexOf("firefox")&&(n="mp4a.40.5")}n&&-1!==n.indexOf("mp4a.40.5")&&-1!==r.indexOf("android")&&"audio/mpeg"!==i.container&&(n="mp4a.40.2",this.log("Android: force audio codec to ".concat(n))),e.audioCodec&&e.audioCodec!==n&&this.log('Swapping manifest audio codec "'.concat(e.audioCodec,'" for "').concat(n,'"')),i.levelCodec=n,i.id=Ie,this.log("Init audio buffer, container:".concat(i.container,", codecs[selected/level/parsed]=[").concat(n||"","/").concat(e.audioCodec||"","/").concat(i.codec,"]")),delete t.audiovideo}if(o){o.levelCodec=e.videoCodec,o.id=Ie;const n=o.codec;if(4===(null==n?void 0:n.length))switch(n){case"hvc1":case"hev1":o.codec="hvc1.1.6.L120.90";break;case"av01":o.codec="av01.0.04M.08";break;case"avc1":o.codec="avc1.42e01e"}this.log("Init video buffer, container:".concat(o.container,", codecs[level/parsed]=[").concat(e.videoCodec||"","/").concat(n,"]").concat(o.codec!==n?" parsed-corrected="+o.codec:"").concat(o.supplemental?" supplemental="+o.supplemental:"")),delete t.audiovideo}s&&(this.log("Init audiovideo buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(e.codecs,"/").concat(s.codec,"]")),delete t.video,delete t.audio);const a=Object.keys(t);if(a.length){if(this.hls.trigger(Se.BUFFER_CODECS,t),!this.hls)return;a.forEach((e=>{const i=t[e].initSegment;null!=i&&i.byteLength&&this.hls.trigger(Se.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})}))}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&2===this.altAudio?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Ie)}get maxBufferLength(){const{levels:e,level:t}=this,n=null==e?void 0:e[t];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Si}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&!1===e.seeking){const n=e.currentTime;if(ar.isBuffered(e,n)?t=this.getAppendedFrag(n):ar.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const e=this.fragPlaying,n=t.level;e&&t.sn===e.sn&&e.level===n||(this.fragPlaying=t,this.hls.trigger(Se.FRAG_CHANGED,{frag:t}),e&&e.level===n||this.hls.trigger(Se.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=(null==(e=this.media)?void 0:e.currentTime)||this.lastCurrentTime;return ye(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=(null==(e=this.media)?void 0:e.currentTime)||this.lastCurrentTime;if(ye(t)){const e=this.getLevelDetails(),n=this.currentFrag||(e?Cn(null,e.fragments,t):null);if(n){const e=n.programDateTime;if(null!==e){const r=e+1e3*(t-n.start);return new Date(r)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class jl{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){var t;if(e&&e!==(null==(t=r.context)?void 0:t.frag.type))return;r.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we.KEY_LOAD_ERROR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new rr({type:Ce.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:r})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=e;for(let e=0;e<t.length;e++){const i=t[e];if(r<=i.cc&&("initSegment"===n||"initSegment"===i.sn||n<i.sn)){this.emeController.selectKeySystemFormat(i).then((e=>{i.setKeyFormat(e)}));break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then((t=>this.loadInternal(e,t))):this.loadInternal(e)}loadInternal(e,t){var n,r;t&&e.setKeyFormat(t);const i=e.decryptdata;if(!i){const n=new Error(t?"Expected frag.decryptdata to be defined after setting format ".concat(t):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,we.KEY_LOAD_ERROR,n))}const o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,we.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(o,'"'))));let s=this.keyUriToKeyInfo[o];if(null!=(n=s)&&n.decryptdata.key)return i.key=s.decryptdata.key,Promise.resolve({frag:e,keyInfo:s});var a;if(null!=(r=s)&&r.keyLoadPromise)switch(null==(a=s.mediaKeySessionContext)?void 0:a.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return s.keyLoadPromise.then((t=>(i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:s})))}switch(s=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(s,e):this.loadKeyEME(s,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(s,e);default:return Promise.reject(this.createKeyLoadError(e,we.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(i.method,'"'))))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const t=this.emeController.loadKey(n);if(t)return(e.keyLoadPromise=t.then((t=>(e.mediaKeySessionContext=t,n)))).catch((t=>{throw e.keyLoadPromise=null,t}))}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,r=new(0,n.loader)(n);return t.keyLoader=e.loader=r,e.keyLoadPromise=new Promise(((i,o)=>{const s={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},a=n.keyLoadPolicy.default,l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,n,r)=>{const{frag:s,keyInfo:a,url:l}=n;if(!s.decryptdata||a!==this.keyUriToKeyInfo[l])return o(this.createKeyLoadError(s,we.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));a.decryptdata.key=s.decryptdata.key=new Uint8Array(e.data),s.keyLoader=null,a.loader=null,i({frag:s,keyInfo:a})},onError:(e,n,r,i)=>{this.resetLoader(n),o(this.createKeyLoadError(t,we.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(e.code," loading key ").concat(e.text)),r,Fe({url:s.url,data:void 0},e)))},onTimeout:(e,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(t,we.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(e,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(t,we.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(s,l,c)}))}resetLoader(e){const{frag:t,keyInfo:n,url:r}=e,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}function Wl(e){const{type:t}=e;switch(t){case xe:return Re;case Le:return De;default:return Ie}}function zl(e,t){let n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}class Hl{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Se.LEVEL_LOADING,this.onLevelLoading,this),e.on(Se.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Se.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(Se.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(Se.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Se.LEVEL_LOADING,this.onLevelLoading,this),e.off(Se.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Se.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(Se.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return this.loaders[e.type]=i,i}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Te,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:n,level:r,pathwayId:i,url:o,deliveryDirectives:s,levelInfo:a}=t;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:ke,url:o,deliveryDirectives:s,levelOrTrack:a})}onAudioTrackLoading(e,t){const{id:n,groupId:r,url:i,deliveryDirectives:o,track:s}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:xe,url:i,deliveryDirectives:o,levelOrTrack:s})}onSubtitleTrackLoading(e,t){const{id:n,groupId:r,url:i,deliveryDirectives:o,track:s}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:Le,url:i,deliveryDirectives:o,levelOrTrack:s})}onLevelsUpdated(e,t){const n=this.loaders[ke];if(n){const e=n.context;e&&!t.levels.some((t=>t===e.levelOrTrack))&&(n.abort(),delete this.loaders[ke])}}load(e){var t;const n=this.hls.config;let r,i=this.getInternalLoader(e);if(i){const t=this.hls.logger,n=i.context;if(n&&n.levelOrTrack===e.levelOrTrack&&(n.url===e.url||n.deliveryDirectives&&!e.deliveryDirectives))return void(n.url===e.url?t.log("[playlist-loader]: ignore ".concat(e.url," ongoing request")):t.log("[playlist-loader]: ignore ".concat(e.url," in favor of ").concat(n.url)));t.log("[playlist-loader]: aborting previous loader for type: ".concat(e.type)),i.abort()}if(r=e.type===Te?n.manifestLoadPolicy.default:Me({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),ye(null==(t=e.deliveryDirectives)?void 0:t.part)){let t;if(e.type===ke&&null!==e.level?t=this.hls.levels[e.level].details:e.type===xe&&null!==e.id?t=this.hls.audioTracks[e.id].details:e.type===Le&&null!==e.id&&(t=this.hls.subtitleTracks[e.id].details),t){const e=t.partTarget,n=t.targetduration;if(e&&n){const t=1e3*Math.max(3*e,.8*n);r=Me({},r,{maxTimeToFirstByteMs:Math.min(t,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(t,r.maxTimeToFirstByteMs)})}}}const o=r.errorRetry||r.timeoutRetry||{},s={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},a={onSuccess:(e,t,n,r)=>{const i=this.getInternalLoader(n);this.resetInternalLoader(n.type);const o=e.data;0===o.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),Kr.isMediaPlaylist(o)||n.type!==Te?this.handleTrackOrLevelPlaylist(e,t,n,r||null,i):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,new Error("no EXTM3U delimiter"),r||null,t)},onError:(e,t,n,r)=>{this.handleNetworkError(t,n,!1,e,r)},onTimeout:(e,t,n)=>{this.handleNetworkError(t,n,!0,void 0,e)}};i.load(e,s,a)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log("".concat(e?"auto":"force"," startLoad with configured startPosition ").concat(t)),this.hls.startLoad(t))}handleMasterPlaylist(e,t,n,r){const i=this.hls,o=e.data,s=zl(e,n),a=Kr.parseMasterPlaylist(o,s);if(a.playlistParsingError)return void this.handleManifestParsingError(e,n,a.playlistParsingError,r,t);const{contentSteering:l,levels:c,sessionData:u,sessionKeys:d,startTimeOffset:f,variableList:h}=a;this.variableList=h;const{AUDIO:A=[],SUBTITLES:p,"CLOSED-CAPTIONS":g}=Kr.parseMasterPlaylistMedia(o,s,a);if(A.length){A.some((e=>!e.url))||!c[0].audioCodec||c[0].attrs.AUDIO||(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),A.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new pr({}),bitrate:0,url:""}))}i.trigger(Se.MANIFEST_LOADED,{levels:c,audioTracks:A,subtitles:p,captions:g,contentSteering:l,url:s,stats:t,networkDetails:r,sessionData:u,sessionKeys:d,startTimeOffset:f,variableList:h})}handleTrackOrLevelPlaylist(e,t,n,r,i){const o=this.hls,{id:s,level:a,type:l}=n,c=zl(e,n),u=ye(a)?a:ye(s)?s:0,d=Wl(n),f=Kr.parseLevelPlaylist(e.data,c,u,d,0,this.variableList);if(l===Te){const e={attrs:new pr({}),bitrate:0,details:f,name:"",url:c};f.requestScheduled=t.loading.start+fi(f,0),o.trigger(Se.MANIFEST_LOADED,{levels:[e],audioTracks:[],url:c,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=f,this.handlePlaylistLoaded(f,e,t,n,r,i)}handleManifestParsingError(e,t,n,r,i){this.hls.trigger(Se.ERROR,{type:Ce.NETWORK_ERROR,details:we.MANIFEST_PARSING_ERROR,fatal:t.type===Te,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:i})}handleNetworkError(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="A network ".concat(n?"timeout":"error"+(r?" (status "+r.code+")":"")," occurred while loading ").concat(e.type);e.type===ke?o+=": ".concat(e.level," id: ").concat(e.id):e.type!==xe&&e.type!==Le||(o+=" id: ".concat(e.id,' group-id: "').concat(e.groupId,'"'));const s=new Error(o);this.hls.logger.warn("[playlist-loader]: ".concat(o));let a=we.UNKNOWN,l=!1;const c=this.getInternalLoader(e);switch(e.type){case Te:a=n?we.MANIFEST_LOAD_TIMEOUT:we.MANIFEST_LOAD_ERROR,l=!0;break;case ke:a=n?we.LEVEL_LOAD_TIMEOUT:we.LEVEL_LOAD_ERROR,l=!1;break;case xe:a=n?we.AUDIO_TRACK_LOAD_TIMEOUT:we.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case Le:a=n?we.SUBTITLE_TRACK_LOAD_TIMEOUT:we.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);const u={type:Ce.NETWORK_ERROR,details:a,fatal:l,url:e.url,loader:c,context:e,error:s,networkDetails:t,stats:i};if(r){const n=(null==t?void 0:t.url)||e.url;u.response=Fe({url:n,data:void 0},r)}this.hls.trigger(Se.ERROR,u)}handlePlaylistLoaded(e,t,n,r,i,o){const s=this.hls,{type:a,level:l,id:c,groupId:u,deliveryDirectives:d}=r,f=zl(t,r),h=Wl(r),A="number"===typeof r.level&&h===Ie?l:void 0;if(!e.fragments.length){const o=e.playlistParsingError=new Error("No Segments found in Playlist");return void s.trigger(Se.ERROR,{type:Ce.NETWORK_ERROR,details:we.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:o,reason:o.message,response:t,context:r,level:A,parent:h,networkDetails:i,stats:n})}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const p=e.playlistParsingError;if(p){if(this.hls.logger.warn(p),!s.config.ignorePlaylistParsingErrors)return void s.trigger(Se.ERROR,{type:Ce.NETWORK_ERROR,details:we.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:p,reason:p.message,response:t,context:r,level:A,parent:h,networkDetails:i,stats:n});e.playlistParsingError=null}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),a){case Te:case ke:s.trigger(Se.LEVEL_LOADED,{details:e,levelInfo:r.levelOrTrack||s.levels[0],level:A||0,id:c||0,stats:n,networkDetails:i,deliveryDirectives:d,withoutMultiVariant:a===Te});break;case xe:s.trigger(Se.AUDIO_TRACK_LOADED,{details:e,track:r.levelOrTrack,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case Le:s.trigger(Se.SUBTITLE_TRACK_LOADED,{details:e,track:r.levelOrTrack,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d})}}}class Yl{static get version(){return ji}static isMSESupported(){return Ql()}static isSupported(){return function(){if(!Ql())return!1;const e=He();return"function"===typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((t=>e.isTypeSupported(Qt(t,"video"))))||["mp4a.40.2","fLaC"].some((t=>e.isTypeSupported(Qt(t,"audio")))))}()}static getMediaSource(){return He()}static get Events(){return Se}static get MetadataSchema(){return ho}static get ErrorTypes(){return Ce}static get ErrorDetails(){return we}static get DefaultConfig(){return Yl.defaultConfig?Yl.defaultConfig:kl}static set DefaultConfig(e){Yl.defaultConfig=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Gi,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=function(e,t,n){const r=Ge();if("object"===typeof console&&!0===e||"object"===typeof e){const i=["debug","log","info","warn","error"];i.forEach((t=>{r[t]=je(t,e,n)}));try{r.log('Debug logs enabled for "'.concat(t,'" in hls.js version ',"1.6.2"))}catch(Zl){return Ge()}i.forEach((t=>{We[t]=je(t,e)}))}else Me(We,r);return r}(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=function(e,t,n){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=xl(e),i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((e=>{const o="".concat("level"===e?"playlist":e,"LoadPolicy"),s=void 0===t[o],a=[];i.forEach((n=>{const i="".concat(e,"Loading").concat(n),l=t[i];if(void 0!==l&&s){a.push(i);const e=r[o].default;switch(t[o]={default:e},n){case"TimeOut":e.maxLoadTimeMs=l,e.maxTimeToFirstByteMs=l;break;case"MaxRetry":e.errorRetry.maxNumRetry=l,e.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":e.errorRetry.retryDelayMs=l,e.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":e.errorRetry.maxRetryDelayMs=l,e.timeoutRetry.maxRetryDelayMs=l}}})),a.length&&n.warn('hls.js config: "'.concat(a.join('", "'),'" setting(s) are deprecated, use "').concat(o,'": ').concat(fn(t[o])))})),Fe(Fe({},r),t)}(Yl.DefaultConfig,e,t);this.userConfig=e,n.progressive&&Ll(n,t);const{abrController:r,bufferController:i,capLevelController:o,errorController:s,fpsController:a}=n,l=new s(this),c=this.abrController=new r(this),u=new Wn(this),d=n.interstitialsController,f=d?this.interstitialsController=new d(this,Yl):null,h=this.bufferController=new i(this,u),A=this.capLevelController=new o(this),p=new a(this),g=new Hl(this),m=n.contentSteeringController,v=m?new m(this):null,y=this.levelController=new Fl(this,v),b=new Ml(this),E=new jl(this.config),C=this.streamController=new Gl(this,u,E),w=this.gapController=new Il(this,u);A.setStreamController(C),p.setStreamController(C);const S=[g,y,C];f&&S.splice(1,0,f),v&&S.splice(1,0,v),this.networkControllers=S;const T=[c,h,w,A,p,b,u];this.audioTrackController=this.createController(n.audioTrackController,S);const k=n.audioStreamController;k&&S.push(this.audioStreamController=new k(this,u,E)),this.subtitleTrackController=this.createController(n.subtitleTrackController,S);const x=n.subtitleStreamController;x&&S.push(this.subtititleStreamController=new x(this,u,E)),this.createController(n.timelineController,T),E.emeController=this.emeController=this.createController(n.emeController,T),this.cmcdController=this.createController(n.cmcdController,T),this.latencyController=this.createController(_l,T),this.coreComponents=T,S.push(l);const L=l.onErrorOut;"function"===typeof L&&this.on(Se.ERROR,L,l),this.on(Se.MANIFEST_LOADED,g.onManifestLoaded,g)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,n)}once(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,n,r)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const t=e===Se.ERROR;this.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.INTERNAL_EXCEPTION,fatal:t,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(Se.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach((e=>e.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((e=>e.destroy())),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const t=new Error("attachMedia failed: invalid argument (".concat(e,")"));return void this.trigger(Se.ERROR,{type:Ce.OTHER_ERROR,details:we.ATTACH_MEDIA_ERROR,fatal:!0,error:t})}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,n=t?e.media:e,r=t?e:{media:n};this._media=n,this.trigger(Se.MEDIA_ATTACHING,r)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Se.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(Se.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,n=this._url,r=this._url=Je.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log("loadSource:".concat(r)),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(Se.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;this.logger.log("startLoad(".concat(e+(t?", <skip seek to start>":""),")")),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,t),this.started&&this.networkControllers);n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!this.started&&this.networkControllers);e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach((e=>{e.resumeBuffering&&e.resumeBuffering()})))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach((e=>{e.pauseBuffering&&e.pauseBuffering()})))}get inFlightFragments(){const e={[Ie]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Re]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[De]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=null==e?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=function(){try{return crypto.randomUUID()}catch(e){try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}}}()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log("set currentLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log("set nextLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log("set loadLevel:".concat(e)),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log("set firstLevel:".concat(e)),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log("set startLevel:".concat(e)),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log("set autoLevelCapping:".concat(e)),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){(function(e){return tn.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let r;if(r=-1===t&&null!=e&&e.length?e.length-1:t,n)for(let i=r;i--;){const t=e[i].attrs["HDCP-LEVEL"];if(t&&t<=n)return i}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return(null==(t=this.audioTrackController)?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return(null==(t=this.subtitleTrackController)?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!(null==(e=this.bufferController)||!e.bufferedToEnd)}get interstitialsManager(){var e;return(null==(e=this.interstitialsController)?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e){return en(e,An(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.allAudioTracks),navigator.mediaCapabilities)}}Yl.defaultConfig=void 0;var Vl=n(579);window.Hls=Yl;const Kl=e=>{let{streamId:n,autoplay:r=!0,width:i="100%",height:o="100%"}=e;const s=(0,t.useRef)(null),a=(0,t.useRef)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[f,h]=(0,t.useState)(""),[A,p]=(0,t.useState)(n||""),[g,m]=(0,t.useState)(!1),[v]=(0,t.useState)(Yl.isSupported()),[y,b]=(0,t.useState)("hls"),[E,C]=(0,t.useState)({hls:"unknown",webrtc:"unknown"}),[w,S]=(0,t.useState)(null),T=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let n=0;n<24;n++)t+=e.charAt(Math.floor(62*Math.random()));return h(t),t};(0,t.useEffect)((()=>()=>{if(s.current){try{s.current.remove()}catch(Jl){console.error("Error removing player:",Jl)}s.current=null}}),[]),(0,t.useEffect)((()=>{f||T()}),[f]),(0,t.useEffect)((()=>{if(!A||!a.current)return;const e=setTimeout((()=>{s.current||k()}),100);return()=>clearTimeout(e)}),[A,y]);const k=(0,t.useCallback)((async()=>{try{if(c(null),C({hls:"initializing",webrtc:"initializing"}),!a.current)return console.error("Player container not found"),void c("Player container not found");if(!A||""===A.trim())return void c("Stream ID is required");if(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(A)||console.warn("Stream ID does not appear to be a valid UUID format"),"undefined"===typeof ve()||!ve().create)return console.error("OvenPlayer is not properly loaded"),void c("Media player library not loaded properly");if(!window.Hls)return console.error("Hls.js is not properly loaded"),void c("HLS library not loaded properly");let t=[];if("auto"===y||"hls"===y){const n="http://localhost:8080/app/".concat(A,"/llhls.m3u8"),r=f?"".concat(n,"?token=").concat(f):n;try{new URL(r),t.push({type:"hls",file:r,label:"LL-HLS (Low Latency)"})}catch(e){return console.error("Invalid HLS URL constructed:",r,e),void c("Failed to construct valid HLS URL")}}if("auto"===y||"webrtc"===y){const n="ws://localhost:3333/app/".concat(A),r=f?"".concat(n,"?token=").concat(f):n;try{new URL(r),t.push({type:"webrtc",file:r,label:"WebRTC (Ultra-Low Latency)"})}catch(e){return console.error("Invalid WebRTC URL constructed:",r,e),void c("Failed to construct valid WebRTC URL")}}if(0===t.length)return void c("No valid streaming sources configured");if(console.log("Initializing player with sources:",t),console.log("Container element:",a.current),console.log("HLS support:",v?"Yes":"No"),console.log("Preferred protocol:",y),s.current)try{s.current.remove(),s.current=null}catch(Jl){console.error("Error removing existing player:",Jl)}try{s.current=ve().create(a.current,{sources:t,autoStart:r,controls:{visible:!0,showPlayButton:!0,showMuteButton:!0,showVolumeButton:!0,showFullscreenButton:!0,showSettingsButton:!0,showPlaybackRateButton:!1},showBigPlayButton:!0,showMediaTitle:!0,autoFallback:!0,webrtcConfig:{timeoutMaxRetry:3,connectionTimeout:1e4,iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}],maxVideoBitrate:2500,maxAudioBitrate:128,videoRecvCodec:"H264",preferredCodecProfile:"42e01f",iceTransportPolicy:"all",rtcConfiguration:{bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",encodedInsertableStreams:!1},forceTurn:!1,peerConnectionConfig:{sdpSemantics:"unified-plan"}},lowLatencyModeHls:!0,hlsConfig:{liveSyncDuration:1.5,liveMaxLatencyDuration:6,liveDurationInfinity:!0,enableWorker:!0,forceKeyFrameOnDiscontinuity:!0,appendErrorMaxRetry:3},mute:!1,volume:80,debug:!0})}catch(Jl){return console.error("Error creating player instance:",Jl),void c("Player creation error: ".concat(Jl.message||"Unknown error"))}C((e=>ge(ge({},e),{},{hls:"active",webrtc:"active"}))),s.current.on("error",(e=>{console.error("Player error:",e);let t="Unknown error";1002===e.code?(C((e=>ge(ge({},e),{},{webrtc:"failed"}))),t="WebRTC connection failed. Check if stream is active and WebRTC is properly configured."):1001===e.code?(C((e=>ge(ge({},e),{},{hls:"failed"}))),t="HLS playback failed. Check if stream is active and HLS endpoint is accessible."):e.message&&e.message.includes("404")?t="Stream not found. Make sure the stream is active and the Stream ID is correct.":e.message&&e.message.includes("Connection reset")?t="Connection reset by server. This may indicate a configuration issue or the stream is not available.":e.message&&(t=e.message),c("Playback error: ".concat(t))})),s.current.on("stateChanged",(e=>{if(console.log("Player state changed:",e),"playing"===e){const e=s.current.getProviderName();"html5"===e?C((e=>ge(ge({},e),{},{hls:"active"}))):"webrtc"===e&&C((e=>ge(ge({},e),{},{webrtc:"active"})))}})),s.current.on("sourceChanged",(e=>{console.log("Source changed to:",e),d(e.type),"hls"===e.type?C((e=>ge(ge({},e),{},{hls:"active",webrtc:"webrtc"===y?"failed":"inactive"}))):"webrtc"===e.type&&C((e=>ge(ge({},e),{},{webrtc:"active",hls:"hls"===y?"failed":"inactive"})))})),s.current.on("complete",(()=>{console.log("Stream ended")}))}catch(Jl){console.error("Error initializing player:",Jl),c("Failed to initialize player: ".concat(Jl.message||"Unknown error"))}}),[A,f,y,v,r]),x=()=>{if(s.current){try{s.current.remove()}catch(Jl){console.error("Error removing player during reload:",Jl)}s.current=null}setTimeout((()=>{k()}),100)},L=e=>{b(e),s.current&&x()};return(0,Vl.jsxs)("div",{style:{width:i,position:"relative"},children:[(0,Vl.jsxs)("div",{className:"stream-controls",style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f5f5f5",borderRadius:"5px"},children:[(0,Vl.jsx)("h3",{children:"Stream Configuration"}),(0,Vl.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Vl.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Stream ID:"}),(0,Vl.jsxs)("div",{style:{display:"flex"},children:[(0,Vl.jsx)("input",{type:"text",value:A,onChange:e=>p(e.target.value),style:{flex:1,padding:"8px",marginRight:"10px",borderRadius:"4px",border:"1px solid #ccc"}}),(0,Vl.jsx)("button",{onClick:()=>{const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return p(e),e},style:{padding:"8px 15px",backgroundColor:"#0078d7",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Generate"})]})]}),(0,Vl.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Vl.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Stream Key:"}),(0,Vl.jsxs)("div",{style:{display:"flex"},children:[(0,Vl.jsx)("input",{type:"text",value:f,readOnly:!0,style:{flex:1,padding:"8px",marginRight:"10px",borderRadius:"4px",border:"1px solid #ccc"}}),(0,Vl.jsx)("button",{onClick:T,style:{padding:"8px 15px",backgroundColor:"#0078d7",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Generate"})]})]}),(0,Vl.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Vl.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Preferred Protocol:"}),(0,Vl.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Vl.jsx)("button",{onClick:()=>L("auto"),style:{padding:"8px 15px",backgroundColor:"auto"===y?"#4CAF50":"#f1f1f1",color:"auto"===y?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Auto (Fallback)"}),(0,Vl.jsx)("button",{onClick:()=>L("webrtc"),style:{padding:"8px 15px",backgroundColor:"webrtc"===y?"#4CAF50":"#f1f1f1",color:"webrtc"===y?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"WebRTC Only"}),(0,Vl.jsx)("button",{onClick:()=>L("hls"),style:{padding:"8px 15px",backgroundColor:"hls"===y?"#4CAF50":"#f1f1f1",color:"hls"===y?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"HLS Only"})]})]}),(0,Vl.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Vl.jsx)("button",{onClick:x,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Reload Player"}),(0,Vl.jsx)("button",{onClick:async()=>{if(!A)return void S({available:!1,error:"No stream ID provided"});S({testing:!0});const e=await(async e=>{try{const t="http://localhost:8080/app/".concat(e,"/llhls.m3u8"),n=await fetch(t,{method:"HEAD",timeout:5e3});return n.ok?{available:!0,protocol:"hls"}:404===n.status?{available:!1,error:"Stream not found (404)"}:{available:!1,error:"HTTP ".concat(n.status)}}catch(l){return console.warn("Stream availability test failed:",l),{available:!1,error:l.message}}})(A);S(e)},style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Test Stream"}),(0,Vl.jsx)("button",{onClick:()=>m(!g),style:{padding:"10px 20px",backgroundColor:"#ff9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Hide Streaming Info":"Show Streaming Info"})]}),w&&(0,Vl.jsxs)("div",{style:{backgroundColor:w.testing?"#fff3cd":w.available?"#d4edda":"#f8d7da",padding:"10px",borderRadius:"4px",marginBottom:"10px",border:"1px solid ".concat(w.testing?"#ffeaa7":w.available?"#c3e6cb":"#f5c6cb")},children:[(0,Vl.jsx)("strong",{children:"Stream Status:"})," ",w.testing?"Testing...":w.available?"\u2713 Stream is available":"\u2717 ".concat(w.error||"Stream not available")]}),(0,Vl.jsxs)("div",{style:{backgroundColor:"#fff",padding:"10px",borderRadius:"4px",marginTop:"10px",border:"1px solid #ddd"},children:[(0,Vl.jsx)("h4",{style:{marginTop:0},children:"Protocol Status"}),(0,Vl.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,Vl.jsxs)("div",{style:{padding:"8px 12px",borderRadius:"4px",backgroundColor:"active"===E.webrtc?"#e6ffe6":"failed"===E.webrtc?"#ffe6e6":"#f9f9f9",border:"1px solid ".concat("active"===E.webrtc?"#4CAF50":"failed"===E.webrtc?"#ff6666":"#ddd")},children:[(0,Vl.jsx)("span",{style:{fontWeight:"bold"},children:"WebRTC:"})," ","active"===E.webrtc?"Active \u2713":"failed"===E.webrtc?"Failed \u2717":"initializing"===E.webrtc?"Initializing...":"Inactive"]}),(0,Vl.jsxs)("div",{style:{padding:"8px 12px",borderRadius:"4px",backgroundColor:"active"===E.hls?"#e6ffe6":"failed"===E.hls?"#ffe6e6":"#f9f9f9",border:"1px solid ".concat("active"===E.hls?"#4CAF50":"failed"===E.hls?"#ff6666":"#ddd")},children:[(0,Vl.jsx)("span",{style:{fontWeight:"bold"},children:"HLS:"})," ","active"===E.hls?"Active \u2713":"failed"===E.hls?"Failed \u2717":"initializing"===E.hls?"Initializing...":"Inactive"]})]})]}),g&&(0,Vl.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#fff",borderRadius:"5px",border:"1px solid #ddd"},children:[(0,Vl.jsx)("h4",{children:"Streaming Information"}),(0,Vl.jsxs)("p",{children:[(0,Vl.jsx)("strong",{children:"RTMP URL:"})," rtmp://localhost:1935/app"]}),(0,Vl.jsxs)("p",{children:[(0,Vl.jsx)("strong",{children:"Stream Name/Key:"})," ",A,"?token=",f]}),(0,Vl.jsxs)("p",{children:[(0,Vl.jsx)("strong",{children:"WebRTC URL:"})," ws://localhost:3333/app/",A,f?"?token=".concat(f):""]}),(0,Vl.jsxs)("p",{children:[(0,Vl.jsx)("strong",{children:"HLS URL:"})," /hls/app/",A,"/llhls.m3u8 (Proxied)"]}),(0,Vl.jsxs)("p",{children:[(0,Vl.jsx)("strong",{children:"Direct HLS URL:"})," http://localhost:8080/app/",A,"/llhls.m3u8",f?"?token=".concat(f):""]}),(0,Vl.jsxs)("div",{style:{marginTop:"15px"},children:[(0,Vl.jsx)("h4",{children:"OBS Setup"}),(0,Vl.jsxs)("ol",{style:{paddingLeft:"20px"},children:[(0,Vl.jsx)("li",{children:"Open OBS Studio"}),(0,Vl.jsx)("li",{children:"Go to Settings \u2192 Stream"}),(0,Vl.jsx)("li",{children:'Select "Custom..." as the service'}),(0,Vl.jsxs)("li",{children:["Set Server to: ",(0,Vl.jsx)("code",{children:"rtmp://localhost:1935/app"})]}),(0,Vl.jsxs)("li",{children:["Set Stream Key to:"," ",(0,Vl.jsxs)("code",{children:[A,"?token=",f]})]}),(0,Vl.jsx)("li",{children:'Click "OK" and then "Start Streaming"'})]})]}),(0,Vl.jsxs)("div",{style:{marginTop:"15px"},children:[(0,Vl.jsx)("h4",{children:"FFmpeg Command"}),(0,Vl.jsxs)("pre",{style:{backgroundColor:"#f9f9f9",padding:"10px",borderRadius:"4px",overflowX:"auto"},children:["ffmpeg -re -i [INPUT_FILE] -c:v libx264 -preset veryfast -tune zerolatency -c:a aac -ar 44100 -f flv rtmp://localhost:1935/app/",A,"?token=",f]})]})]})]}),(0,Vl.jsxs)("div",{className:"video-player-container",style:{width:"100%",height:"400px",position:"relative",backgroundColor:"#000"},children:[(0,Vl.jsx)("div",{ref:a,id:"player-container",style:{width:"100%",height:"100%"}}),l&&(0,Vl.jsxs)("div",{className:"player-error",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"10px 20px",borderRadius:"4px",textAlign:"center"},children:[l,(0,Vl.jsx)("button",{onClick:x,style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#0078d7",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"block",width:"100%"},children:"Try Again"})]}),u&&(0,Vl.jsx)("div",{className:"protocol-indicator",style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0,0,0,0.5)",color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"webrtc"===u?"WebRTC":"LL-HLS"})]})]})};function ql(){return(0,Vl.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[(0,Vl.jsx)("h1",{children:"Live Streaming Platform"}),(0,Vl.jsx)("p",{children:"Generate a stream ID and key, then use them to stream and watch content."}),(0,Vl.jsx)(Kl,{})]})}const Xl=function(){return(0,Vl.jsx)(ce,{children:(0,Vl.jsx)("div",{className:"App",children:(0,Vl.jsx)(se,{children:(0,Vl.jsx)(ie,{path:"/",element:(0,Vl.jsx)(ql,{})})})})})};i.createRoot(document.getElementById("root")).render((0,Vl.jsx)(t.StrictMode,{children:(0,Vl.jsx)(Xl,{})}))})()})();
//# sourceMappingURL=main.3d5a78f7.js.map